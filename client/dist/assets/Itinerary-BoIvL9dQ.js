import{h as Q,M as K,q as X,r as N,al as Z,j as e,H as ee,d as z,Y as te,aC as ae,a as se,c as F,F as U,aD as Y,aE as re,a3 as q,aq as G,m as ne,t as _,aF as le,J as oe,l as ie,a6 as de,a5 as ce,p as xe}from"./index-DQRB4LQk.js";const O=n=>{try{const{duration:i,selectedPlaces:u,budget:c="mid"}=n;if(console.log("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"),console.log("üéØ GENERATING ITINERARY"),console.log("üìÖ Requested Duration:",i,"days"),console.log("üìç Selected Places:",u.length),console.log("üí∞ Budget Level:",c),console.log("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"),!u||u.length===0)return console.error("No valid destinations selected"),null;const w=r=>{const g=(r.type||"").toLowerCase(),d=(r.activities||"").toLowerCase();return g.includes("trek")||d.includes("trek")?7:g.includes("adventure")||g.includes("natural")?4:(g.includes("cultural")||g.includes("religious")||g.includes("urban")||g.includes("city"),3)},k=u.reduce((r,g)=>r+w(g),0);let $=i;const l=[];u.forEach((r,g)=>{if(g===u.length-1)l.push(Math.max(1,$));else{const d=Math.max(1,Math.round(w(r)/k*i)),o=u.length-g-1,v=Math.min(d,$-o);l.push(Math.max(1,v)),$-=Math.max(1,v)}}),console.log("üìÖ Duration requested:",i),console.log("üìç Destinations:",u.length),console.log("üóìÔ∏è Days per destination:",l),console.log("‚úÖ Total days allocated:",l.reduce((r,g)=>r+g,0));let D=1;const m=[];u.forEach((r,g)=>{const d=l[g],o=r.activities?r.activities.split(",").map(h=>h.trim()).filter(h=>h):[],v=r.tags?r.tags.split(",").map(h=>h.trim()).filter(h=>h):[],B=()=>(r.type||"").toLowerCase().includes("trek")?c==="budget"?"Tea House Lodge":c==="luxury"?"Premium Mountain Lodge":"Mountain Lodge":c==="budget"?"Guesthouse":c==="luxury"?"Luxury Resort":"Mid-range Hotel";for(let h=0;h<d&&D<=i;h++){const j=[];h===0?(j.push({time:"10:00 - 12:00",activity:`Arrive in ${r.name} and check-in`,type:"logistics",description:`Settle into your ${B()} and get oriented`}),j.push({time:"14:00 - 17:00",activity:v[0]?`Explore ${v[0]}`:`${r.name} orientation walk`,type:"sightseeing",description:r.description||"Get your first taste of the local culture and atmosphere"}),j.push({time:"18:00 - 20:00",activity:"Welcome dinner and local cuisine",type:"dining",description:"Try authentic local dishes and plan upcoming days"})):h===d-1&&d>1?(j.push({time:"08:00 - 11:00",activity:o[h%o.length]||"Final exploration",type:"activity",description:"Last chance to experience the highlights"}),j.push({time:"11:30 - 13:00",activity:"Check-out and departure preparations",type:"logistics",description:"Pack up and prepare for next destination or departure"})):(j.push({time:"08:00 - 11:30",activity:v[h%v.length]||`${r.name} morning exploration`,type:"sightseeing",description:"Start the day with the most popular attractions"}),j.push({time:"13:00 - 17:00",activity:o[h%o.length]||"Cultural activities",type:"activity",description:r.description||"Immerse yourself in local experiences and adventures"}),j.push({time:"17:30 - 19:00",activity:v[(h+1)%v.length]||"Evening exploration",type:"sightseeing",description:"Discover more attractions in the golden hour"}),j.push({time:"19:30 - 21:00",activity:"Dinner and cultural experience",type:"dining",description:"Enjoy local cuisine and evening entertainment"}));const R=c==="budget"?35:c==="luxury"?120:65,I=c==="budget"?[6,10,12]:c==="luxury"?[15,25,35]:[8,15,20];m.push({day:D,destination:r.name,title:`Day ${D}: ${r.name}${h===0?" (Arrival)":h===d-1&&d>1?" (Departure)":""}`,activities:j,accommodation:B(),meals:[{meal:"Breakfast",cost:I[0],included:h>0},{meal:"Lunch",cost:I[1],included:!0},{meal:"Dinner",cost:I[2],included:!0}],dailyCost:R,transportation:r.transportation||"Local transport",highlights:`${r.type||"Destination"} - ${r.best_season||"Year-round"}`,tips:me(r,h,c),placeData:r}),D++}});const M=m.reduce((r,g)=>r+g.dailyCost,0),T=m.reduce((r,g)=>r+g.meals.reduce((d,o)=>d+(o.included?o.cost:0),0),0),S=Math.round(i*(c==="budget"?15:c==="luxury"?40:25)),P=Math.round(i*(c==="budget"?20:c==="luxury"?60:35)),A=M+T+S+P,L=m.length;L!==i?console.warn(`‚ö†Ô∏è Generated ${L} days but requested ${i} days`):console.log(`‚úÖ Successfully generated exactly ${i} days as requested`);const E={title:`${i}-Day ${u.map(r=>r.name).join(" & ")} Adventure`,duration:`${i} Days`,destinations:u.map(r=>r.name),budgetLevel:c,dailyPlan:m,costBreakdown:{accommodation:M,meals:T,transportation:S,activities:P,total:A},totalCost:A,createdAt:new Date().toLocaleDateString(),summary:ge(u,i,c)};return console.log("Generated comprehensive itinerary from database:",E),console.log(`üìä Final check: Requested ${i} days, Generated ${m.length} days`),E}catch(i){return console.error("Error in generateItinerary:",i),null}},me=(n,i,u)=>{const c=[`Best time to visit ${n.name} is ${n.best_season||"year-round"}`,"Don't forget to try the local specialties and traditional cuisine","Carry cash as many local vendors don't accept cards","Respect local customs and dress modestly when visiting religious sites","Stay hydrated and use sunscreen, especially at higher altitudes"];return n.difficulty_level&&c.push(`Difficulty level: ${n.difficulty_level} - plan accordingly`),u==="budget"?c.push("Look for local eateries and guesthouses for authentic experiences at lower costs"):u==="luxury"&&c.push("Consider hiring a private guide for personalized experiences"),c[i%c.length]},ge=(n,i,u)=>{const c=n.map(k=>k.name).join(", ");return`A ${i}-day ${u==="budget"?"budget-friendly":u==="luxury"?"luxury":"mid-range"} adventure through ${c}, featuring cultural immersion, natural beauty, and authentic Nepalese experiences.`},he=()=>{const{theme:n}=Q(),{showSuccess:i}=K(),u=X(),[c,w]=N.useState("create"),[k,$]=N.useState(!1),[l,D]=N.useState(null),[m,M]=N.useState([]),[T,S]=N.useState(!0),[P,A]=N.useState(!1),[L,E]=N.useState(!1),r=u.state?.preselectedDestination,g=u.state?.openTab,d=u.state?.userPreferences,[o,v]=N.useState({duration:d?.tripDuration?d.tripDuration==="1-3"?3:d.tripDuration==="4-7"?7:d.tripDuration==="8-14"?10:d.tripDuration==="15+"?14:7:7,destinations:[],activities:[],budget:"mid"});N.useEffect(()=>{d&&!P&&(console.log("‚úÖ User preferences received:",d),i("Preferences Applied",`Your trip preferences have been pre-filled: ${d.travellers} traveller(s), ${d.tripDuration} days, ${d.travelMonth||"any month"}`),A(!0))},[d,P,i]),N.useEffect(()=>{g&&!L&&(console.log("üéØ Opening requested tab:",g),setTimeout(()=>{w(g),console.log("‚úÖ Active tab set to:",g)},100),u.state?.fromDetailPage&&setTimeout(()=>{i("Travel Tips","Explore expert travel tips and local insights for Nepal destinations!"),E(!0)},500))},[g,u.state?.fromDetailPage,L,i]);const B=()=>{if(!l){alert("No itinerary to save!");return}try{const t=JSON.parse(localStorage.getItem("savedItineraries")||"[]"),a={...l,id:Date.now(),savedAt:new Date().toISOString()};t.push(a),localStorage.setItem("savedItineraries",JSON.stringify(t)),i("Itinerary Saved!","Your itinerary has been saved successfully. You can access it anytime from your saved itineraries.")}catch(t){console.error("Error saving itinerary:",t),alert("Failed to save itinerary. Please try again.")}},h=()=>{if(!l){alert("No itinerary to download!");return}try{let t=`
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                    NEPAL TRAVEL ITINERARY                      ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

${l.title}
${l.summary}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

TRIP DETAILS:
‚Ä¢ Duration: ${l.duration}
‚Ä¢ Budget Level: ${l.budgetLevel.charAt(0).toUpperCase()+l.budgetLevel.slice(1)}
‚Ä¢ Total Cost: $${l.totalCost}
‚Ä¢ Created: ${l.createdAt}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

DAILY ITINERARY:

`;l.dailyPlan.forEach(y=>{t+=`
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ${y.title.padEnd(62)} ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

üìç Destination: ${y.destination}
üí∞ Daily Cost: $${y.dailyCost+y.meals.reduce((f,p)=>f+(p.included?p.cost:0),0)}
üè® Accommodation: ${y.accommodation}
üöó Transportation: ${y.transportation}

ACTIVITIES:
${y.activities.map((f,p)=>`
  ${p+1}. ${f.time} - ${f.activity}
     ${f.description}
     [${f.type.toUpperCase()}]
`).join(`
`)}

MEALS:
${y.meals.map(f=>`  ‚Ä¢ ${f.meal}: $${f.cost} ${f.included?"‚úì":"‚úó"}`).join(`
`)}

üí° TIP: ${y.tips}

`}),t+=`
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

COST BREAKDOWN:

üè® Accommodation:     $${l.costBreakdown.accommodation}
üçΩÔ∏è  Meals:            $${l.costBreakdown.meals}
üöó Transportation:    $${l.costBreakdown.transportation}
üéØ Activities:        $${l.costBreakdown.activities}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üí∞ TOTAL:             $${l.costBreakdown.total}

Average per day: $${Math.round(l.totalCost/parseInt(l.duration))}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Generated by Roamio Wanderly - Your Nepal Travel Companion
Visit: http://localhost:5173

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
`;const a=new Blob([t],{type:"text/plain;charset=utf-8"}),s=window.URL.createObjectURL(a),x=document.createElement("a");x.href=s,x.download=`Nepal-Itinerary-${l.destinations.join("-").replace(/\s+/g,"-")}-${Date.now()}.txt`,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(s),i("Download Started!","Your itinerary is being downloaded as a text file.")}catch(t){console.error("Error downloading itinerary:",t),alert("Failed to download itinerary. Please try again.")}},j=async()=>{if(!l){alert("No itinerary to share!");return}const t=`Check out my ${l.duration} Nepal travel itinerary!

${l.title}

Destinations: ${l.destinations.join(", ")}
Budget: ${l.budgetLevel.charAt(0).toUpperCase()+l.budgetLevel.slice(1)}
Total Cost: $${l.totalCost}

${l.summary}

Plan your own trip at: http://localhost:5173/itinerary`;if(navigator.share)try{await navigator.share({title:l.title,text:t,url:window.location.href}),i("Shared!","Itinerary shared successfully!")}catch(a){a.name!=="AbortError"&&(console.error("Error sharing:",a),R(t))}else R(t)},R=t=>{navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(()=>{i("Copied to Clipboard!","Itinerary details copied. You can now paste and share it anywhere!")}).catch(a=>{console.error("Error copying to clipboard:",a),I(t)}):I(t)},I=t=>{const a=document.createElement("textarea");a.value=t,a.style.position="fixed",a.style.left="-999999px",document.body.appendChild(a),a.focus(),a.select();try{document.execCommand("copy"),i("Copied to Clipboard!","Itinerary details copied. You can now paste and share it anywhere!")}catch(s){console.error("Fallback copy failed:",s),alert("Failed to copy to clipboard. Please copy manually.")}document.body.removeChild(a)};N.useEffect(()=>{(async()=>{try{S(!0),console.log("üîÑ Fetching ALL places from backend...");const a=await fetch("http://localhost:8000/api/places?limit=all");if(!a.ok)throw new Error("Failed to fetch places");const s=await a.json();console.log("‚úÖ Successfully fetched places from database!"),console.log("üìä Total places in database:",s.total),console.log("üì¶ Places loaded:",s.places.length),console.log("üìã First 5 places:",s.places.slice(0,5).map(x=>({id:x.id,name:x.name}))),s.places.length===0?(console.warn("‚ö†Ô∏è No places found in database!"),i("Warning","No destinations found in database. Please check your backend.")):s.places.length<s.total&&console.warn(`‚ö†Ô∏è Only loaded ${s.places.length} out of ${s.total} places`),M(s.places||[])}catch(a){console.error("‚ùå Error fetching places:",a),i("Error","Failed to load destinations from database. Please check if backend is running.")}finally{S(!1),console.log("‚úÖ Loading places complete")}})()},[]),Z.useEffect(()=>{if(console.log("Itinerary component mounted"),console.log("Preselected destination:",r),console.log("Available places loaded:",m.length),r&&m.length>0&&!P){const a=(()=>{const s=r.name.toLowerCase().trim();if(r.id){const p=m.find(b=>b.id===r.id);if(p)return console.log("‚úÖ Found by exact ID match:",p.name),p}const x=m.find(p=>p.name.toLowerCase().trim()===s);if(x)return console.log("‚úÖ Found by exact name match:",x.name),x;const y=m.find(p=>p.name.toLowerCase().includes(s)||s.includes(p.name.toLowerCase()));if(y)return console.log("‚úÖ Found by partial match:",y.name),y;const f=s.split(/[\s,\-\(\)]+/)[0];if(f&&f.length>3){const p=m.find(b=>b.name.toLowerCase().includes(f));if(p)return console.log("‚úÖ Found by first word match:",p.name),p}return console.warn("‚ùå No match found for:",r.name),console.log("Available place names:",m.slice(0,10).map(p=>p.name)),null})();a?(v(s=>({...s,destinations:[a.id]})),i("Destination Added",`${a.name} has been added to your itinerary planner!`)):i("Destination Not Found",`"${r.name}" was not found in the database. Please select from available destinations.`),A(!0)}},[r,m,P,i]);const W=(t,a)=>{console.log(`Updating ${t} to:`,a),v(s=>({...s,[t]:a}))},V=t=>{console.log(`Toggling destination: ${t}`),v(a=>{const s=a.destinations.includes(t)?a.destinations.filter(x=>x!==t):[...a.destinations,t];return console.log("New destinations:",s),{...a,destinations:s}})},J=async()=>{if(o.destinations.length===0){alert("Please select at least one destination");return}console.log("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"),console.log("üéØ Generate My Itinerary clicked"),console.log("üìÖ Duration from formData:",o.duration,"days"),console.log("üìç Destinations:",o.destinations),console.log("üí∞ Budget:",o.budget),console.log("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"),$(!0);try{await new Promise(s=>setTimeout(s,2e3));const t=o.destinations.map(s=>m.find(x=>x.id===s)).filter(Boolean);console.log("üìç Selected places:",t.map(s=>s.name));const a=O({...o,selectedPlaces:t});a?(D(a),w("generated"),console.log("‚úÖ Itinerary generated successfully!")):(alert("Failed to generate itinerary. Please try again."),console.error("‚ùå Failed to generate itinerary"))}catch(t){console.error("Error generating itinerary:",t),alert("An error occurred while generating your itinerary. Please try again.")}finally{$(!1)}};return e.jsxs("div",{className:`min-h-screen ${n==="dark"?"bg-slate-900 text-white":"bg-gray-50 text-gray-900"}`,children:[e.jsx(ee,{}),e.jsxs("section",{className:"relative py-24 pt-32 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, #0f766e 0%, #0891b2 50%, #1e40af 100%)",animation:"gradientShift 15s ease infinite",backgroundSize:"200% 200%"}}),e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((t,a)=>e.jsx("div",{className:"absolute",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animation:`float ${10+Math.random()*10}s ease-in-out infinite`,animationDelay:`${Math.random()*5}s`,opacity:.1},children:a%4===0?e.jsx(z,{className:"text-white text-4xl"}):a%4===1?e.jsx(te,{className:"text-white text-3xl"}):a%4===2?e.jsx(ae,{className:"text-white text-3xl"}):e.jsx(se,{className:"text-white text-2xl"})},a))}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 text-center text-white",children:[e.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/10 backdrop-blur-md rounded-full px-8 py-4 mb-8 shadow-2xl",style:{animation:"slideDown 0.8s ease-out"},children:[e.jsx(F,{className:"text-teal-300 text-xl"}),e.jsx("span",{className:"font-bold text-lg",children:"Itinerary Generator"})]}),e.jsxs("h1",{className:"text-6xl md:text-7xl font-black mb-6 leading-tight",style:{animation:"fadeInUp 1s ease-out",textShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:["Plan Your Perfect",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-teal-200 via-cyan-200 to-blue-200 bg-clip-text text-transparent",children:"Nepal Adventure"})]}),e.jsx("p",{className:"text-xl md:text-2xl mb-10 max-w-3xl mx-auto leading-relaxed",style:{animation:"fadeInUp 1.2s ease-out",textShadow:"0 2px 10px rgba(0,0,0,0.2)"},children:"Generate detailed, day-by-day travel plans with real costs, activities, and insider tips"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-6",style:{animation:"fadeInUp 1.4s ease-out"},children:[{icon:U,text:"6 Destinations"},{icon:z,text:"Trek Planning"},{icon:Y,text:"Budget Tracking"},{icon:F,text:"Day-by-Day Plans"}].map((t,a)=>e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3",children:[e.jsx(t.icon,{className:"text-teal-300"}),e.jsx("span",{className:"font-semibold",children:t.text})]},a))})]})]}),e.jsx("section",{className:`${n==="dark"?"bg-slate-900":"bg-gray-50"} py-8`,children:e.jsx("div",{className:"max-w-5xl mx-auto px-6",children:e.jsx("div",{className:"grid grid-cols-3 gap-6",children:[{id:"create",label:"Create Plan",icon:re,color:"from-teal-500 to-cyan-500"},{id:"generated",label:"Your Itinerary",icon:F,show:l,color:"from-purple-500 to-pink-500"},{id:"tips",label:"Travel Tips",icon:q,color:"from-orange-500 to-red-500"}].filter(t=>t.show!==!1).map(t=>e.jsx("button",{onClick:()=>w(t.id),className:`relative p-8 rounded-3xl font-bold text-lg transition-all duration-300 ${c===t.id?`bg-gradient-to-br ${t.color} text-white shadow-2xl`:n==="dark"?"bg-slate-800 text-slate-300 hover:bg-slate-700":"bg-white text-gray-600 hover:bg-gray-100 shadow-lg"}`,children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center ${c===t.id?"bg-white/20":`bg-gradient-to-br ${t.color}`}`,children:e.jsx(t.icon,{className:`text-3xl ${c===t.id,"text-white"}`})}),e.jsx("span",{className:"text-center",children:t.label}),t.id==="generated"&&l&&e.jsx("span",{className:"absolute top-4 right-4 w-4 h-4 bg-green-400 rounded-full animate-pulse shadow-lg border-2 border-white"})]})},t.id))})})}),e.jsx("main",{className:"pb-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[c==="create"&&e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-5xl font-black mb-6 bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"Create Your Nepal Itinerary"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Build a personalized travel plan with detailed activities, costs, and recommendations"}),d&&e.jsxs("div",{className:`mt-8 p-6 rounded-2xl max-w-3xl mx-auto ${n==="dark"?"bg-gradient-to-r from-teal-900/30 to-cyan-900/30 border border-teal-500/30":"bg-gradient-to-r from-teal-50 to-cyan-50 border border-teal-200"}`,style:{animation:"slideDown 0.6s ease-out"},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-full flex items-center justify-center",children:e.jsx(G,{className:"text-white text-lg"})}),e.jsx("h3",{className:`text-lg font-bold ${n==="dark"?"text-white":"text-gray-900"}`,children:"Your Preferences Applied"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[e.jsxs("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${n==="dark"?"bg-slate-800 text-teal-400":"bg-white text-teal-600"}`,children:["üë• ",d.travellers," Traveller",d.travellers!=="1"?"s":""]}),e.jsxs("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${n==="dark"?"bg-slate-800 text-cyan-400":"bg-white text-cyan-600"}`,children:["üìÖ ",d.tripDuration," Days"]}),d.travelMonth&&e.jsxs("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${n==="dark"?"bg-slate-800 text-blue-400":"bg-white text-blue-600"}`,children:["üóìÔ∏è ",d.travelMonth]}),e.jsxs("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${n==="dark"?"bg-slate-800 text-purple-400":"bg-white text-purple-600"}`,children:["üéØ ",d.age," years old"]})]})]})]}),r&&e.jsxs("div",{className:`p-8 rounded-3xl mb-12 border-2 border-dashed shadow-2xl ${n==="dark"?"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-purple-500/40":"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-300/60"}`,style:{animation:"slideDown 0.6s ease-out"},children:[e.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center shadow-xl",children:e.jsx(G,{className:"text-white text-2xl"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-2xl font-black ${n==="dark"?"text-white":"text-gray-900"}`,children:"Destination Added to Your Plan"}),e.jsx("p",{className:`text-lg ${n==="dark"?"text-gray-300":"text-gray-600"}`,children:"We've pre-selected this destination based on your interest"})]})]}),e.jsx("div",{className:`p-6 rounded-2xl ${n==="dark"?"bg-slate-800/60":"bg-white/80"} backdrop-blur-sm shadow-lg`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(U,{className:"text-purple-500 text-2xl mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-bold text-xl ${n==="dark"?"text-white":"text-gray-900"} mb-2`,children:r.name}),e.jsx("p",{className:`text-sm ${n==="dark"?"text-gray-400":"text-gray-600"} mb-3`,children:r.location}),e.jsx("p",{className:`${n==="dark"?"text-gray-300":"text-gray-700"}`,children:r.description})]})]})}),e.jsx("div",{className:`mt-6 p-5 rounded-xl ${n==="dark"?"bg-blue-900/30":"bg-blue-50"} border ${n==="dark"?"border-blue-700/30":"border-blue-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:`text-sm ${n==="dark"?"text-blue-200":"text-blue-800"}`,children:["üí° ",e.jsx("strong",{children:"Tip:"})," Select additional destinations below or adjust trip duration for a comprehensive Nepal itinerary."]}),e.jsx("button",{onClick:async()=>{if(console.log("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"),console.log("üöÄ Quick Plan clicked"),console.log("üìä Available places:",m.length),console.log("üìç Preselected destination:",r),console.log("‚úÖ Current form destinations:",o.destinations),console.log("üìÖ Current form duration:",o.duration,"days"),console.log("üë§ User preferences:",d),console.log("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"),o.destinations.length>0){console.log("‚úÖ Using already selected destinations from form");const t=o.destinations.map(a=>{const s=m.find(x=>x.id===a);return console.log(`  Finding place with ID ${a}:`,s?s.name:"NOT FOUND"),s}).filter(Boolean);console.log("üìç Selected places:",t.map(a=>a.name)),t.length>0?($(!0),setTimeout(()=>{const a=O({...o,selectedPlaces:t});a?(D(a),w("generated"),console.log("‚úÖ Itinerary generated successfully!")):(alert("Failed to generate itinerary. Please try again."),console.error("‚ùå Failed to generate itinerary")),$(!1)},1500)):(alert("Selected destination not found. Please try selecting again."),console.error("‚ùå Selected places not found in availablePlaces"))}else if(r&&m.length>0){console.log("üîç Trying to find preselected destination..."),console.log("   Looking for:",r.name),console.log("   With ID:",r.id);const a=(()=>{const s=r.name.toLowerCase().trim();if(console.log("   Search name:",s),r.id){const b=m.find(C=>C.id===r.id);if(b)return console.log("‚úÖ Found by ID:",b.name),b}const x=m.find(b=>b.name.toLowerCase().trim()===s);if(x)return console.log("‚úÖ Found by exact name:",x.name),x;const y=m.find(b=>{const C=b.name.toLowerCase().trim();return C.includes(s)||s.includes(C)});if(y)return console.log("‚úÖ Found by contains:",y.name),y;const f=s.split(/[\s,\-\(\)]+/)[0];if(f&&f.length>3){const b=m.find(C=>C.name.toLowerCase().includes(f));if(b)return console.log("‚úÖ Found by first word:",b.name),b}const p=s.replace(/\(.*?\)/g,"").replace(/national park|temple|stupa|monastery|lake|mountain|mount|peak/gi,"").trim();if(p.length>3){const b=m.find(C=>{const H=C.name.toLowerCase().replace(/\(.*?\)/g,"").replace(/national park|temple|stupa|monastery|lake|mountain|mount|peak/gi,"").trim();return H.includes(p)||p.includes(H)});if(b)return console.log("‚úÖ Found by fuzzy match:",b.name),b}return console.error("‚ùå No match found!"),console.log("   Available place names (first 20):"),m.slice(0,20).forEach((b,C)=>{console.log(`   ${C+1}. ${b.name} (ID: ${b.id})`)}),null})();if(a){console.log("‚úÖ Match found! Generating itinerary...");const s={...o,destinations:[a.id]};v(s),$(!0),setTimeout(()=>{const y=O({...s,selectedPlaces:[a]});y?(D(y),w("generated"),console.log("‚úÖ Itinerary generated successfully!")):(alert("Failed to generate itinerary. Please try again."),console.error("‚ùå Failed to generate itinerary")),$(!1)},1500)}else console.error("‚ùå Could not find destination"),alert(`Could not find "${r.name}" in the database. Please select from available destinations below.`)}else console.warn("‚ö†Ô∏è No destination selected or places not loaded"),alert("Please wait for destinations to load or select a destination below.");console.log("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ")},disabled:k||T,className:"ml-4 px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-xl text-sm font-bold transition-all duration-300 whitespace-nowrap shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:k?"Generating...":T?"Loading...":"Quick Plan"})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:`p-10 rounded-3xl ${n==="dark"?"bg-gradient-to-br from-slate-800 to-slate-900":"bg-gradient-to-br from-white to-gray-50"} shadow-2xl border ${n==="dark"?"border-slate-700":"border-gray-200"} hover:shadow-3xl transition-all duration-300 transform hover:scale-105`,style:{animation:"fadeInUp 0.6s ease-out"},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-3xl flex items-center justify-center mx-auto mb-5 shadow-xl",children:e.jsx(ne,{className:"text-3xl text-white"})}),e.jsx("h3",{className:"text-2xl font-black mb-2",children:"Trip Duration"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"How long will you explore?"}),d&&e.jsxs("div",{className:`mt-3 inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold ${n==="dark"?"bg-teal-900/30 text-teal-400":"bg-teal-100 text-teal-700"}`,children:[e.jsx(G,{}),e.jsx("span",{children:"Pre-filled from your preferences"})]})]}),e.jsxs("select",{value:o.duration,onChange:t=>W("duration",parseInt(t.target.value)),className:`w-full p-4 rounded-xl border-2 font-semibold text-lg ${n==="dark"?"bg-slate-700 border-slate-600 text-white":"bg-white border-gray-300"} focus:ring-4 focus:ring-teal-500/30 transition-all`,children:[e.jsx("option",{value:3,children:"3 Days - Quick Escape"}),e.jsx("option",{value:5,children:"5 Days - Short Adventure"}),e.jsx("option",{value:7,children:"7 Days - One Week"}),e.jsx("option",{value:10,children:"10 Days - Extended Tour"}),e.jsx("option",{value:14,children:"14 Days - Full Experience"})]})]}),e.jsxs("div",{className:`p-10 rounded-3xl ${n==="dark"?"bg-gradient-to-br from-slate-800 to-slate-900":"bg-gradient-to-br from-white to-gray-50"} shadow-2xl border ${n==="dark"?"border-slate-700":"border-gray-200"} hover:shadow-3xl transition-all duration-300 transform hover:scale-105`,style:{animation:"fadeInUp 0.8s ease-out"},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 rounded-3xl flex items-center justify-center mx-auto mb-5 shadow-xl",children:e.jsx(U,{className:"text-3xl text-white"})}),e.jsx("h3",{className:"text-2xl font-black mb-2",children:"Destinations"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Select places to visit"})]}),e.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto custom-scrollbar",children:T?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_,{className:"animate-spin text-4xl mx-auto mb-4 text-teal-500"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading destinations from database..."})]}):m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 dark:text-red-400 font-bold mb-2",children:"‚ö†Ô∏è No destinations available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Please check if the backend is running and database is populated."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-center py-2 px-4 rounded-lg mb-4 ${n==="dark"?"bg-teal-900/30 text-teal-400":"bg-teal-50 text-teal-700"}`,children:e.jsxs("p",{className:"text-sm font-bold",children:["‚úÖ ",m.length," destinations loaded from database"]})}),m.map(t=>{const a=r&&(t.id===r.id||t.name.toLowerCase()===r.name.toLowerCase());return e.jsxs("label",{className:`flex items-center space-x-4 p-4 rounded-xl cursor-pointer transition-all duration-300 ${o.destinations.includes(t.id)?"bg-gradient-to-r from-teal-500/20 to-cyan-500/20 border-2 border-teal-500 shadow-lg":a?"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border-2 border-purple-400 shadow-md":n==="dark"?"bg-slate-700/50 hover:bg-slate-700 border-2 border-transparent":"bg-gray-100 hover:bg-gray-200 border-2 border-transparent"}`,children:[e.jsx("input",{type:"checkbox",checked:o.destinations.includes(t.id),onChange:()=>V(t.id),className:"w-5 h-5 text-teal-600 rounded-lg focus:ring-2 focus:ring-teal-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-lg",children:t.name}),a&&e.jsx("span",{className:"px-2 py-0.5 bg-purple-500 text-white text-xs rounded-full font-bold",children:"From Details"})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.location," ‚Ä¢ ",t.type||"Destination"]}),t.best_season&&e.jsxs("div",{className:"text-xs text-teal-600 dark:text-teal-400 mt-1",children:["Best: ",t.best_season]})]})]},t.id)})]})})]}),e.jsxs("div",{className:`p-10 rounded-3xl ${n==="dark"?"bg-gradient-to-br from-slate-800 to-slate-900":"bg-gradient-to-br from-white to-gray-50"} shadow-2xl border ${n==="dark"?"border-slate-700":"border-gray-200"} hover:shadow-3xl transition-all duration-300 transform hover:scale-105`,style:{animation:"fadeInUp 1s ease-out"},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-500 via-red-500 to-pink-500 rounded-3xl flex items-center justify-center mx-auto mb-5 shadow-xl",children:e.jsx(Y,{className:"text-3xl text-white"})}),e.jsx("h3",{className:"text-2xl font-black mb-2",children:"Budget Level"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Choose your comfort level"})]}),e.jsxs("select",{value:o.budget,onChange:t=>W("budget",t.target.value),className:`w-full p-4 rounded-xl border-2 font-semibold text-base ${n==="dark"?"bg-slate-700 border-slate-600 text-white":"bg-white border-gray-300"} focus:ring-4 focus:ring-orange-500/30 transition-all`,children:[e.jsx("option",{value:"budget",children:"üí∞ Budget ($30-60/day)"}),e.jsx("option",{value:"mid",children:"üè® Mid-range ($70-120/day)"}),e.jsx("option",{value:"luxury",children:"‚ú® Luxury ($130-250/day)"})]}),e.jsx("div",{className:`mt-6 p-4 rounded-xl ${n==="dark"?"bg-slate-700/50":"bg-gray-100"}`,children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[o.budget==="budget"&&"üéí Guesthouses, local transport, street food",o.budget==="mid"&&"üè® Hotels, private transport, restaurant meals",o.budget==="luxury"&&"‚ú® Resorts, private guides, premium experiences"]})})]})]}),e.jsxs("div",{className:"text-center mt-16",children:[e.jsx("button",{onClick:J,disabled:k||o.destinations.length===0,className:`px-16 py-6 rounded-3xl font-black text-xl transition-all duration-500 flex items-center gap-4 mx-auto shadow-2xl ${k||o.destinations.length===0?"bg-gray-400 cursor-not-allowed opacity-60":"bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 hover:from-teal-700 hover:via-cyan-700 hover:to-blue-700 text-white transform hover:scale-110 hover:shadow-3xl"}`,style:{animation:k?"pulse 2s ease-in-out infinite":"none"},children:k?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"animate-spin text-2xl"}),"Generating Your Perfect Itinerary..."]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"text-2xl"}),"Generate My Itinerary"]})}),o.destinations.length===0&&e.jsx("p",{className:"text-red-500 font-semibold text-base mt-4 animate-pulse",children:"‚ö†Ô∏è Please select at least one destination"}),e.jsxs("div",{className:`mt-8 p-6 rounded-2xl ${n==="dark"?"bg-slate-800/50":"bg-gray-100"} max-w-2xl mx-auto`,children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 mb-2",children:"Current Selection:"}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[e.jsxs("span",{className:"px-4 py-2 bg-teal-500/20 text-teal-600 dark:text-teal-400 rounded-full text-sm font-bold",children:[o.duration," Days"]}),e.jsxs("span",{className:"px-4 py-2 bg-purple-500/20 text-purple-600 dark:text-purple-400 rounded-full text-sm font-bold",children:[o.destinations.length," Destination",o.destinations.length!==1?"s":""]}),e.jsxs("span",{className:"px-4 py-2 bg-orange-500/20 text-orange-600 dark:text-orange-400 rounded-full text-sm font-bold",children:[o.budget.charAt(0).toUpperCase()+o.budget.slice(1)," Budget"]})]})]})]})]}),c==="generated"&&e.jsx("div",{className:"space-y-12",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("div",{className:"inline-block mb-6",children:e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-full flex items-center justify-center mx-auto shadow-2xl",children:e.jsx(G,{className:"text-4xl text-white"})})}),e.jsx("h2",{className:"text-5xl font-black mb-6 bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 bg-clip-text text-transparent",children:l.title}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-4 max-w-4xl mx-auto leading-relaxed",children:l.summary}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[e.jsxs("span",{className:"px-5 py-2 bg-teal-500/20 text-teal-600 dark:text-teal-400 rounded-full text-sm font-bold",children:["üìÖ ",l.createdAt]}),e.jsxs("span",{className:"px-5 py-2 bg-purple-500/20 text-purple-600 dark:text-purple-400 rounded-full text-sm font-bold",children:["üíé ",l.budgetLevel.charAt(0).toUpperCase()+l.budgetLevel.slice(1)]}),e.jsxs("span",{className:"px-5 py-2 bg-green-500/20 text-green-600 dark:text-green-400 rounded-full text-sm font-bold",children:["üí∞ $",l.totalCost," Total"]})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsxs("button",{onClick:B,className:"px-8 py-4 bg-gradient-to-r from-teal-600 to-cyan-600 text-white rounded-2xl font-bold flex items-center gap-3 hover:from-teal-700 hover:to-cyan-700 transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105",children:[e.jsx(le,{className:"text-lg"}),"Save Itinerary"]}),e.jsxs("button",{onClick:h,className:"px-8 py-4 border-2 border-gray-300 dark:border-gray-600 rounded-2xl font-bold flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(oe,{className:"text-lg"}),"Download PDF"]}),e.jsxs("button",{onClick:j,className:"px-8 py-4 border-2 border-gray-300 dark:border-gray-600 rounded-2xl font-bold flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(ie,{className:"text-lg"}),"Share"]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("h3",{className:"text-4xl font-black mb-10 text-center",children:"Daily Itinerary"}),l.dailyPlan.map((t,a)=>e.jsxs("div",{className:`p-10 rounded-3xl ${n==="dark"?"bg-gradient-to-br from-slate-800 to-slate-900":"bg-gradient-to-br from-white to-gray-50"} shadow-2xl border ${n==="dark"?"border-slate-700":"border-gray-200"} hover:shadow-3xl transition-all duration-300`,style:{animation:`fadeInUp ${.3+a*.1}s ease-out`},children:[e.jsx("div",{className:"flex items-center justify-between mb-8 pb-6 border-b-2 border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-600 via-cyan-600 to-blue-600 rounded-2xl flex items-center justify-center text-white font-black text-2xl shadow-xl",children:t.day}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-black mb-1",children:t.title}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 font-semibold",children:["üí∞ Daily Cost: $",t.dailyCost+t.meals.reduce((s,x)=>s+(x.included?x.cost:0),0)]}),t.highlights&&e.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 mt-2 font-semibold",children:["üåü ",t.highlights]})]})]})}),e.jsx("div",{className:"space-y-5 mb-8",children:t.activities.map((s,x)=>e.jsxs("div",{className:`flex items-start gap-5 p-6 rounded-2xl ${n==="dark"?"bg-slate-700/50":"bg-gray-100"} hover:shadow-lg transition-all duration-300`,children:[e.jsx("div",{className:"w-28 text-sm font-bold text-gray-600 dark:text-gray-400 flex-shrink-0 bg-white dark:bg-slate-800 px-3 py-2 rounded-lg",children:s.time}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-black text-lg text-gray-900 dark:text-white mb-2",children:s.activity}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:s.description}),e.jsx("span",{className:`inline-block px-4 py-2 rounded-xl text-xs font-bold ${s.type==="sightseeing"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":s.type==="activity"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":s.type==="logistics"?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300":s.type==="dining"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300"}`,children:s.type.toUpperCase()})]})]},x))}),t.tips&&e.jsxs("div",{className:"mb-8 p-6 rounded-2xl bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 border-l-4 border-blue-500 shadow-lg",children:[e.jsxs("h5",{className:"font-black text-blue-900 dark:text-blue-300 mb-3 flex items-center gap-3 text-lg",children:[e.jsx(q,{className:"text-xl"}),"Daily Tip"]}),e.jsx("p",{className:"text-blue-800 dark:text-blue-200 font-medium",children:t.tips})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:`p-6 rounded-2xl ${n==="dark"?"bg-slate-700/50":"bg-gray-100"}`,children:[e.jsxs("h5",{className:"font-black mb-4 flex items-center gap-3 text-lg",children:[e.jsx(de,{className:"text-blue-500 text-xl"}),"Accommodation"]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-semibold mb-2",children:t.accommodation}),e.jsxs("p",{className:"text-sm text-gray-500 font-bold",children:["$",t.dailyCost,"/night"]})]}),e.jsxs("div",{className:`p-6 rounded-2xl ${n==="dark"?"bg-slate-700/50":"bg-gray-100"}`,children:[e.jsxs("h5",{className:"font-black mb-4 flex items-center gap-3 text-lg",children:[e.jsx(ce,{className:"text-orange-500 text-xl"}),"Meals"]}),e.jsx("div",{className:"space-y-2",children:t.meals.map((s,x)=>e.jsxs("div",{className:"flex justify-between text-sm font-semibold",children:[e.jsx("span",{className:s.included?"text-gray-700 dark:text-gray-300":"text-gray-400 line-through",children:s.meal}),e.jsxs("span",{className:s.included?"text-gray-700 dark:text-gray-300":"text-gray-400 line-through",children:["$",s.cost]})]},x))})]}),t.transportation&&e.jsxs("div",{className:`p-6 rounded-2xl ${n==="dark"?"bg-slate-700/50":"bg-gray-100"}`,children:[e.jsxs("h5",{className:"font-black mb-4 flex items-center gap-3 text-lg",children:[e.jsx(F,{className:"text-green-500 text-xl"}),"Transportation"]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-semibold",children:t.transportation})]})]})]},t.day))]}),e.jsxs("div",{className:`p-10 rounded-3xl ${n==="dark"?"bg-gradient-to-br from-slate-800 to-slate-900":"bg-gradient-to-br from-white to-gray-50"} shadow-2xl border ${n==="dark"?"border-slate-700":"border-gray-200"}`,children:[e.jsxs("h3",{className:"text-3xl font-black mb-8 flex items-center gap-3",children:[e.jsx(Y,{className:"text-green-500 text-4xl"}),"Cost Breakdown"]}),l.costBreakdown&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:`flex justify-between p-5 rounded-2xl ${n==="dark"?"bg-slate-700/50":"bg-gray-100"}`,children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold text-lg",children:"üè® Accommodation"}),e.jsxs("span",{className:"font-black text-xl",children:["$",l.costBreakdown.accommodation]})]}),e.jsxs("div",{className:`flex justify-between p-5 rounded-2xl ${n==="dark"?"bg-slate-700/50":"bg-gray-100"}`,children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold text-lg",children:"üçΩÔ∏è Meals"}),e.jsxs("span",{className:"font-black text-xl",children:["$",l.costBreakdown.meals]})]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:`flex justify-between p-5 rounded-2xl ${n==="dark"?"bg-slate-700/50":"bg-gray-100"}`,children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold text-lg",children:"üöó Transportation"}),e.jsxs("span",{className:"font-black text-xl",children:["$",l.costBreakdown.transportation]})]}),e.jsxs("div",{className:`flex justify-between p-5 rounded-2xl ${n==="dark"?"bg-slate-700/50":"bg-gray-100"}`,children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold text-lg",children:"üéØ Activities & Tours"}),e.jsxs("span",{className:"font-black text-xl",children:["$",l.costBreakdown.activities]})]})]})]}),e.jsxs("div",{className:"border-t-2 border-gray-200 dark:border-gray-600 pt-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-3xl font-black",children:"Total Trip Cost"}),e.jsxs("span",{className:"text-4xl font-black bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:["$",l.totalCost]})]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 font-semibold text-lg",children:["Complete ",l.budgetLevel," package for ",l.duration.toLowerCase()," ‚Ä¢ Average $",Math.round(l.totalCost/parseInt(l.duration)),"/day per person"]})]})]})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-8 shadow-2xl",children:e.jsx(F,{className:"text-5xl text-white"})}),e.jsx("h3",{className:"text-4xl font-black mb-6",children:"No Itinerary Generated Yet"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-10 max-w-2xl mx-auto",children:'Create your first itinerary using the form in the "Create Plan" tab and start planning your dream Nepal adventure.'}),e.jsx("button",{onClick:()=>w("create"),className:"px-12 py-5 bg-gradient-to-r from-teal-600 to-cyan-600 text-white rounded-2xl font-black text-lg hover:from-teal-700 hover:to-cyan-700 transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105",children:"Create Itinerary Now"})]})}),c==="tips"&&e.jsxs("div",{className:"space-y-12",children:[console.log("üé® Rendering Travel Tips tab"),console.log("Available places:",m.length),console.log("Loading places:",T),e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-5xl font-black mb-6 bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"Nepal Travel Tips"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Essential advice and insider knowledge for your Nepal adventure"})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h3",{className:"text-3xl font-black mb-8 text-center",children:"General Travel Tips"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[{icon:"üóìÔ∏è",title:"Best Time to Visit",desc:"October to December and March to May offer the best weather conditions for most activities."},{icon:"üèîÔ∏è",title:"Altitude Considerations",desc:"Plan acclimatization days for high-altitude destinations to avoid altitude sickness."},{icon:"üéí",title:"Packing Essentials",desc:"Bring layers, comfortable hiking boots, sunscreen, and a good camera for stunning landscapes."},{icon:"üí∞",title:"Budget Planning",desc:"Budget $30-150 per day depending on accommodation level and activities chosen."},{icon:"üçú",title:"Local Cuisine",desc:"Try Dal Bhat, Momos, and Thukpa. Most restaurants cater to international tastes too."},{icon:"üì±",title:"Connectivity",desc:"Get a local SIM card for data. WiFi is available in most tourist areas."},{icon:"üè•",title:"Health & Safety",desc:"Carry basic medicines, drink bottled water, and have travel insurance."},{icon:"üôè",title:"Cultural Respect",desc:"Dress modestly at temples, remove shoes before entering, and ask before photographing people."}].map((t,a)=>e.jsxs("div",{className:`p-8 rounded-3xl ${n==="dark"?"bg-gradient-to-br from-slate-800 to-slate-900":"bg-gradient-to-br from-white to-gray-50"} shadow-2xl border ${n==="dark"?"border-slate-700":"border-gray-200"} hover:shadow-3xl transition-all duration-300 transform hover:scale-105`,style:{animation:`fadeInUp ${.3+a*.1}s ease-out`},children:[e.jsx("div",{className:"text-5xl mb-5",children:t.icon}),e.jsx("h3",{className:"text-2xl font-black mb-4",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed font-medium",children:t.desc})]},a))})]})]})]})}),e.jsx(xe,{})]})};export{he as default};
