import{C as W,u as P,q as H,h as T,r as x,j as e,H as y,p as N}from"./index-DQRB4LQk.js";function A(){const{placeId:g}=W(),h=P(),p=H(),{theme:t}=T(),[a,I]=x.useState(null),[F,f]=x.useState(!0),[k,b]=x.useState(null),[j,v]=x.useState(0),[w,$]=x.useState(null),[C,L]=x.useState(null),[u,M]=x.useState([]),[_,E]=x.useState(!1),B=p.state?.fromRecommendations,m=p.state?.preferences,S=()=>{B?h("/recommendation-results",{state:p.state}):h(-1)};x.useEffect(()=>{window.scrollTo(0,0)},[]),x.useEffect(()=>{const s=async()=>{try{f(!0),b(null),console.log(`Fetching details for place ID: ${g}`);const c=await fetch(`http://localhost:8000/api/places/${g}`);if(console.log(`Response status: ${c.status}`),!c.ok){const o=await c.text();throw console.error("Response error:",o),new Error(`Failed to fetch place details: ${c.status}`)}const i=await c.json();console.log("Response data:",i);let l;if(i.success&&i.place)l=i.place;else if(i.id&&i.name)l=i;else throw console.error("Invalid response format:",i),new Error("Invalid response format - missing place data");if(typeof l.tags=="string"&&(l.tags=l.tags.split(",").map(o=>o.trim()).filter(o=>o)),typeof l.activities=="string"&&(l.activities=l.activities.split(",").map(o=>o.trim()).filter(o=>o)),!l.images||l.images.length===0)if(l.image_url){const o=l.image_url.replace(/\\/g,"/");o.startsWith("/datasets/")?l.images=[o]:o.startsWith("destination_images/")?l.images=[`/datasets/${o}`]:l.images=[`/datasets/destination_images/${o}`]}else l.images=[];l.hotels=l.hotels||[],l.restaurants=l.restaurants||[],l.events=l.events||[],console.log("Place images:",l.images),console.log("Hotels:",l.hotels.length),console.log("Restaurants:",l.restaurants.length),console.log("Events:",l.events.length),I(l),console.log("âœ… Place data loaded successfully"),n(g)}catch(c){console.error("Error fetching place details:",c),b(c.message)}finally{f(!1)}},n=async c=>{try{E(!0),console.log(`ðŸ” Fetching similar places for place ID: ${c}`);const i=await fetch(`http://localhost:8000/api/places/${c}/similar?limit=6`);if(console.log(`Similar places response status: ${i.status}`),i.ok){const l=await i.json();console.log("Similar places data:",l),l.success&&l.similar_places?(M(l.similar_places),console.log(`âœ… Loaded ${l.similar_places.length} similar places`)):console.log("âš ï¸ No similar places found in response")}else console.error(`âŒ Failed to fetch similar places: ${i.status}`)}catch(i){console.error("Error fetching similar places:",i)}finally{E(!1)}};g?s():(b("No place ID provided"),f(!1))},[g]);const R=({hotel:s,onClose:n})=>{const[c,i]=x.useState(0),l=()=>{s.images&&s.images.length>0&&i(r=>(r+1)%s.images.length)},o=()=>{s.images&&s.images.length>0&&i(r=>(r-1+s.images.length)%s.images.length)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:n,children:e.jsxs("div",{className:`relative max-w-4xl w-full max-h-[90vh] overflow-y-auto rounded-2xl shadow-2xl ${t==="dark"?"bg-slate-800":"bg-white"}`,onClick:r=>r.stopPropagation(),children:[e.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-10 w-10 h-10 flex items-center justify-center rounded-full bg-black/50 hover:bg-black/70 text-white transition-all",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.images&&s.images.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"h-96 relative group",children:[e.jsx("img",{src:`http://localhost:8000${s.images[c]}`,alt:s.name,className:"w-full h-full object-cover",onError:r=>r.target.style.display="none"}),s.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:o,className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 flex items-center justify-center rounded-full bg-black/50 hover:bg-black/70 text-white transition-all opacity-0 group-hover:opacity-100",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:l,className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 flex items-center justify-center rounded-full bg-black/50 hover:bg-black/70 text-white transition-all opacity-0 group-hover:opacity-100",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-1 rounded-full bg-black/50 text-white text-sm",children:[c+1," / ",s.images.length]})]})]}),s.images.length>1&&e.jsx("div",{className:"p-4 flex gap-2 overflow-x-auto bg-black/5",children:s.images.map((r,d)=>e.jsx("button",{onClick:()=>i(d),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${c===d?"border-teal-500 scale-105":"border-transparent opacity-60 hover:opacity-100"}`,children:e.jsx("img",{src:`http://localhost:8000${r}`,alt:`${s.name} ${d+1}`,className:"w-full h-full object-cover"})},d))})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:`text-3xl font-bold mb-2 ${t==="dark"?"text-white":"text-gray-900"}`,children:s.name}),e.jsxs("p",{className:`text-lg flex items-center gap-2 mb-3 ${t==="dark"?"text-slate-400":"text-gray-600"}`,children:[e.jsx("span",{children:"ðŸ“"}),e.jsx("span",{children:s.location})]}),e.jsx("div",{className:`inline-block px-4 py-2 rounded-lg ${t==="dark"?"bg-teal-900/30 text-teal-400":"bg-teal-50 text-teal-700"}`,children:e.jsxs("span",{className:"font-semibold text-lg",children:["ðŸ’° ",s.price_range||"Price not available"]})})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("span",{className:"text-yellow-500 text-2xl",children:"â­"}),e.jsx("span",{className:`text-2xl font-bold ${t==="dark"?"text-white":"text-gray-900"}`,children:s.rating?.toFixed(1)})]})]}),s.description&&e.jsx("p",{className:`text-lg mb-4 leading-relaxed ${t==="dark"?"text-slate-300":"text-gray-700"}`,children:s.description}),s.tags&&e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.split(",").map((r,d)=>e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${t==="dark"?"bg-slate-700 text-slate-300":"bg-gray-100 text-gray-700"}`,children:r.trim()},d))})]})]})})},D=({restaurant:s,onClose:n})=>{const[c,i]=x.useState(0),l=()=>{s.images&&s.images.length>0&&i(r=>(r+1)%s.images.length)},o=()=>{s.images&&s.images.length>0&&i(r=>(r-1+s.images.length)%s.images.length)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:n,children:e.jsxs("div",{className:`relative max-w-4xl w-full max-h-[90vh] overflow-y-auto rounded-2xl shadow-2xl ${t==="dark"?"bg-slate-800":"bg-white"}`,onClick:r=>r.stopPropagation(),children:[e.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-10 w-10 h-10 flex items-center justify-center rounded-full bg-black/50 hover:bg-black/70 text-white transition-all",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.images&&s.images.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"h-96 relative group",children:[e.jsx("img",{src:`http://localhost:8000${s.images[c]}`,alt:s.name,className:"w-full h-full object-cover",onError:r=>r.target.style.display="none"}),s.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:o,className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 flex items-center justify-center rounded-full bg-black/50 hover:bg-black/70 text-white transition-all opacity-0 group-hover:opacity-100",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:l,className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 flex items-center justify-center rounded-full bg-black/50 hover:bg-black/70 text-white transition-all opacity-0 group-hover:opacity-100",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-1 rounded-full bg-black/50 text-white text-sm",children:[c+1," / ",s.images.length]})]})]}),s.images.length>1&&e.jsx("div",{className:"p-4 flex gap-2 overflow-x-auto bg-black/5",children:s.images.map((r,d)=>e.jsx("button",{onClick:()=>i(d),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${c===d?"border-emerald-500 scale-105":"border-transparent opacity-60 hover:opacity-100"}`,children:e.jsx("img",{src:`http://localhost:8000${r}`,alt:`${s.name} ${d+1}`,className:"w-full h-full object-cover"})},d))})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:`text-3xl font-bold mb-2 ${t==="dark"?"text-white":"text-gray-900"}`,children:s.name}),e.jsxs("p",{className:`text-lg flex items-center gap-2 mb-3 ${t==="dark"?"text-slate-400":"text-gray-600"}`,children:[e.jsx("span",{children:"ðŸ“"}),e.jsx("span",{children:s.location})]}),e.jsx("div",{className:`inline-block px-4 py-2 rounded-lg ${t==="dark"?"bg-emerald-900/30 text-emerald-400":"bg-emerald-50 text-emerald-700"}`,children:e.jsxs("span",{className:"font-semibold text-lg",children:["ðŸ’° ",s.price_range||"Price not available"]})})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("span",{className:"text-yellow-500 text-2xl",children:"â­"}),e.jsx("span",{className:`text-2xl font-bold ${t==="dark"?"text-white":"text-gray-900"}`,children:s.rating?.toFixed(1)})]})]}),s.description&&e.jsx("p",{className:`text-lg mb-4 leading-relaxed ${t==="dark"?"text-slate-300":"text-gray-700"}`,children:s.description}),s.tags&&e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.split(",").map((r,d)=>e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${t==="dark"?"bg-slate-700 text-slate-300":"bg-gray-100 text-gray-700"}`,children:r.trim()},d))})]})]})})};return F?e.jsxs("div",{className:`min-h-screen flex flex-col ${t==="dark"?"bg-slate-900":"bg-gray-50"}`,children:[e.jsx(y,{}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:t==="dark"?"text-slate-300":"text-gray-600",children:"Loading place details..."})]})}),e.jsx(N,{})]}):k||!a?e.jsxs("div",{className:`min-h-screen flex flex-col ${t==="dark"?"bg-slate-900":"bg-gray-50"}`,children:[e.jsx(y,{}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ˜•"}),e.jsx("p",{className:`text-lg mb-4 ${t==="dark"?"text-slate-300":"text-gray-600"}`,children:k||"Place not found"}),e.jsx("button",{onClick:S,className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Go Back"})]})}),e.jsx(N,{})]}):e.jsxs("div",{className:`min-h-screen flex flex-col ${t==="dark"?"bg-slate-900":"bg-gray-50"}`,children:[e.jsx(y,{}),e.jsxs("div",{className:"flex-1 max-w-7xl mx-auto px-4 pt-24 pb-8 w-full",children:[a.images&&a.images.length>0&&e.jsxs("div",{className:`rounded-2xl overflow-hidden shadow-xl mb-8 ${t==="dark"?"bg-slate-800":"bg-white"}`,children:[e.jsxs("div",{className:"h-96 relative group",children:[e.jsx("img",{src:`http://localhost:8000${a.images[j]}`,alt:a.name,className:"w-full h-full object-cover",onError:s=>{s.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"/>',s.target.style.display="none"}}),a.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>v(s=>(s-1+a.images.length)%a.images.length),className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 flex items-center justify-center rounded-full bg-black/50 hover:bg-black/70 text-white transition-all opacity-0 group-hover:opacity-100",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:()=>v(s=>(s+1)%a.images.length),className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 flex items-center justify-center rounded-full bg-black/50 hover:bg-black/70 text-white transition-all opacity-0 group-hover:opacity-100",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-1 rounded-full bg-black/50 text-white text-sm",children:[j+1," / ",a.images.length]})]})]}),a.images.length>1&&e.jsx("div",{className:"p-4 flex gap-2 overflow-x-auto",children:a.images.map((s,n)=>e.jsx("button",{onClick:()=>v(n),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${j===n?"border-teal-500 scale-105":"border-transparent opacity-60 hover:opacity-100"}`,children:e.jsx("img",{src:`http://localhost:8000${s}`,alt:`${a.name} ${n+1}`,className:"w-full h-full object-cover"})},n))})]}),e.jsxs("div",{className:`rounded-2xl shadow-xl p-8 mb-8 ${t==="dark"?"bg-slate-800":"bg-white"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-4xl font-bold mb-2 ${t==="dark"?"text-white":"text-gray-900"}`,children:a.name}),e.jsxs("p",{className:`text-lg flex items-center gap-2 ${t==="dark"?"text-slate-400":"text-gray-600"}`,children:[e.jsx("span",{children:"ðŸ“"}),e.jsx("span",{children:a.location})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-500 text-2xl",children:"â­"}),e.jsx("span",{className:`text-2xl font-bold ${t==="dark"?"text-white":"text-gray-900"}`,children:a.rating?.toFixed(1)})]})]}),a.tags&&a.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.tags.map((s,n)=>e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${t==="dark"?"bg-slate-700 text-slate-300":"bg-gray-100 text-gray-700"}`,children:s.trim()},n))}),e.jsx("p",{className:`text-lg mb-6 leading-relaxed ${t==="dark"?"text-slate-300":"text-gray-700"}`,children:a.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[e.jsxs("button",{onClick:()=>h("/itinerary",{state:{preselectedDestination:{id:a.id,name:a.name,location:a.location,description:a.description,type:a.type,best_season:a.best_season,activities:a.activities,difficulty_level:a.difficulty_level,transportation:a.transportation},userPreferences:m?{travellers:m.travellers,tripDuration:m.tripDuration,travelMonth:m.travelMonth,age:m.age,tripTypes:m.tripTypes}:null}}),className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 text-white rounded-xl font-semibold hover:from-teal-700 hover:to-cyan-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“…"}),e.jsx("span",{children:"Plan Itinerary"})]}),e.jsxs("button",{onClick:S,className:`px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl flex items-center gap-2 ${t==="dark"?"bg-slate-700 text-white hover:bg-slate-600":"bg-white text-gray-900 border border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("span",{children:"â†"}),e.jsx("span",{children:"Back"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.best_season&&e.jsxs("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-slate-900":"bg-gray-50"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸŒ¤ï¸"}),e.jsx("div",{className:`text-sm ${t==="dark"?"text-slate-400":"text-gray-600"}`,children:"Best Season"}),e.jsx("div",{className:`font-semibold ${t==="dark"?"text-white":"text-gray-900"}`,children:a.best_season})]}),a.difficulty_level&&e.jsxs("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-slate-900":"bg-gray-50"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ’ª"}),e.jsx("div",{className:`text-sm ${t==="dark"?"text-slate-400":"text-gray-600"}`,children:"Difficulty Level"}),e.jsx("div",{className:`font-semibold ${t==="dark"?"text-white":"text-gray-900"}`,children:a.difficulty_level})]}),a.province&&e.jsxs("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-slate-900":"bg-gray-50"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ—ºï¸"}),e.jsx("div",{className:`text-sm ${t==="dark"?"text-slate-400":"text-gray-600"}`,children:"Province"}),e.jsx("div",{className:`font-semibold ${t==="dark"?"text-white":"text-gray-900"}`,children:a.province})]}),a.accessibility&&e.jsxs("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-slate-900":"bg-gray-50"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸš—"}),e.jsx("div",{className:`text-sm ${t==="dark"?"text-slate-400":"text-gray-600"}`,children:"Accessibility"}),e.jsx("div",{className:`font-semibold ${t==="dark"?"text-white":"text-gray-900"}`,children:a.accessibility})]}),a.transportation&&e.jsxs("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-slate-900":"bg-gray-50"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸšŒ"}),e.jsx("div",{className:`text-sm ${t==="dark"?"text-slate-400":"text-gray-600"}`,children:"Transportation"}),e.jsx("div",{className:`font-semibold ${t==="dark"?"text-white":"text-gray-900"}`,children:a.transportation})]}),a.events&&a.events.length>0&&e.jsxs("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-slate-900":"bg-gray-50"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸŽ‰"}),e.jsx("div",{className:`text-sm ${t==="dark"?"text-slate-400":"text-gray-600"}`,children:"Events & Festivals"}),e.jsxs("div",{className:`font-semibold ${t==="dark"?"text-white":"text-gray-900"}`,children:[a.events.length," ",a.events.length===1?"Event":"Events"]}),a.events[0]&&e.jsxs("div",{className:`text-sm mt-2 ${t==="dark"?"text-slate-300":"text-gray-700"}`,children:[a.events[0].name,a.events.length>1&&e.jsxs("span",{className:`text-xs ml-1 ${t==="dark"?"text-slate-500":"text-gray-500"}`,children:["+",a.events.length-1," more"]})]})]})]}),a.activities&&a.activities.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:`text-xl font-bold mb-3 ${t==="dark"?"text-white":"text-gray-900"}`,children:"Activities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.activities.map((s,n)=>e.jsx("span",{className:`px-3 py-1 rounded-lg text-sm ${t==="dark"?"bg-teal-900/30 text-teal-400":"bg-teal-50 text-teal-700"}`,children:s.trim()},n))})]})]}),a.hotels&&a.hotels.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:`text-3xl font-bold mb-6 ${t==="dark"?"text-white":"text-gray-900"}`,children:"ðŸ¨ Nearby Hotels"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.hotels.map(s=>e.jsxs("div",{onClick:()=>$(s),className:`rounded-xl shadow-lg overflow-hidden transition-all hover:scale-105 cursor-pointer ${t==="dark"?"bg-slate-800":"bg-white"}`,children:[s.image&&e.jsxs("div",{className:"h-48 overflow-hidden relative",children:[e.jsx("img",{src:`http://localhost:8000${s.image}`,alt:s.name,className:"w-full h-full object-cover",onError:n=>n.target.style.display="none"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:"Click for details"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:`text-lg font-bold mb-2 ${t==="dark"?"text-white":"text-gray-900"}`,children:s.name}),e.jsxs("p",{className:`text-sm mb-2 ${t==="dark"?"text-slate-400":"text-gray-600"}`,children:["ðŸ“ ",s.location]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-yellow-500",children:"â­"}),e.jsx("span",{className:`text-sm font-semibold ${t==="dark"?"text-white":"text-gray-900"}`,children:s.rating?.toFixed(1)})]}),e.jsx("span",{className:`text-sm font-semibold ${t==="dark"?"text-teal-400":"text-teal-600"}`,children:s.price_range})]})]})]},s.id))})]}),a.restaurants&&a.restaurants.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:`text-3xl font-bold mb-6 ${t==="dark"?"text-white":"text-gray-900"}`,children:"ðŸ½ï¸ Nearby Restaurants"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.restaurants.map(s=>e.jsxs("div",{onClick:()=>L(s),className:`rounded-xl shadow-lg overflow-hidden transition-all hover:scale-105 cursor-pointer ${t==="dark"?"bg-slate-800":"bg-white"}`,children:[s.image&&e.jsxs("div",{className:"h-48 overflow-hidden relative",children:[e.jsx("img",{src:`http://localhost:8000${s.image}`,alt:s.name,className:"w-full h-full object-cover",onError:n=>n.target.style.display="none"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:"Click for details"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:`text-lg font-bold mb-2 ${t==="dark"?"text-white":"text-gray-900"}`,children:s.name}),e.jsxs("p",{className:`text-sm mb-2 ${t==="dark"?"text-slate-400":"text-gray-600"}`,children:["ðŸ“ ",s.location]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-yellow-500",children:"â­"}),e.jsx("span",{className:`text-sm font-semibold ${t==="dark"?"text-white":"text-gray-900"}`,children:s.rating?.toFixed(1)})]}),e.jsx("span",{className:`text-sm font-semibold ${t==="dark"?"text-teal-400":"text-teal-600"}`,children:s.price_range})]})]})]},s.id))})]})]}),(_||u&&u.length>0)&&e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 w-full",children:[e.jsx("h2",{className:`text-3xl font-bold mb-8 ${t==="dark"?"text-white":"text-gray-900"}`,children:"ðŸ“ Nearby Places to Explore"}),_?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:t==="dark"?"text-slate-300":"text-gray-600",children:"Finding nearby places..."})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(s=>e.jsxs("div",{onClick:()=>{window.scrollTo(0,0),h(`/place/${s.id}`,{state:p.state})},className:`rounded-xl shadow-lg overflow-hidden transition-all hover:scale-105 cursor-pointer ${t==="dark"?"bg-slate-800":"bg-white"}`,children:[s.image&&e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{src:`http://localhost:8000${s.image}`,alt:s.name,className:"w-full h-full object-cover",onError:n=>n.target.style.display="none"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:`text-lg font-bold mb-2 ${t==="dark"?"text-white":"text-gray-900"}`,children:s.name}),e.jsxs("p",{className:`text-sm mb-2 ${t==="dark"?"text-slate-400":"text-gray-600"}`,children:["ðŸ“ ",s.location]}),s.description&&e.jsx("p",{className:`text-sm mb-3 line-clamp-2 ${t==="dark"?"text-slate-300":"text-gray-700"}`,children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-yellow-500",children:"â­"}),e.jsx("span",{className:`text-sm font-semibold ${t==="dark"?"text-white":"text-gray-900"}`,children:s.rating?.toFixed(1)})]}),s.difficulty_level&&e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t==="dark"?"bg-slate-700 text-slate-300":"bg-gray-100 text-gray-700"}`,children:s.difficulty_level})]})]})]},s.id))})]}),w&&e.jsx(R,{hotel:w,onClose:()=>$(null)}),C&&e.jsx(D,{restaurant:C,onClose:()=>L(null)}),e.jsx(N,{})]})}export{A as default};
