import{u,r,j as e,aV as g}from"./index-DQRB4LQk.js";function p(){const o=u(),[n,d]=r.useState(""),[i,c]=r.useState(""),[l,s]=r.useState(""),m=async a=>{a.preventDefault(),s("");try{const t=await g.post("http://localhost:8000/admin/login",{username:n,password:i},{withCredentials:!0}),x={...t.data,login_time:t.data.login_time||new Date().toISOString(),last_logout:null};localStorage.setItem("admin",JSON.stringify(x)),t.data.activity_id&&localStorage.setItem("adminActivityId",t.data.activity_id),o("/admin/dashboard")}catch(t){t.response&&t.response.data.error?s(t.response.data.error):s("Something went wrong. Try again.")}};return e.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[e.jsx("nav",{className:"bg-gray-800 text-white py-4 shadow-md",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 flex justify-between items-center",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Admin Panel"})})}),e.jsx("div",{className:"flex-grow flex items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-3xl font-semibold mb-6 text-center text-gray-800",children:"Admin Login"}),e.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Enter your credentials to access the admin dashboard"}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-gray-700 font-medium",children:"Username"}),e.jsx("input",{type:"text",value:n,onChange:a=>d(a.target.value),placeholder:"Enter admin username",className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-gray-700 font-medium",children:"Password"}),e.jsx("input",{type:"password",value:i,onChange:a=>c(a.target.value),placeholder:"Enter admin password",className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-400"})]}),e.jsx("button",{className:"w-full py-3 bg-gray-700 hover:bg-gray-800 text-white font-semibold rounded transition duration-300",children:"Sign In"})]}),l&&e.jsx("p",{className:"text-red-600 mt-4 text-center",children:l})]})}),e.jsx("footer",{className:"bg-gray-200 text-gray-700 py-4 mt-8 shadow-inner",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center text-sm space-y-1",children:[e.jsx("p",{children:"Tourism Management System — Admin Portal"}),e.jsx("p",{children:"For internal use only. Unauthorized access is prohibited."}),e.jsxs("p",{children:["© ",new Date().getFullYear()," Tourism Management. All rights reserved."]})]})})]})}export{p as default};
