{
  "version": 3,
  "sources": ["../../@aws-sdk/middleware-host-header/dist-es/index.js", "../../@aws-sdk/middleware-logger/dist-es/loggerMiddleware.js", "../../@aws-sdk/middleware-logger/dist-es/index.js", "../../@aws-sdk/middleware-recursion-detection/dist-es/configuration.js", "../../@aws-sdk/middleware-recursion-detection/dist-es/recursionDetectionMiddleware.browser.js", "../../@aws-sdk/middleware-recursion-detection/dist-es/getRecursionDetectionPlugin.js", "../../@aws-sdk/middleware-recursion-detection/dist-es/index.js", "../../@aws-sdk/middleware-user-agent/dist-es/configurations.js", "../../@smithy/util-endpoints/dist-es/cache/EndpointCache.js", "../../@smithy/util-endpoints/dist-es/lib/isIpAddress.js", "../../@smithy/util-endpoints/dist-es/lib/isValidHostLabel.js", "../../@smithy/util-endpoints/dist-es/utils/customEndpointFunctions.js", "../../@smithy/util-endpoints/dist-es/debug/debugId.js", "../../@smithy/util-endpoints/dist-es/debug/toDebugString.js", "../../@smithy/util-endpoints/dist-es/debug/index.js", "../../@smithy/util-endpoints/dist-es/types/EndpointError.js", "../../@smithy/util-endpoints/dist-es/types/EndpointFunctions.js", "../../@smithy/util-endpoints/dist-es/types/EndpointRuleObject.js", "../../@smithy/util-endpoints/dist-es/types/ErrorRuleObject.js", "../../@smithy/util-endpoints/dist-es/types/RuleSetObject.js", "../../@smithy/util-endpoints/dist-es/types/TreeRuleObject.js", "../../@smithy/util-endpoints/dist-es/types/shared.js", "../../@smithy/util-endpoints/dist-es/types/index.js", "../../@smithy/util-endpoints/dist-es/lib/booleanEquals.js", "../../@smithy/util-endpoints/dist-es/lib/getAttrPathList.js", "../../@smithy/util-endpoints/dist-es/lib/getAttr.js", "../../@smithy/util-endpoints/dist-es/lib/isSet.js", "../../@smithy/util-endpoints/dist-es/lib/not.js", "../../@smithy/util-endpoints/dist-es/lib/parseURL.js", "../../@smithy/util-endpoints/dist-es/lib/stringEquals.js", "../../@smithy/util-endpoints/dist-es/lib/substring.js", "../../@smithy/util-endpoints/dist-es/lib/uriEncode.js", "../../@smithy/util-endpoints/dist-es/lib/index.js", "../../@smithy/util-endpoints/dist-es/utils/endpointFunctions.js", "../../@smithy/util-endpoints/dist-es/utils/evaluateTemplate.js", "../../@smithy/util-endpoints/dist-es/utils/getReferenceValue.js", "../../@smithy/util-endpoints/dist-es/utils/evaluateExpression.js", "../../@smithy/util-endpoints/dist-es/utils/callFunction.js", "../../@smithy/util-endpoints/dist-es/utils/evaluateCondition.js", "../../@smithy/util-endpoints/dist-es/utils/evaluateConditions.js", "../../@smithy/util-endpoints/dist-es/utils/getEndpointHeaders.js", "../../@smithy/util-endpoints/dist-es/utils/getEndpointProperties.js", "../../@smithy/util-endpoints/dist-es/utils/getEndpointUrl.js", "../../@smithy/util-endpoints/dist-es/utils/evaluateEndpointRule.js", "../../@smithy/util-endpoints/dist-es/utils/evaluateErrorRule.js", "../../@smithy/util-endpoints/dist-es/utils/evaluateRules.js", "../../@smithy/util-endpoints/dist-es/utils/index.js", "../../@smithy/util-endpoints/dist-es/resolveEndpoint.js", "../../@smithy/util-endpoints/dist-es/index.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/lib/isIpAddress.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/lib/aws/isVirtualHostableS3Bucket.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/lib/aws/parseArn.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/lib/aws/partitions.json", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/lib/aws/partition.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/aws.js", "../../@smithy/querystring-parser/dist-es/index.js", "../../@smithy/url-parser/dist-es/index.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/resolveDefaultAwsRegionalEndpointsConfig.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/resolveEndpoint.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/types/EndpointError.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/types/EndpointRuleObject.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/types/ErrorRuleObject.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/types/RuleSetObject.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/types/TreeRuleObject.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/types/shared.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/types/index.js", "../../@aws-sdk/middleware-user-agent/node_modules/@aws-sdk/util-endpoints/dist-es/index.js", "../../@aws-sdk/core/dist-es/submodules/client/emitWarningIfUnsupportedVersion.js", "../../@aws-sdk/core/dist-es/submodules/client/setCredentialFeature.js", "../../@aws-sdk/core/dist-es/submodules/client/setFeature.js", "../../@aws-sdk/core/dist-es/submodules/client/setTokenFeature.js", "../../@aws-sdk/core/dist-es/submodules/client/index.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getDateHeader.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getSkewCorrectedDate.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/isClockSkewed.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getUpdatedSystemClockOffset.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/index.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/AwsSdkSigV4Signer.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/AwsSdkSigV4ASigner.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getArrayForCommaSeparatedString.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getBearerTokenEnvKey.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/NODE_AUTH_SCHEME_PREFERENCE_OPTIONS.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/resolveAwsSdkSigV4AConfig.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/resolveAwsSdkSigV4Config.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/index.js", "../../@aws-sdk/core/dist-es/submodules/httpAuthSchemes/index.js", "../../@smithy/core/dist-es/submodules/cbor/cbor-types.js", "../../@smithy/core/dist-es/submodules/cbor/cbor-decode.js", "../../@smithy/core/dist-es/submodules/cbor/cbor-encode.js", "../../@smithy/core/dist-es/submodules/cbor/cbor.js", "../../@smithy/util-body-length-browser/dist-es/calculateBodyLength.js", "../../@smithy/util-body-length-browser/dist-es/index.js", "../../@smithy/core/dist-es/submodules/cbor/parseCborBody.js", "../../@smithy/core/dist-es/submodules/cbor/CborCodec.js", "../../@smithy/core/dist-es/submodules/cbor/SmithyRpcV2CborProtocol.js", "../../@smithy/core/dist-es/submodules/cbor/index.js", "../../@aws-sdk/core/dist-es/submodules/protocols/ProtocolLib.js", "../../@aws-sdk/core/dist-es/submodules/protocols/cbor/AwsSmithyRpcV2CborProtocol.js", "../../@aws-sdk/core/dist-es/submodules/protocols/coercing-serializers.js", "../../@aws-sdk/core/dist-es/submodules/protocols/ConfigurableSerdeContext.js", "../../@aws-sdk/core/dist-es/submodules/protocols/UnionSerde.js", "../../@aws-sdk/core/dist-es/submodules/protocols/json/jsonReviver.js", "../../@aws-sdk/core/node_modules/@smithy/util-utf8/dist-es/fromUtf8.browser.js", "../../@aws-sdk/core/node_modules/@smithy/util-utf8/dist-es/toUint8Array.js", "../../@aws-sdk/core/node_modules/@smithy/util-utf8/dist-es/toUtf8.browser.js", "../../@aws-sdk/core/node_modules/@smithy/util-utf8/dist-es/index.js", "../../@aws-sdk/core/dist-es/submodules/protocols/common.js", "../../@aws-sdk/core/dist-es/submodules/protocols/json/parseJsonBody.js", "../../@aws-sdk/core/dist-es/submodules/protocols/json/JsonShapeDeserializer.js", "../../@aws-sdk/core/dist-es/submodules/protocols/json/jsonReplacer.js", "../../@aws-sdk/core/dist-es/submodules/protocols/json/JsonShapeSerializer.js", "../../@aws-sdk/core/dist-es/submodules/protocols/json/JsonCodec.js", "../../@aws-sdk/core/dist-es/submodules/protocols/json/AwsJsonRpcProtocol.js", "../../@aws-sdk/core/dist-es/submodules/protocols/json/AwsJson1_0Protocol.js", "../../@aws-sdk/core/dist-es/submodules/protocols/json/AwsJson1_1Protocol.js", "../../@aws-sdk/core/dist-es/submodules/protocols/json/AwsRestJsonProtocol.js", "../../@aws-sdk/core/dist-es/submodules/protocols/json/awsExpectUnion.js", "../../@aws-sdk/xml-builder/dist-es/escape-attribute.js", "../../@aws-sdk/xml-builder/dist-es/escape-element.js", "../../@aws-sdk/xml-builder/dist-es/XmlText.js", "../../@aws-sdk/xml-builder/dist-es/XmlNode.js", "../../@aws-sdk/xml-builder/dist-es/xml-parser.browser.js", "../../@aws-sdk/xml-builder/dist-es/index.js", "../../@aws-sdk/core/dist-es/submodules/protocols/xml/XmlShapeDeserializer.js", "../../@aws-sdk/core/dist-es/submodules/protocols/query/QueryShapeSerializer.js", "../../@aws-sdk/core/dist-es/submodules/protocols/query/AwsQueryProtocol.js", "../../@aws-sdk/core/dist-es/submodules/protocols/query/AwsEc2QueryProtocol.js", "../../@aws-sdk/core/dist-es/submodules/protocols/xml/parseXmlBody.js", "../../@aws-sdk/core/dist-es/submodules/protocols/xml/XmlShapeSerializer.js", "../../@aws-sdk/core/dist-es/submodules/protocols/xml/XmlCodec.js", "../../@aws-sdk/core/dist-es/submodules/protocols/xml/AwsRestXmlProtocol.js", "../../@aws-sdk/core/dist-es/submodules/protocols/index.js", "../../@aws-sdk/core/dist-es/index.js", "../../@aws-sdk/middleware-user-agent/dist-es/check-features.js", "../../@aws-sdk/middleware-user-agent/dist-es/constants.js", "../../@aws-sdk/middleware-user-agent/dist-es/encode-features.js", "../../@aws-sdk/middleware-user-agent/dist-es/user-agent-middleware.js", "../../@aws-sdk/middleware-user-agent/dist-es/index.js", "../../@smithy/config-resolver/dist-es/regionConfig/checkRegion.js", "../../@smithy/config-resolver/dist-es/regionConfig/isFipsRegion.js", "../../@smithy/config-resolver/dist-es/regionConfig/getRealRegion.js", "../../@smithy/config-resolver/dist-es/regionConfig/resolveRegionConfig.js", "../../@smithy/util-config-provider/dist-es/booleanSelector.js", "../../@smithy/util-config-provider/dist-es/numberSelector.js", "../../@smithy/util-config-provider/dist-es/types.js", "../../@smithy/util-config-provider/dist-es/index.js", "../../@smithy/config-resolver/dist-es/endpointsConfig/NodeUseDualstackEndpointConfigOptions.js", "../../@smithy/config-resolver/dist-es/endpointsConfig/NodeUseFipsEndpointConfigOptions.js", "../../@smithy/config-resolver/dist-es/endpointsConfig/resolveCustomEndpointsConfig.js", "../../@smithy/config-resolver/dist-es/endpointsConfig/utils/getEndpointFromRegion.js", "../../@smithy/config-resolver/dist-es/endpointsConfig/resolveEndpointsConfig.js", "../../@smithy/config-resolver/dist-es/endpointsConfig/index.js", "../../@smithy/config-resolver/dist-es/regionConfig/config.js", "../../@smithy/config-resolver/dist-es/regionConfig/index.js", "../../@smithy/config-resolver/dist-es/regionInfo/PartitionHash.js", "../../@smithy/config-resolver/dist-es/regionInfo/RegionHash.js", "../../@smithy/config-resolver/dist-es/regionInfo/getHostnameFromVariants.js", "../../@smithy/config-resolver/dist-es/regionInfo/getResolvedHostname.js", "../../@smithy/config-resolver/dist-es/regionInfo/getResolvedPartition.js", "../../@smithy/config-resolver/dist-es/regionInfo/getResolvedSigningRegion.js", "../../@smithy/config-resolver/dist-es/regionInfo/getRegionInfo.js", "../../@smithy/config-resolver/dist-es/regionInfo/index.js", "../../@smithy/config-resolver/dist-es/index.js", "../../@smithy/middleware-content-length/dist-es/index.js", "../../@smithy/middleware-endpoint/dist-es/service-customizations/s3.js", "../../@smithy/middleware-endpoint/dist-es/service-customizations/index.js", "../../@smithy/middleware-endpoint/dist-es/adaptors/createConfigValueProvider.js", "../../@smithy/middleware-endpoint/dist-es/adaptors/getEndpointFromConfig.browser.js", "../../@smithy/middleware-endpoint/dist-es/adaptors/toEndpointV1.js", "../../@smithy/middleware-endpoint/dist-es/adaptors/getEndpointFromInstructions.js", "../../@smithy/middleware-endpoint/dist-es/endpointMiddleware.js", "../../@smithy/middleware-endpoint/dist-es/getEndpointPlugin.js", "../../@smithy/middleware-endpoint/dist-es/resolveEndpointConfig.js", "../../@smithy/middleware-endpoint/dist-es/adaptors/index.js", "../../@smithy/middleware-endpoint/dist-es/resolveEndpointRequiredConfig.js", "../../@smithy/middleware-endpoint/dist-es/types.js", "../../@smithy/middleware-endpoint/dist-es/index.js", "../../@smithy/util-retry/dist-es/config.js", "../../@smithy/service-error-classification/dist-es/constants.js", "../../@smithy/service-error-classification/dist-es/index.js", "../../@smithy/util-retry/dist-es/DefaultRateLimiter.js", "../../@smithy/util-retry/dist-es/constants.js", "../../@smithy/util-retry/dist-es/defaultRetryBackoffStrategy.js", "../../@smithy/util-retry/dist-es/defaultRetryToken.js", "../../@smithy/util-retry/dist-es/StandardRetryStrategy.js", "../../@smithy/util-retry/dist-es/AdaptiveRetryStrategy.js", "../../@smithy/util-retry/dist-es/ConfiguredRetryStrategy.js", "../../@smithy/util-retry/dist-es/types.js", "../../@smithy/util-retry/dist-es/index.js", "../../@smithy/middleware-retry/dist-es/configurations.js", "../../@smithy/middleware-retry/dist-es/isStreamingPayload/isStreamingPayload.browser.js", "../../@smithy/middleware-retry/dist-es/util.js", "../../@smithy/middleware-retry/dist-es/retryMiddleware.js", "../../@smithy/middleware-retry/dist-es/defaultRetryQuota.js", "../../@smithy/middleware-retry/dist-es/delayDecider.js", "../../@smithy/middleware-retry/dist-es/retryDecider.js", "../../@smithy/middleware-retry/dist-es/StandardRetryStrategy.js", "../../@smithy/middleware-retry/dist-es/AdaptiveRetryStrategy.js", "../../@smithy/middleware-retry/dist-es/omitRetryHeadersMiddleware.js", "../../@smithy/middleware-retry/dist-es/index.js", "../../@aws-crypto/sha256-browser/src/constants.ts", "../../@aws-sdk/util-locate-window/dist-es/index.js", "../../@aws-crypto/sha256-browser/src/webCryptoSha256.ts", "../../@aws-crypto/supports-web-crypto/src/supportsWebCrypto.ts", "../../@aws-crypto/supports-web-crypto/src/index.ts", "../../@aws-crypto/sha256-browser/src/crossPlatformSha256.ts", "../../@aws-crypto/sha256-browser/src/index.ts", "../../@aws-sdk/util-user-agent-browser/dist-es/createUserAgentStringParsingProvider.js", "../../@aws-sdk/util-user-agent-browser/dist-es/index.js", "../../@smithy/invalid-dependency/dist-es/invalidProvider.js", "../../@smithy/invalid-dependency/dist-es/invalidFunction.js", "../../@smithy/invalid-dependency/dist-es/index.js", "../../@smithy/util-defaults-mode-browser/dist-es/constants.js", "../../@smithy/util-defaults-mode-browser/dist-es/resolveDefaultsModeConfig.js", "../../@smithy/util-defaults-mode-browser/dist-es/index.js", "../../@aws-sdk/region-config-resolver/dist-es/extensions/index.js", "../../@aws-sdk/region-config-resolver/dist-es/regionConfig/stsRegionDefaultResolver.browser.js", "../../@aws-sdk/region-config-resolver/dist-es/regionConfig/awsRegionConfig.js", "../../@aws-sdk/region-config-resolver/dist-es/index.js"],
  "sourcesContent": ["import { HttpRequest } from \"@smithy/protocol-http\";\r\nexport function resolveHostHeaderConfig(input) {\r\n    return input;\r\n}\r\nexport const hostHeaderMiddleware = (options) => (next) => async (args) => {\r\n    if (!HttpRequest.isInstance(args.request))\r\n        return next(args);\r\n    const { request } = args;\r\n    const { handlerProtocol = \"\" } = options.requestHandler.metadata || {};\r\n    if (handlerProtocol.indexOf(\"h2\") >= 0 && !request.headers[\":authority\"]) {\r\n        delete request.headers[\"host\"];\r\n        request.headers[\":authority\"] = request.hostname + (request.port ? \":\" + request.port : \"\");\r\n    }\r\n    else if (!request.headers[\"host\"]) {\r\n        let host = request.hostname;\r\n        if (request.port != null)\r\n            host += `:${request.port}`;\r\n        request.headers[\"host\"] = host;\r\n    }\r\n    return next(args);\r\n};\r\nexport const hostHeaderMiddlewareOptions = {\r\n    name: \"hostHeaderMiddleware\",\r\n    step: \"build\",\r\n    priority: \"low\",\r\n    tags: [\"HOST\"],\r\n    override: true,\r\n};\r\nexport const getHostHeaderPlugin = (options) => ({\r\n    applyToStack: (clientStack) => {\r\n        clientStack.add(hostHeaderMiddleware(options), hostHeaderMiddlewareOptions);\r\n    },\r\n});\r\n", "export const loggerMiddleware = () => (next, context) => async (args) => {\r\n    try {\r\n        const response = await next(args);\r\n        const { clientName, commandName, logger, dynamoDbDocumentClientOptions = {} } = context;\r\n        const { overrideInputFilterSensitiveLog, overrideOutputFilterSensitiveLog } = dynamoDbDocumentClientOptions;\r\n        const inputFilterSensitiveLog = overrideInputFilterSensitiveLog ?? context.inputFilterSensitiveLog;\r\n        const outputFilterSensitiveLog = overrideOutputFilterSensitiveLog ?? context.outputFilterSensitiveLog;\r\n        const { $metadata, ...outputWithoutMetadata } = response.output;\r\n        logger?.info?.({\r\n            clientName,\r\n            commandName,\r\n            input: inputFilterSensitiveLog(args.input),\r\n            output: outputFilterSensitiveLog(outputWithoutMetadata),\r\n            metadata: $metadata,\r\n        });\r\n        return response;\r\n    }\r\n    catch (error) {\r\n        const { clientName, commandName, logger, dynamoDbDocumentClientOptions = {} } = context;\r\n        const { overrideInputFilterSensitiveLog } = dynamoDbDocumentClientOptions;\r\n        const inputFilterSensitiveLog = overrideInputFilterSensitiveLog ?? context.inputFilterSensitiveLog;\r\n        logger?.error?.({\r\n            clientName,\r\n            commandName,\r\n            input: inputFilterSensitiveLog(args.input),\r\n            error,\r\n            metadata: error.$metadata,\r\n        });\r\n        throw error;\r\n    }\r\n};\r\nexport const loggerMiddlewareOptions = {\r\n    name: \"loggerMiddleware\",\r\n    tags: [\"LOGGER\"],\r\n    step: \"initialize\",\r\n    override: true,\r\n};\r\nexport const getLoggerPlugin = (options) => ({\r\n    applyToStack: (clientStack) => {\r\n        clientStack.add(loggerMiddleware(), loggerMiddlewareOptions);\r\n    },\r\n});\r\n", "export * from \"./loggerMiddleware\";\r\n", "export const recursionDetectionMiddlewareOptions = {\r\n    step: \"build\",\r\n    tags: [\"RECURSION_DETECTION\"],\r\n    name: \"recursionDetectionMiddleware\",\r\n    override: true,\r\n    priority: \"low\",\r\n};\r\n", "export const recursionDetectionMiddleware = () => (next) => async (args) => next(args);\r\n", "import { recursionDetectionMiddlewareOptions } from \"./configuration\";\r\nimport { recursionDetectionMiddleware } from \"./recursionDetectionMiddleware\";\r\nexport const getRecursionDetectionPlugin = (options) => ({\r\n    applyToStack: (clientStack) => {\r\n        clientStack.add(recursionDetectionMiddleware(), recursionDetectionMiddlewareOptions);\r\n    },\r\n});\r\n", "export * from \"./getRecursionDetectionPlugin\";\r\nexport * from \"./recursionDetectionMiddleware\";\r\n", "import { normalizeProvider } from \"@smithy/core\";\r\nexport const DEFAULT_UA_APP_ID = undefined;\r\nfunction isValidUserAgentAppId(appId) {\r\n    if (appId === undefined) {\r\n        return true;\r\n    }\r\n    return typeof appId === \"string\" && appId.length <= 50;\r\n}\r\nexport function resolveUserAgentConfig(input) {\r\n    const normalizedAppIdProvider = normalizeProvider(input.userAgentAppId ?? DEFAULT_UA_APP_ID);\r\n    const { customUserAgent } = input;\r\n    return Object.assign(input, {\r\n        customUserAgent: typeof customUserAgent === \"string\" ? [[customUserAgent]] : customUserAgent,\r\n        userAgentAppId: async () => {\r\n            const appId = await normalizedAppIdProvider();\r\n            if (!isValidUserAgentAppId(appId)) {\r\n                const logger = input.logger?.constructor?.name === \"NoOpLogger\" || !input.logger ? console : input.logger;\r\n                if (typeof appId !== \"string\") {\r\n                    logger?.warn(\"userAgentAppId must be a string or undefined.\");\r\n                }\r\n                else if (appId.length > 50) {\r\n                    logger?.warn(\"The provided userAgentAppId exceeds the maximum length of 50 characters.\");\r\n                }\r\n            }\r\n            return appId;\r\n        },\r\n    });\r\n}\r\n", "export class EndpointCache {\r\n    capacity;\r\n    data = new Map();\r\n    parameters = [];\r\n    constructor({ size, params }) {\r\n        this.capacity = size ?? 50;\r\n        if (params) {\r\n            this.parameters = params;\r\n        }\r\n    }\r\n    get(endpointParams, resolver) {\r\n        const key = this.hash(endpointParams);\r\n        if (key === false) {\r\n            return resolver();\r\n        }\r\n        if (!this.data.has(key)) {\r\n            if (this.data.size > this.capacity + 10) {\r\n                const keys = this.data.keys();\r\n                let i = 0;\r\n                while (true) {\r\n                    const { value, done } = keys.next();\r\n                    this.data.delete(value);\r\n                    if (done || ++i > 10) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            this.data.set(key, resolver());\r\n        }\r\n        return this.data.get(key);\r\n    }\r\n    size() {\r\n        return this.data.size;\r\n    }\r\n    hash(endpointParams) {\r\n        let buffer = \"\";\r\n        const { parameters } = this;\r\n        if (parameters.length === 0) {\r\n            return false;\r\n        }\r\n        for (const param of parameters) {\r\n            const val = String(endpointParams[param] ?? \"\");\r\n            if (val.includes(\"|;\")) {\r\n                return false;\r\n            }\r\n            buffer += val + \"|;\";\r\n        }\r\n        return buffer;\r\n    }\r\n}\r\n", "const IP_V4_REGEX = new RegExp(`^(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}$`);\r\nexport const isIpAddress = (value) => IP_V4_REGEX.test(value) || (value.startsWith(\"[\") && value.endsWith(\"]\"));\r\n", "const VALID_HOST_LABEL_REGEX = new RegExp(`^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$`);\r\nexport const isValidHostLabel = (value, allowSubDomains = false) => {\r\n    if (!allowSubDomains) {\r\n        return VALID_HOST_LABEL_REGEX.test(value);\r\n    }\r\n    const labels = value.split(\".\");\r\n    for (const label of labels) {\r\n        if (!isValidHostLabel(label)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\n", "export const customEndpointFunctions = {};\r\n", "export const debugId = \"endpoints\";\r\n", "export function toDebugString(input) {\r\n    if (typeof input !== \"object\" || input == null) {\r\n        return input;\r\n    }\r\n    if (\"ref\" in input) {\r\n        return `$${toDebugString(input.ref)}`;\r\n    }\r\n    if (\"fn\" in input) {\r\n        return `${input.fn}(${(input.argv || []).map(toDebugString).join(\", \")})`;\r\n    }\r\n    return JSON.stringify(input, null, 2);\r\n}\r\n", "export * from \"./debugId\";\r\nexport * from \"./toDebugString\";\r\n", "export class EndpointError extends Error {\r\n    constructor(message) {\r\n        super(message);\r\n        this.name = \"EndpointError\";\r\n    }\r\n}\r\n", "export {};\r\n", "export {};\r\n", "export {};\r\n", "export {};\r\n", "export {};\r\n", "export {};\r\n", "export * from \"./EndpointError\";\r\nexport * from \"./EndpointFunctions\";\r\nexport * from \"./EndpointRuleObject\";\r\nexport * from \"./ErrorRuleObject\";\r\nexport * from \"./RuleSetObject\";\r\nexport * from \"./TreeRuleObject\";\r\nexport * from \"./shared\";\r\n", "export const booleanEquals = (value1, value2) => value1 === value2;\r\n", "import { EndpointError } from \"../types\";\r\nexport const getAttrPathList = (path) => {\r\n    const parts = path.split(\".\");\r\n    const pathList = [];\r\n    for (const part of parts) {\r\n        const squareBracketIndex = part.indexOf(\"[\");\r\n        if (squareBracketIndex !== -1) {\r\n            if (part.indexOf(\"]\") !== part.length - 1) {\r\n                throw new EndpointError(`Path: '${path}' does not end with ']'`);\r\n            }\r\n            const arrayIndex = part.slice(squareBracketIndex + 1, -1);\r\n            if (Number.isNaN(parseInt(arrayIndex))) {\r\n                throw new EndpointError(`Invalid array index: '${arrayIndex}' in path: '${path}'`);\r\n            }\r\n            if (squareBracketIndex !== 0) {\r\n                pathList.push(part.slice(0, squareBracketIndex));\r\n            }\r\n            pathList.push(arrayIndex);\r\n        }\r\n        else {\r\n            pathList.push(part);\r\n        }\r\n    }\r\n    return pathList;\r\n};\r\n", "import { EndpointError } from \"../types\";\r\nimport { getAttrPathList } from \"./getAttrPathList\";\r\nexport const getAttr = (value, path) => getAttrPathList(path).reduce((acc, index) => {\r\n    if (typeof acc !== \"object\") {\r\n        throw new EndpointError(`Index '${index}' in '${path}' not found in '${JSON.stringify(value)}'`);\r\n    }\r\n    else if (Array.isArray(acc)) {\r\n        return acc[parseInt(index)];\r\n    }\r\n    return acc[index];\r\n}, value);\r\n", "export const isSet = (value) => value != null;\r\n", "export const not = (value) => !value;\r\n", "import { EndpointURLScheme } from \"@smithy/types\";\r\nimport { isIpAddress } from \"./isIpAddress\";\r\nconst DEFAULT_PORTS = {\r\n    [EndpointURLScheme.HTTP]: 80,\r\n    [EndpointURLScheme.HTTPS]: 443,\r\n};\r\nexport const parseURL = (value) => {\r\n    const whatwgURL = (() => {\r\n        try {\r\n            if (value instanceof URL) {\r\n                return value;\r\n            }\r\n            if (typeof value === \"object\" && \"hostname\" in value) {\r\n                const { hostname, port, protocol = \"\", path = \"\", query = {} } = value;\r\n                const url = new URL(`${protocol}//${hostname}${port ? `:${port}` : \"\"}${path}`);\r\n                url.search = Object.entries(query)\r\n                    .map(([k, v]) => `${k}=${v}`)\r\n                    .join(\"&\");\r\n                return url;\r\n            }\r\n            return new URL(value);\r\n        }\r\n        catch (error) {\r\n            return null;\r\n        }\r\n    })();\r\n    if (!whatwgURL) {\r\n        console.error(`Unable to parse ${JSON.stringify(value)} as a whatwg URL.`);\r\n        return null;\r\n    }\r\n    const urlString = whatwgURL.href;\r\n    const { host, hostname, pathname, protocol, search } = whatwgURL;\r\n    if (search) {\r\n        return null;\r\n    }\r\n    const scheme = protocol.slice(0, -1);\r\n    if (!Object.values(EndpointURLScheme).includes(scheme)) {\r\n        return null;\r\n    }\r\n    const isIp = isIpAddress(hostname);\r\n    const inputContainsDefaultPort = urlString.includes(`${host}:${DEFAULT_PORTS[scheme]}`) ||\r\n        (typeof value === \"string\" && value.includes(`${host}:${DEFAULT_PORTS[scheme]}`));\r\n    const authority = `${host}${inputContainsDefaultPort ? `:${DEFAULT_PORTS[scheme]}` : ``}`;\r\n    return {\r\n        scheme,\r\n        authority,\r\n        path: pathname,\r\n        normalizedPath: pathname.endsWith(\"/\") ? pathname : `${pathname}/`,\r\n        isIp,\r\n    };\r\n};\r\n", "export const stringEquals = (value1, value2) => value1 === value2;\r\n", "export const substring = (input, start, stop, reverse) => {\r\n    if (start >= stop || input.length < stop) {\r\n        return null;\r\n    }\r\n    if (!reverse) {\r\n        return input.substring(start, stop);\r\n    }\r\n    return input.substring(input.length - stop, input.length - start);\r\n};\r\n", "export const uriEncode = (value) => encodeURIComponent(value).replace(/[!*'()]/g, (c) => `%${c.charCodeAt(0).toString(16).toUpperCase()}`);\r\n", "export * from \"./booleanEquals\";\r\nexport * from \"./getAttr\";\r\nexport * from \"./isSet\";\r\nexport * from \"./isValidHostLabel\";\r\nexport * from \"./not\";\r\nexport * from \"./parseURL\";\r\nexport * from \"./stringEquals\";\r\nexport * from \"./substring\";\r\nexport * from \"./uriEncode\";\r\n", "import { booleanEquals, getAttr, isSet, isValidHostLabel, not, parseURL, stringEquals, substring, uriEncode, } from \"../lib\";\r\nexport const endpointFunctions = {\r\n    booleanEquals,\r\n    getAttr,\r\n    isSet,\r\n    isValidHostLabel,\r\n    not,\r\n    parseURL,\r\n    stringEquals,\r\n    substring,\r\n    uriEncode,\r\n};\r\n", "import { getAttr } from \"../lib\";\r\nexport const evaluateTemplate = (template, options) => {\r\n    const evaluatedTemplateArr = [];\r\n    const templateContext = {\r\n        ...options.endpointParams,\r\n        ...options.referenceRecord,\r\n    };\r\n    let currentIndex = 0;\r\n    while (currentIndex < template.length) {\r\n        const openingBraceIndex = template.indexOf(\"{\", currentIndex);\r\n        if (openingBraceIndex === -1) {\r\n            evaluatedTemplateArr.push(template.slice(currentIndex));\r\n            break;\r\n        }\r\n        evaluatedTemplateArr.push(template.slice(currentIndex, openingBraceIndex));\r\n        const closingBraceIndex = template.indexOf(\"}\", openingBraceIndex);\r\n        if (closingBraceIndex === -1) {\r\n            evaluatedTemplateArr.push(template.slice(openingBraceIndex));\r\n            break;\r\n        }\r\n        if (template[openingBraceIndex + 1] === \"{\" && template[closingBraceIndex + 1] === \"}\") {\r\n            evaluatedTemplateArr.push(template.slice(openingBraceIndex + 1, closingBraceIndex));\r\n            currentIndex = closingBraceIndex + 2;\r\n        }\r\n        const parameterName = template.substring(openingBraceIndex + 1, closingBraceIndex);\r\n        if (parameterName.includes(\"#\")) {\r\n            const [refName, attrName] = parameterName.split(\"#\");\r\n            evaluatedTemplateArr.push(getAttr(templateContext[refName], attrName));\r\n        }\r\n        else {\r\n            evaluatedTemplateArr.push(templateContext[parameterName]);\r\n        }\r\n        currentIndex = closingBraceIndex + 1;\r\n    }\r\n    return evaluatedTemplateArr.join(\"\");\r\n};\r\n", "export const getReferenceValue = ({ ref }, options) => {\r\n    const referenceRecord = {\r\n        ...options.endpointParams,\r\n        ...options.referenceRecord,\r\n    };\r\n    return referenceRecord[ref];\r\n};\r\n", "import { EndpointError } from \"../types\";\r\nimport { customEndpointFunctions } from \"./customEndpointFunctions\";\r\nimport { endpointFunctions } from \"./endpointFunctions\";\r\nimport { evaluateTemplate } from \"./evaluateTemplate\";\r\nimport { getReferenceValue } from \"./getReferenceValue\";\r\nexport const evaluateExpression = (obj, keyName, options) => {\r\n    if (typeof obj === \"string\") {\r\n        return evaluateTemplate(obj, options);\r\n    }\r\n    else if (obj[\"fn\"]) {\r\n        return group.callFunction(obj, options);\r\n    }\r\n    else if (obj[\"ref\"]) {\r\n        return getReferenceValue(obj, options);\r\n    }\r\n    throw new EndpointError(`'${keyName}': ${String(obj)} is not a string, function or reference.`);\r\n};\r\nexport const callFunction = ({ fn, argv }, options) => {\r\n    const evaluatedArgs = argv.map((arg) => [\"boolean\", \"number\"].includes(typeof arg) ? arg : group.evaluateExpression(arg, \"arg\", options));\r\n    const fnSegments = fn.split(\".\");\r\n    if (fnSegments[0] in customEndpointFunctions && fnSegments[1] != null) {\r\n        return customEndpointFunctions[fnSegments[0]][fnSegments[1]](...evaluatedArgs);\r\n    }\r\n    return endpointFunctions[fn](...evaluatedArgs);\r\n};\r\nexport const group = {\r\n    evaluateExpression,\r\n    callFunction,\r\n};\r\n", "export { callFunction } from \"./evaluateExpression\";\r\n", "import { debugId, toDebugString } from \"../debug\";\r\nimport { EndpointError } from \"../types\";\r\nimport { callFunction } from \"./callFunction\";\r\nexport const evaluateCondition = ({ assign, ...fnArgs }, options) => {\r\n    if (assign && assign in options.referenceRecord) {\r\n        throw new EndpointError(`'${assign}' is already defined in Reference Record.`);\r\n    }\r\n    const value = callFunction(fnArgs, options);\r\n    options.logger?.debug?.(`${debugId} evaluateCondition: ${toDebugString(fnArgs)} = ${toDebugString(value)}`);\r\n    return {\r\n        result: value === \"\" ? true : !!value,\r\n        ...(assign != null && { toAssign: { name: assign, value } }),\r\n    };\r\n};\r\n", "import { debugId, toDebugString } from \"../debug\";\r\nimport { evaluateCondition } from \"./evaluateCondition\";\r\nexport const evaluateConditions = (conditions = [], options) => {\r\n    const conditionsReferenceRecord = {};\r\n    for (const condition of conditions) {\r\n        const { result, toAssign } = evaluateCondition(condition, {\r\n            ...options,\r\n            referenceRecord: {\r\n                ...options.referenceRecord,\r\n                ...conditionsReferenceRecord,\r\n            },\r\n        });\r\n        if (!result) {\r\n            return { result };\r\n        }\r\n        if (toAssign) {\r\n            conditionsReferenceRecord[toAssign.name] = toAssign.value;\r\n            options.logger?.debug?.(`${debugId} assign: ${toAssign.name} := ${toDebugString(toAssign.value)}`);\r\n        }\r\n    }\r\n    return { result: true, referenceRecord: conditionsReferenceRecord };\r\n};\r\n", "import { EndpointError } from \"../types\";\r\nimport { evaluateExpression } from \"./evaluateExpression\";\r\nexport const getEndpointHeaders = (headers, options) => Object.entries(headers).reduce((acc, [headerKey, headerVal]) => ({\r\n    ...acc,\r\n    [headerKey]: headerVal.map((headerValEntry) => {\r\n        const processedExpr = evaluateExpression(headerValEntry, \"Header value entry\", options);\r\n        if (typeof processedExpr !== \"string\") {\r\n            throw new EndpointError(`Header '${headerKey}' value '${processedExpr}' is not a string`);\r\n        }\r\n        return processedExpr;\r\n    }),\r\n}), {});\r\n", "import { EndpointError } from \"../types\";\r\nimport { evaluateTemplate } from \"./evaluateTemplate\";\r\nexport const getEndpointProperties = (properties, options) => Object.entries(properties).reduce((acc, [propertyKey, propertyVal]) => ({\r\n    ...acc,\r\n    [propertyKey]: group.getEndpointProperty(propertyVal, options),\r\n}), {});\r\nexport const getEndpointProperty = (property, options) => {\r\n    if (Array.isArray(property)) {\r\n        return property.map((propertyEntry) => getEndpointProperty(propertyEntry, options));\r\n    }\r\n    switch (typeof property) {\r\n        case \"string\":\r\n            return evaluateTemplate(property, options);\r\n        case \"object\":\r\n            if (property === null) {\r\n                throw new EndpointError(`Unexpected endpoint property: ${property}`);\r\n            }\r\n            return group.getEndpointProperties(property, options);\r\n        case \"boolean\":\r\n            return property;\r\n        default:\r\n            throw new EndpointError(`Unexpected endpoint property type: ${typeof property}`);\r\n    }\r\n};\r\nexport const group = {\r\n    getEndpointProperty,\r\n    getEndpointProperties,\r\n};\r\n", "import { EndpointError } from \"../types\";\r\nimport { evaluateExpression } from \"./evaluateExpression\";\r\nexport const getEndpointUrl = (endpointUrl, options) => {\r\n    const expression = evaluateExpression(endpointUrl, \"Endpoint URL\", options);\r\n    if (typeof expression === \"string\") {\r\n        try {\r\n            return new URL(expression);\r\n        }\r\n        catch (error) {\r\n            console.error(`Failed to construct URL with ${expression}`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    throw new EndpointError(`Endpoint URL must be a string, got ${typeof expression}`);\r\n};\r\n", "import { debugId, toDebugString } from \"../debug\";\r\nimport { evaluateConditions } from \"./evaluateConditions\";\r\nimport { getEndpointHeaders } from \"./getEndpointHeaders\";\r\nimport { getEndpointProperties } from \"./getEndpointProperties\";\r\nimport { getEndpointUrl } from \"./getEndpointUrl\";\r\nexport const evaluateEndpointRule = (endpointRule, options) => {\r\n    const { conditions, endpoint } = endpointRule;\r\n    const { result, referenceRecord } = evaluateConditions(conditions, options);\r\n    if (!result) {\r\n        return;\r\n    }\r\n    const endpointRuleOptions = {\r\n        ...options,\r\n        referenceRecord: { ...options.referenceRecord, ...referenceRecord },\r\n    };\r\n    const { url, properties, headers } = endpoint;\r\n    options.logger?.debug?.(`${debugId} Resolving endpoint from template: ${toDebugString(endpoint)}`);\r\n    return {\r\n        ...(headers != undefined && {\r\n            headers: getEndpointHeaders(headers, endpointRuleOptions),\r\n        }),\r\n        ...(properties != undefined && {\r\n            properties: getEndpointProperties(properties, endpointRuleOptions),\r\n        }),\r\n        url: getEndpointUrl(url, endpointRuleOptions),\r\n    };\r\n};\r\n", "import { EndpointError } from \"../types\";\r\nimport { evaluateConditions } from \"./evaluateConditions\";\r\nimport { evaluateExpression } from \"./evaluateExpression\";\r\nexport const evaluateErrorRule = (errorRule, options) => {\r\n    const { conditions, error } = errorRule;\r\n    const { result, referenceRecord } = evaluateConditions(conditions, options);\r\n    if (!result) {\r\n        return;\r\n    }\r\n    throw new EndpointError(evaluateExpression(error, \"Error\", {\r\n        ...options,\r\n        referenceRecord: { ...options.referenceRecord, ...referenceRecord },\r\n    }));\r\n};\r\n", "import { EndpointError } from \"../types\";\r\nimport { evaluateConditions } from \"./evaluateConditions\";\r\nimport { evaluateEndpointRule } from \"./evaluateEndpointRule\";\r\nimport { evaluateErrorRule } from \"./evaluateErrorRule\";\r\nexport const evaluateRules = (rules, options) => {\r\n    for (const rule of rules) {\r\n        if (rule.type === \"endpoint\") {\r\n            const endpointOrUndefined = evaluateEndpointRule(rule, options);\r\n            if (endpointOrUndefined) {\r\n                return endpointOrUndefined;\r\n            }\r\n        }\r\n        else if (rule.type === \"error\") {\r\n            evaluateErrorRule(rule, options);\r\n        }\r\n        else if (rule.type === \"tree\") {\r\n            const endpointOrUndefined = group.evaluateTreeRule(rule, options);\r\n            if (endpointOrUndefined) {\r\n                return endpointOrUndefined;\r\n            }\r\n        }\r\n        else {\r\n            throw new EndpointError(`Unknown endpoint rule: ${rule}`);\r\n        }\r\n    }\r\n    throw new EndpointError(`Rules evaluation failed`);\r\n};\r\nexport const evaluateTreeRule = (treeRule, options) => {\r\n    const { conditions, rules } = treeRule;\r\n    const { result, referenceRecord } = evaluateConditions(conditions, options);\r\n    if (!result) {\r\n        return;\r\n    }\r\n    return group.evaluateRules(rules, {\r\n        ...options,\r\n        referenceRecord: { ...options.referenceRecord, ...referenceRecord },\r\n    });\r\n};\r\nexport const group = {\r\n    evaluateRules,\r\n    evaluateTreeRule,\r\n};\r\n", "export * from \"./customEndpointFunctions\";\r\nexport * from \"./evaluateRules\";\r\n", "import { debugId, toDebugString } from \"./debug\";\r\nimport { EndpointError } from \"./types\";\r\nimport { evaluateRules } from \"./utils\";\r\nexport const resolveEndpoint = (ruleSetObject, options) => {\r\n    const { endpointParams, logger } = options;\r\n    const { parameters, rules } = ruleSetObject;\r\n    options.logger?.debug?.(`${debugId} Initial EndpointParams: ${toDebugString(endpointParams)}`);\r\n    const paramsWithDefault = Object.entries(parameters)\r\n        .filter(([, v]) => v.default != null)\r\n        .map(([k, v]) => [k, v.default]);\r\n    if (paramsWithDefault.length > 0) {\r\n        for (const [paramKey, paramDefaultValue] of paramsWithDefault) {\r\n            endpointParams[paramKey] = endpointParams[paramKey] ?? paramDefaultValue;\r\n        }\r\n    }\r\n    const requiredParams = Object.entries(parameters)\r\n        .filter(([, v]) => v.required)\r\n        .map(([k]) => k);\r\n    for (const requiredParam of requiredParams) {\r\n        if (endpointParams[requiredParam] == null) {\r\n            throw new EndpointError(`Missing required parameter: '${requiredParam}'`);\r\n        }\r\n    }\r\n    const endpoint = evaluateRules(rules, { endpointParams, logger, referenceRecord: {} });\r\n    options.logger?.debug?.(`${debugId} Resolved endpoint: ${toDebugString(endpoint)}`);\r\n    return endpoint;\r\n};\r\n", "export * from \"./cache/EndpointCache\";\r\nexport * from \"./lib/isIpAddress\";\r\nexport * from \"./lib/isValidHostLabel\";\r\nexport * from \"./utils/customEndpointFunctions\";\r\nexport * from \"./resolveEndpoint\";\r\nexport * from \"./types\";\r\n", "export { isIpAddress } from \"@smithy/util-endpoints\";\r\n", "import { isValidHostLabel } from \"@smithy/util-endpoints\";\r\nimport { isIpAddress } from \"../isIpAddress\";\r\nexport const isVirtualHostableS3Bucket = (value, allowSubDomains = false) => {\r\n    if (allowSubDomains) {\r\n        for (const label of value.split(\".\")) {\r\n            if (!isVirtualHostableS3Bucket(label)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    if (!isValidHostLabel(value)) {\r\n        return false;\r\n    }\r\n    if (value.length < 3 || value.length > 63) {\r\n        return false;\r\n    }\r\n    if (value !== value.toLowerCase()) {\r\n        return false;\r\n    }\r\n    if (isIpAddress(value)) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n", "const ARN_DELIMITER = \":\";\r\nconst RESOURCE_DELIMITER = \"/\";\r\nexport const parseArn = (value) => {\r\n    const segments = value.split(ARN_DELIMITER);\r\n    if (segments.length < 6)\r\n        return null;\r\n    const [arn, partition, service, region, accountId, ...resourcePath] = segments;\r\n    if (arn !== \"arn\" || partition === \"\" || service === \"\" || resourcePath.join(ARN_DELIMITER) === \"\")\r\n        return null;\r\n    const resourceId = resourcePath.map((resource) => resource.split(RESOURCE_DELIMITER)).flat();\r\n    return {\r\n        partition,\r\n        service,\r\n        region,\r\n        accountId,\r\n        resourceId,\r\n    };\r\n};\r\n", "{\r\n    \"partitions\": [{\r\n            \"id\": \"aws\",\r\n            \"outputs\": {\r\n                \"dnsSuffix\": \"amazonaws.com\",\r\n                \"dualStackDnsSuffix\": \"api.aws\",\r\n                \"implicitGlobalRegion\": \"us-east-1\",\r\n                \"name\": \"aws\",\r\n                \"supportsDualStack\": true,\r\n                \"supportsFIPS\": true\r\n            },\r\n            \"regionRegex\": \"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$\",\r\n            \"regions\": {\r\n                \"af-south-1\": {\r\n                    \"description\": \"Africa (Cape Town)\"\r\n                },\r\n                \"ap-east-1\": {\r\n                    \"description\": \"Asia Pacific (Hong Kong)\"\r\n                },\r\n                \"ap-east-2\": {\r\n                    \"description\": \"Asia Pacific (Taipei)\"\r\n                },\r\n                \"ap-northeast-1\": {\r\n                    \"description\": \"Asia Pacific (Tokyo)\"\r\n                },\r\n                \"ap-northeast-2\": {\r\n                    \"description\": \"Asia Pacific (Seoul)\"\r\n                },\r\n                \"ap-northeast-3\": {\r\n                    \"description\": \"Asia Pacific (Osaka)\"\r\n                },\r\n                \"ap-south-1\": {\r\n                    \"description\": \"Asia Pacific (Mumbai)\"\r\n                },\r\n                \"ap-south-2\": {\r\n                    \"description\": \"Asia Pacific (Hyderabad)\"\r\n                },\r\n                \"ap-southeast-1\": {\r\n                    \"description\": \"Asia Pacific (Singapore)\"\r\n                },\r\n                \"ap-southeast-2\": {\r\n                    \"description\": \"Asia Pacific (Sydney)\"\r\n                },\r\n                \"ap-southeast-3\": {\r\n                    \"description\": \"Asia Pacific (Jakarta)\"\r\n                },\r\n                \"ap-southeast-4\": {\r\n                    \"description\": \"Asia Pacific (Melbourne)\"\r\n                },\r\n                \"ap-southeast-5\": {\r\n                    \"description\": \"Asia Pacific (Malaysia)\"\r\n                },\r\n                \"ap-southeast-6\": {\r\n                    \"description\": \"Asia Pacific (New Zealand)\"\r\n                },\r\n                \"ap-southeast-7\": {\r\n                    \"description\": \"Asia Pacific (Thailand)\"\r\n                },\r\n                \"aws-global\": {\r\n                    \"description\": \"aws global region\"\r\n                },\r\n                \"ca-central-1\": {\r\n                    \"description\": \"Canada (Central)\"\r\n                },\r\n                \"ca-west-1\": {\r\n                    \"description\": \"Canada West (Calgary)\"\r\n                },\r\n                \"eu-central-1\": {\r\n                    \"description\": \"Europe (Frankfurt)\"\r\n                },\r\n                \"eu-central-2\": {\r\n                    \"description\": \"Europe (Zurich)\"\r\n                },\r\n                \"eu-north-1\": {\r\n                    \"description\": \"Europe (Stockholm)\"\r\n                },\r\n                \"eu-south-1\": {\r\n                    \"description\": \"Europe (Milan)\"\r\n                },\r\n                \"eu-south-2\": {\r\n                    \"description\": \"Europe (Spain)\"\r\n                },\r\n                \"eu-west-1\": {\r\n                    \"description\": \"Europe (Ireland)\"\r\n                },\r\n                \"eu-west-2\": {\r\n                    \"description\": \"Europe (London)\"\r\n                },\r\n                \"eu-west-3\": {\r\n                    \"description\": \"Europe (Paris)\"\r\n                },\r\n                \"il-central-1\": {\r\n                    \"description\": \"Israel (Tel Aviv)\"\r\n                },\r\n                \"me-central-1\": {\r\n                    \"description\": \"Middle East (UAE)\"\r\n                },\r\n                \"me-south-1\": {\r\n                    \"description\": \"Middle East (Bahrain)\"\r\n                },\r\n                \"mx-central-1\": {\r\n                    \"description\": \"Mexico (Central)\"\r\n                },\r\n                \"sa-east-1\": {\r\n                    \"description\": \"South America (Sao Paulo)\"\r\n                },\r\n                \"us-east-1\": {\r\n                    \"description\": \"US East (N. Virginia)\"\r\n                },\r\n                \"us-east-2\": {\r\n                    \"description\": \"US East (Ohio)\"\r\n                },\r\n                \"us-west-1\": {\r\n                    \"description\": \"US West (N. California)\"\r\n                },\r\n                \"us-west-2\": {\r\n                    \"description\": \"US West (Oregon)\"\r\n                }\r\n            }\r\n        }, {\r\n            \"id\": \"aws-cn\",\r\n            \"outputs\": {\r\n                \"dnsSuffix\": \"amazonaws.com.cn\",\r\n                \"dualStackDnsSuffix\": \"api.amazonwebservices.com.cn\",\r\n                \"implicitGlobalRegion\": \"cn-northwest-1\",\r\n                \"name\": \"aws-cn\",\r\n                \"supportsDualStack\": true,\r\n                \"supportsFIPS\": true\r\n            },\r\n            \"regionRegex\": \"^cn\\\\-\\\\w+\\\\-\\\\d+$\",\r\n            \"regions\": {\r\n                \"aws-cn-global\": {\r\n                    \"description\": \"aws-cn global region\"\r\n                },\r\n                \"cn-north-1\": {\r\n                    \"description\": \"China (Beijing)\"\r\n                },\r\n                \"cn-northwest-1\": {\r\n                    \"description\": \"China (Ningxia)\"\r\n                }\r\n            }\r\n        }, {\r\n            \"id\": \"aws-eusc\",\r\n            \"outputs\": {\r\n                \"dnsSuffix\": \"amazonaws.eu\",\r\n                \"dualStackDnsSuffix\": \"api.amazonwebservices.eu\",\r\n                \"implicitGlobalRegion\": \"eusc-de-east-1\",\r\n                \"name\": \"aws-eusc\",\r\n                \"supportsDualStack\": true,\r\n                \"supportsFIPS\": true\r\n            },\r\n            \"regionRegex\": \"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$\",\r\n            \"regions\": {\r\n                \"eusc-de-east-1\": {\r\n                    \"description\": \"AWS European Sovereign Cloud (Germany)\"\r\n                }\r\n            }\r\n        }, {\r\n            \"id\": \"aws-iso\",\r\n            \"outputs\": {\r\n                \"dnsSuffix\": \"c2s.ic.gov\",\r\n                \"dualStackDnsSuffix\": \"api.aws.ic.gov\",\r\n                \"implicitGlobalRegion\": \"us-iso-east-1\",\r\n                \"name\": \"aws-iso\",\r\n                \"supportsDualStack\": true,\r\n                \"supportsFIPS\": true\r\n            },\r\n            \"regionRegex\": \"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$\",\r\n            \"regions\": {\r\n                \"aws-iso-global\": {\r\n                    \"description\": \"aws-iso global region\"\r\n                },\r\n                \"us-iso-east-1\": {\r\n                    \"description\": \"US ISO East\"\r\n                },\r\n                \"us-iso-west-1\": {\r\n                    \"description\": \"US ISO WEST\"\r\n                }\r\n            }\r\n        }, {\r\n            \"id\": \"aws-iso-b\",\r\n            \"outputs\": {\r\n                \"dnsSuffix\": \"sc2s.sgov.gov\",\r\n                \"dualStackDnsSuffix\": \"api.aws.scloud\",\r\n                \"implicitGlobalRegion\": \"us-isob-east-1\",\r\n                \"name\": \"aws-iso-b\",\r\n                \"supportsDualStack\": true,\r\n                \"supportsFIPS\": true\r\n            },\r\n            \"regionRegex\": \"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$\",\r\n            \"regions\": {\r\n                \"aws-iso-b-global\": {\r\n                    \"description\": \"aws-iso-b global region\"\r\n                },\r\n                \"us-isob-east-1\": {\r\n                    \"description\": \"US ISOB East (Ohio)\"\r\n                },\r\n                \"us-isob-west-1\": {\r\n                    \"description\": \"US ISOB West\"\r\n                }\r\n            }\r\n        }, {\r\n            \"id\": \"aws-iso-e\",\r\n            \"outputs\": {\r\n                \"dnsSuffix\": \"cloud.adc-e.uk\",\r\n                \"dualStackDnsSuffix\": \"api.cloud-aws.adc-e.uk\",\r\n                \"implicitGlobalRegion\": \"eu-isoe-west-1\",\r\n                \"name\": \"aws-iso-e\",\r\n                \"supportsDualStack\": true,\r\n                \"supportsFIPS\": true\r\n            },\r\n            \"regionRegex\": \"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$\",\r\n            \"regions\": {\r\n                \"aws-iso-e-global\": {\r\n                    \"description\": \"aws-iso-e global region\"\r\n                },\r\n                \"eu-isoe-west-1\": {\r\n                    \"description\": \"EU ISOE West\"\r\n                }\r\n            }\r\n        }, {\r\n            \"id\": \"aws-iso-f\",\r\n            \"outputs\": {\r\n                \"dnsSuffix\": \"csp.hci.ic.gov\",\r\n                \"dualStackDnsSuffix\": \"api.aws.hci.ic.gov\",\r\n                \"implicitGlobalRegion\": \"us-isof-south-1\",\r\n                \"name\": \"aws-iso-f\",\r\n                \"supportsDualStack\": true,\r\n                \"supportsFIPS\": true\r\n            },\r\n            \"regionRegex\": \"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$\",\r\n            \"regions\": {\r\n                \"aws-iso-f-global\": {\r\n                    \"description\": \"aws-iso-f global region\"\r\n                },\r\n                \"us-isof-east-1\": {\r\n                    \"description\": \"US ISOF EAST\"\r\n                },\r\n                \"us-isof-south-1\": {\r\n                    \"description\": \"US ISOF SOUTH\"\r\n                }\r\n            }\r\n        }, {\r\n            \"id\": \"aws-us-gov\",\r\n            \"outputs\": {\r\n                \"dnsSuffix\": \"amazonaws.com\",\r\n                \"dualStackDnsSuffix\": \"api.aws\",\r\n                \"implicitGlobalRegion\": \"us-gov-west-1\",\r\n                \"name\": \"aws-us-gov\",\r\n                \"supportsDualStack\": true,\r\n                \"supportsFIPS\": true\r\n            },\r\n            \"regionRegex\": \"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$\",\r\n            \"regions\": {\r\n                \"aws-us-gov-global\": {\r\n                    \"description\": \"aws-us-gov global region\"\r\n                },\r\n                \"us-gov-east-1\": {\r\n                    \"description\": \"AWS GovCloud (US-East)\"\r\n                },\r\n                \"us-gov-west-1\": {\r\n                    \"description\": \"AWS GovCloud (US-West)\"\r\n                }\r\n            }\r\n        }],\r\n    \"version\": \"1.1\"\r\n}\r\n", "import partitionsInfo from \"./partitions.json\";\r\nlet selectedPartitionsInfo = partitionsInfo;\r\nlet selectedUserAgentPrefix = \"\";\r\nexport const partition = (value) => {\r\n    const { partitions } = selectedPartitionsInfo;\r\n    for (const partition of partitions) {\r\n        const { regions, outputs } = partition;\r\n        for (const [region, regionData] of Object.entries(regions)) {\r\n            if (region === value) {\r\n                return {\r\n                    ...outputs,\r\n                    ...regionData,\r\n                };\r\n            }\r\n        }\r\n    }\r\n    for (const partition of partitions) {\r\n        const { regionRegex, outputs } = partition;\r\n        if (new RegExp(regionRegex).test(value)) {\r\n            return {\r\n                ...outputs,\r\n            };\r\n        }\r\n    }\r\n    const DEFAULT_PARTITION = partitions.find((partition) => partition.id === \"aws\");\r\n    if (!DEFAULT_PARTITION) {\r\n        throw new Error(\"Provided region was not found in the partition array or regex,\" +\r\n            \" and default partition with id 'aws' doesn't exist.\");\r\n    }\r\n    return {\r\n        ...DEFAULT_PARTITION.outputs,\r\n    };\r\n};\r\nexport const setPartitionInfo = (partitionsInfo, userAgentPrefix = \"\") => {\r\n    selectedPartitionsInfo = partitionsInfo;\r\n    selectedUserAgentPrefix = userAgentPrefix;\r\n};\r\nexport const useDefaultPartitionInfo = () => {\r\n    setPartitionInfo(partitionsInfo, \"\");\r\n};\r\nexport const getUserAgentPrefix = () => selectedUserAgentPrefix;\r\n", "import { customEndpointFunctions } from \"@smithy/util-endpoints\";\r\nimport { isVirtualHostableS3Bucket } from \"./lib/aws/isVirtualHostableS3Bucket\";\r\nimport { parseArn } from \"./lib/aws/parseArn\";\r\nimport { partition } from \"./lib/aws/partition\";\r\nexport const awsEndpointFunctions = {\r\n    isVirtualHostableS3Bucket: isVirtualHostableS3Bucket,\r\n    parseArn: parseArn,\r\n    partition: partition,\r\n};\r\ncustomEndpointFunctions.aws = awsEndpointFunctions;\r\n", "export function parseQueryString(querystring) {\r\n    const query = {};\r\n    querystring = querystring.replace(/^\\?/, \"\");\r\n    if (querystring) {\r\n        for (const pair of querystring.split(\"&\")) {\r\n            let [key, value = null] = pair.split(\"=\");\r\n            key = decodeURIComponent(key);\r\n            if (value) {\r\n                value = decodeURIComponent(value);\r\n            }\r\n            if (!(key in query)) {\r\n                query[key] = value;\r\n            }\r\n            else if (Array.isArray(query[key])) {\r\n                query[key].push(value);\r\n            }\r\n            else {\r\n                query[key] = [query[key], value];\r\n            }\r\n        }\r\n    }\r\n    return query;\r\n}\r\n", "import { parseQueryString } from \"@smithy/querystring-parser\";\r\nexport const parseUrl = (url) => {\r\n    if (typeof url === \"string\") {\r\n        return parseUrl(new URL(url));\r\n    }\r\n    const { hostname, pathname, port, protocol, search } = url;\r\n    let query;\r\n    if (search) {\r\n        query = parseQueryString(search);\r\n    }\r\n    return {\r\n        hostname,\r\n        port: port ? parseInt(port) : undefined,\r\n        protocol,\r\n        path: pathname,\r\n        query,\r\n    };\r\n};\r\n", "import { parseUrl } from \"@smithy/url-parser\";\r\nexport const resolveDefaultAwsRegionalEndpointsConfig = (input) => {\r\n    if (typeof input.endpointProvider !== \"function\") {\r\n        throw new Error(\"@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.\");\r\n    }\r\n    const { endpoint } = input;\r\n    if (endpoint === undefined) {\r\n        input.endpoint = async () => {\r\n            return toEndpointV1(input.endpointProvider({\r\n                Region: typeof input.region === \"function\" ? await input.region() : input.region,\r\n                UseDualStack: typeof input.useDualstackEndpoint === \"function\"\r\n                    ? await input.useDualstackEndpoint()\r\n                    : input.useDualstackEndpoint,\r\n                UseFIPS: typeof input.useFipsEndpoint === \"function\" ? await input.useFipsEndpoint() : input.useFipsEndpoint,\r\n                Endpoint: undefined,\r\n            }, { logger: input.logger }));\r\n        };\r\n    }\r\n    return input;\r\n};\r\nexport const toEndpointV1 = (endpoint) => parseUrl(endpoint.url);\r\n", "export { resolveEndpoint } from \"@smithy/util-endpoints\";\r\n", "export { EndpointError } from \"@smithy/util-endpoints\";\r\n", "export {};\r\n", "export {};\r\n", "export {};\r\n", "export {};\r\n", "export {};\r\n", "export * from \"./EndpointError\";\r\nexport * from \"./EndpointRuleObject\";\r\nexport * from \"./ErrorRuleObject\";\r\nexport * from \"./RuleSetObject\";\r\nexport * from \"./TreeRuleObject\";\r\nexport * from \"./shared\";\r\n", "export * from \"./aws\";\r\nexport * from \"./lib/aws/partition\";\r\nexport * from \"./lib/isIpAddress\";\r\nexport * from \"./resolveDefaultAwsRegionalEndpointsConfig\";\r\nexport * from \"./resolveEndpoint\";\r\nexport * from \"./types\";\r\n", "export const state = {\r\n    warningEmitted: false,\r\n};\r\nexport const emitWarningIfUnsupportedVersion = (version) => {\r\n    if (version && !state.warningEmitted && parseInt(version.substring(1, version.indexOf(\".\"))) < 20) {\r\n        state.warningEmitted = true;\r\n        process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will\r\nno longer support Node.js ${version} in January 2026.\r\n\r\nTo continue receiving updates to AWS services, bug fixes, and security\r\nupdates please upgrade to a supported Node.js LTS version.\r\n\r\nMore information can be found at: https://a.co/c895JFp`);\r\n    }\r\n};\r\n", "export function setCredentialFeature(credentials, feature, value) {\r\n    if (!credentials.$source) {\r\n        credentials.$source = {};\r\n    }\r\n    credentials.$source[feature] = value;\r\n    return credentials;\r\n}\r\n", "export function setFeature(context, feature, value) {\r\n    if (!context.__aws_sdk_context) {\r\n        context.__aws_sdk_context = {\r\n            features: {},\r\n        };\r\n    }\r\n    else if (!context.__aws_sdk_context.features) {\r\n        context.__aws_sdk_context.features = {};\r\n    }\r\n    context.__aws_sdk_context.features[feature] = value;\r\n}\r\n", "export function setTokenFeature(token, feature, value) {\r\n    if (!token.$source) {\r\n        token.$source = {};\r\n    }\r\n    token.$source[feature] = value;\r\n    return token;\r\n}\r\n", "export * from \"./emitWarningIfUnsupportedVersion\";\r\nexport * from \"./setCredentialFeature\";\r\nexport * from \"./setFeature\";\r\nexport * from \"./setTokenFeature\";\r\n", "import { HttpResponse } from \"@smithy/protocol-http\";\r\nexport const getDateHeader = (response) => HttpResponse.isInstance(response) ? response.headers?.date ?? response.headers?.Date : undefined;\r\n", "export const getSkewCorrectedDate = (systemClockOffset) => new Date(Date.now() + systemClockOffset);\r\n", "import { getSkewCorrectedDate } from \"./getSkewCorrectedDate\";\r\nexport const isClockSkewed = (clockTime, systemClockOffset) => Math.abs(getSkewCorrectedDate(systemClockOffset).getTime() - clockTime) >= 300000;\r\n", "import { isClockSkewed } from \"./isClockSkewed\";\r\nexport const getUpdatedSystemClockOffset = (clockTime, currentSystemClockOffset) => {\r\n    const clockTimeInMs = Date.parse(clockTime);\r\n    if (isClockSkewed(clockTimeInMs, currentSystemClockOffset)) {\r\n        return clockTimeInMs - Date.now();\r\n    }\r\n    return currentSystemClockOffset;\r\n};\r\n", "export * from \"./getDateHeader\";\r\nexport * from \"./getSkewCorrectedDate\";\r\nexport * from \"./getUpdatedSystemClockOffset\";\r\n", "import { HttpRequest } from \"@smithy/protocol-http\";\r\nimport { getDateHeader, getSkewCorrectedDate, getUpdatedSystemClockOffset } from \"../utils\";\r\nconst throwSigningPropertyError = (name, property) => {\r\n    if (!property) {\r\n        throw new Error(`Property \\`${name}\\` is not resolved for AWS SDK SigV4Auth`);\r\n    }\r\n    return property;\r\n};\r\nexport const validateSigningProperties = async (signingProperties) => {\r\n    const context = throwSigningPropertyError(\"context\", signingProperties.context);\r\n    const config = throwSigningPropertyError(\"config\", signingProperties.config);\r\n    const authScheme = context.endpointV2?.properties?.authSchemes?.[0];\r\n    const signerFunction = throwSigningPropertyError(\"signer\", config.signer);\r\n    const signer = await signerFunction(authScheme);\r\n    const signingRegion = signingProperties?.signingRegion;\r\n    const signingRegionSet = signingProperties?.signingRegionSet;\r\n    const signingName = signingProperties?.signingName;\r\n    return {\r\n        config,\r\n        signer,\r\n        signingRegion,\r\n        signingRegionSet,\r\n        signingName,\r\n    };\r\n};\r\nexport class AwsSdkSigV4Signer {\r\n    async sign(httpRequest, identity, signingProperties) {\r\n        if (!HttpRequest.isInstance(httpRequest)) {\r\n            throw new Error(\"The request is not an instance of `HttpRequest` and cannot be signed\");\r\n        }\r\n        const validatedProps = await validateSigningProperties(signingProperties);\r\n        const { config, signer } = validatedProps;\r\n        let { signingRegion, signingName } = validatedProps;\r\n        const handlerExecutionContext = signingProperties.context;\r\n        if (handlerExecutionContext?.authSchemes?.length ?? 0 > 1) {\r\n            const [first, second] = handlerExecutionContext.authSchemes;\r\n            if (first?.name === \"sigv4a\" && second?.name === \"sigv4\") {\r\n                signingRegion = second?.signingRegion ?? signingRegion;\r\n                signingName = second?.signingName ?? signingName;\r\n            }\r\n        }\r\n        const signedRequest = await signer.sign(httpRequest, {\r\n            signingDate: getSkewCorrectedDate(config.systemClockOffset),\r\n            signingRegion: signingRegion,\r\n            signingService: signingName,\r\n        });\r\n        return signedRequest;\r\n    }\r\n    errorHandler(signingProperties) {\r\n        return (error) => {\r\n            const serverTime = error.ServerTime ?? getDateHeader(error.$response);\r\n            if (serverTime) {\r\n                const config = throwSigningPropertyError(\"config\", signingProperties.config);\r\n                const initialSystemClockOffset = config.systemClockOffset;\r\n                config.systemClockOffset = getUpdatedSystemClockOffset(serverTime, config.systemClockOffset);\r\n                const clockSkewCorrected = config.systemClockOffset !== initialSystemClockOffset;\r\n                if (clockSkewCorrected && error.$metadata) {\r\n                    error.$metadata.clockSkewCorrected = true;\r\n                }\r\n            }\r\n            throw error;\r\n        };\r\n    }\r\n    successHandler(httpResponse, signingProperties) {\r\n        const dateHeader = getDateHeader(httpResponse);\r\n        if (dateHeader) {\r\n            const config = throwSigningPropertyError(\"config\", signingProperties.config);\r\n            config.systemClockOffset = getUpdatedSystemClockOffset(dateHeader, config.systemClockOffset);\r\n        }\r\n    }\r\n}\r\nexport const AWSSDKSigV4Signer = AwsSdkSigV4Signer;\r\n", "import { HttpRequest } from \"@smithy/protocol-http\";\r\nimport { getSkewCorrectedDate } from \"../utils\";\r\nimport { AwsSdkSigV4Signer, validateSigningProperties } from \"./AwsSdkSigV4Signer\";\r\nexport class AwsSdkSigV4ASigner extends AwsSdkSigV4Signer {\r\n    async sign(httpRequest, identity, signingProperties) {\r\n        if (!HttpRequest.isInstance(httpRequest)) {\r\n            throw new Error(\"The request is not an instance of `HttpRequest` and cannot be signed\");\r\n        }\r\n        const { config, signer, signingRegion, signingRegionSet, signingName } = await validateSigningProperties(signingProperties);\r\n        const configResolvedSigningRegionSet = await config.sigv4aSigningRegionSet?.();\r\n        const multiRegionOverride = (configResolvedSigningRegionSet ??\r\n            signingRegionSet ?? [signingRegion]).join(\",\");\r\n        const signedRequest = await signer.sign(httpRequest, {\r\n            signingDate: getSkewCorrectedDate(config.systemClockOffset),\r\n            signingRegion: multiRegionOverride,\r\n            signingService: signingName,\r\n        });\r\n        return signedRequest;\r\n    }\r\n}\r\n", "export const getArrayForCommaSeparatedString = (str) => typeof str === \"string\" && str.length > 0 ? str.split(\",\").map((item) => item.trim()) : [];\r\n", "export const getBearerTokenEnvKey = (signingName) => `AWS_BEARER_TOKEN_${signingName.replace(/[\\s-]/g, \"_\").toUpperCase()}`;\r\n", "import { getArrayForCommaSeparatedString } from \"../utils/getArrayForCommaSeparatedString\";\r\nimport { getBearerTokenEnvKey } from \"../utils/getBearerTokenEnvKey\";\r\nconst NODE_AUTH_SCHEME_PREFERENCE_ENV_KEY = \"AWS_AUTH_SCHEME_PREFERENCE\";\r\nconst NODE_AUTH_SCHEME_PREFERENCE_CONFIG_KEY = \"auth_scheme_preference\";\r\nexport const NODE_AUTH_SCHEME_PREFERENCE_OPTIONS = {\r\n    environmentVariableSelector: (env, options) => {\r\n        if (options?.signingName) {\r\n            const bearerTokenKey = getBearerTokenEnvKey(options.signingName);\r\n            if (bearerTokenKey in env)\r\n                return [\"httpBearerAuth\"];\r\n        }\r\n        if (!(NODE_AUTH_SCHEME_PREFERENCE_ENV_KEY in env))\r\n            return undefined;\r\n        return getArrayForCommaSeparatedString(env[NODE_AUTH_SCHEME_PREFERENCE_ENV_KEY]);\r\n    },\r\n    configFileSelector: (profile) => {\r\n        if (!(NODE_AUTH_SCHEME_PREFERENCE_CONFIG_KEY in profile))\r\n            return undefined;\r\n        return getArrayForCommaSeparatedString(profile[NODE_AUTH_SCHEME_PREFERENCE_CONFIG_KEY]);\r\n    },\r\n    default: [],\r\n};\r\n", "import { normalizeProvider } from \"@smithy/core\";\r\nimport { ProviderError } from \"@smithy/property-provider\";\r\nexport const resolveAwsSdkSigV4AConfig = (config) => {\r\n    config.sigv4aSigningRegionSet = normalizeProvider(config.sigv4aSigningRegionSet);\r\n    return config;\r\n};\r\nexport const NODE_SIGV4A_CONFIG_OPTIONS = {\r\n    environmentVariableSelector(env) {\r\n        if (env.AWS_SIGV4A_SIGNING_REGION_SET) {\r\n            return env.AWS_SIGV4A_SIGNING_REGION_SET.split(\",\").map((_) => _.trim());\r\n        }\r\n        throw new ProviderError(\"AWS_SIGV4A_SIGNING_REGION_SET not set in env.\", {\r\n            tryNextLink: true,\r\n        });\r\n    },\r\n    configFileSelector(profile) {\r\n        if (profile.sigv4a_signing_region_set) {\r\n            return (profile.sigv4a_signing_region_set ?? \"\").split(\",\").map((_) => _.trim());\r\n        }\r\n        throw new ProviderError(\"sigv4a_signing_region_set not set in profile.\", {\r\n            tryNextLink: true,\r\n        });\r\n    },\r\n    default: undefined,\r\n};\r\n", "import { setCredentialFeature } from \"@aws-sdk/core/client\";\r\nimport { doesIdentityRequireRefresh, isIdentityExpired, memoizeIdentityProvider, normalizeProvider, } from \"@smithy/core\";\r\nimport { SignatureV4 } from \"@smithy/signature-v4\";\r\nexport const resolveAwsSdkSigV4Config = (config) => {\r\n    let inputCredentials = config.credentials;\r\n    let isUserSupplied = !!config.credentials;\r\n    let resolvedCredentials = undefined;\r\n    Object.defineProperty(config, \"credentials\", {\r\n        set(credentials) {\r\n            if (credentials && credentials !== inputCredentials && credentials !== resolvedCredentials) {\r\n                isUserSupplied = true;\r\n            }\r\n            inputCredentials = credentials;\r\n            const memoizedProvider = normalizeCredentialProvider(config, {\r\n                credentials: inputCredentials,\r\n                credentialDefaultProvider: config.credentialDefaultProvider,\r\n            });\r\n            const boundProvider = bindCallerConfig(config, memoizedProvider);\r\n            if (isUserSupplied && !boundProvider.attributed) {\r\n                const isCredentialObject = typeof inputCredentials === \"object\" && inputCredentials !== null;\r\n                resolvedCredentials = async (options) => {\r\n                    const creds = await boundProvider(options);\r\n                    const attributedCreds = creds;\r\n                    if (isCredentialObject && (!attributedCreds.$source || Object.keys(attributedCreds.$source).length === 0)) {\r\n                        return setCredentialFeature(attributedCreds, \"CREDENTIALS_CODE\", \"e\");\r\n                    }\r\n                    return attributedCreds;\r\n                };\r\n                resolvedCredentials.memoized = boundProvider.memoized;\r\n                resolvedCredentials.configBound = boundProvider.configBound;\r\n                resolvedCredentials.attributed = true;\r\n            }\r\n            else {\r\n                resolvedCredentials = boundProvider;\r\n            }\r\n        },\r\n        get() {\r\n            return resolvedCredentials;\r\n        },\r\n        enumerable: true,\r\n        configurable: true,\r\n    });\r\n    config.credentials = inputCredentials;\r\n    const { signingEscapePath = true, systemClockOffset = config.systemClockOffset || 0, sha256, } = config;\r\n    let signer;\r\n    if (config.signer) {\r\n        signer = normalizeProvider(config.signer);\r\n    }\r\n    else if (config.regionInfoProvider) {\r\n        signer = () => normalizeProvider(config.region)()\r\n            .then(async (region) => [\r\n            (await config.regionInfoProvider(region, {\r\n                useFipsEndpoint: await config.useFipsEndpoint(),\r\n                useDualstackEndpoint: await config.useDualstackEndpoint(),\r\n            })) || {},\r\n            region,\r\n        ])\r\n            .then(([regionInfo, region]) => {\r\n            const { signingRegion, signingService } = regionInfo;\r\n            config.signingRegion = config.signingRegion || signingRegion || region;\r\n            config.signingName = config.signingName || signingService || config.serviceId;\r\n            const params = {\r\n                ...config,\r\n                credentials: config.credentials,\r\n                region: config.signingRegion,\r\n                service: config.signingName,\r\n                sha256,\r\n                uriEscapePath: signingEscapePath,\r\n            };\r\n            const SignerCtor = config.signerConstructor || SignatureV4;\r\n            return new SignerCtor(params);\r\n        });\r\n    }\r\n    else {\r\n        signer = async (authScheme) => {\r\n            authScheme = Object.assign({}, {\r\n                name: \"sigv4\",\r\n                signingName: config.signingName || config.defaultSigningName,\r\n                signingRegion: await normalizeProvider(config.region)(),\r\n                properties: {},\r\n            }, authScheme);\r\n            const signingRegion = authScheme.signingRegion;\r\n            const signingService = authScheme.signingName;\r\n            config.signingRegion = config.signingRegion || signingRegion;\r\n            config.signingName = config.signingName || signingService || config.serviceId;\r\n            const params = {\r\n                ...config,\r\n                credentials: config.credentials,\r\n                region: config.signingRegion,\r\n                service: config.signingName,\r\n                sha256,\r\n                uriEscapePath: signingEscapePath,\r\n            };\r\n            const SignerCtor = config.signerConstructor || SignatureV4;\r\n            return new SignerCtor(params);\r\n        };\r\n    }\r\n    const resolvedConfig = Object.assign(config, {\r\n        systemClockOffset,\r\n        signingEscapePath,\r\n        signer,\r\n    });\r\n    return resolvedConfig;\r\n};\r\nexport const resolveAWSSDKSigV4Config = resolveAwsSdkSigV4Config;\r\nfunction normalizeCredentialProvider(config, { credentials, credentialDefaultProvider, }) {\r\n    let credentialsProvider;\r\n    if (credentials) {\r\n        if (!credentials?.memoized) {\r\n            credentialsProvider = memoizeIdentityProvider(credentials, isIdentityExpired, doesIdentityRequireRefresh);\r\n        }\r\n        else {\r\n            credentialsProvider = credentials;\r\n        }\r\n    }\r\n    else {\r\n        if (credentialDefaultProvider) {\r\n            credentialsProvider = normalizeProvider(credentialDefaultProvider(Object.assign({}, config, {\r\n                parentClientConfig: config,\r\n            })));\r\n        }\r\n        else {\r\n            credentialsProvider = async () => {\r\n                throw new Error(\"@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.\");\r\n            };\r\n        }\r\n    }\r\n    credentialsProvider.memoized = true;\r\n    return credentialsProvider;\r\n}\r\nfunction bindCallerConfig(config, credentialsProvider) {\r\n    if (credentialsProvider.configBound) {\r\n        return credentialsProvider;\r\n    }\r\n    const fn = async (options) => credentialsProvider({ ...options, callerClientConfig: config });\r\n    fn.memoized = credentialsProvider.memoized;\r\n    fn.configBound = true;\r\n    return fn;\r\n}\r\n", "export { AwsSdkSigV4Signer, AWSSDKSigV4Signer, validateSigningProperties } from \"./AwsSdkSigV4Signer\";\r\nexport { AwsSdkSigV4ASigner } from \"./AwsSdkSigV4ASigner\";\r\nexport * from \"./NODE_AUTH_SCHEME_PREFERENCE_OPTIONS\";\r\nexport * from \"./resolveAwsSdkSigV4AConfig\";\r\nexport * from \"./resolveAwsSdkSigV4Config\";\r\n", "export * from \"./aws_sdk\";\r\nexport * from \"./utils/getBearerTokenEnvKey\";\r\n", "export const majorUint64 = 0;\r\nexport const majorNegativeInt64 = 1;\r\nexport const majorUnstructuredByteString = 2;\r\nexport const majorUtf8String = 3;\r\nexport const majorList = 4;\r\nexport const majorMap = 5;\r\nexport const majorTag = 6;\r\nexport const majorSpecial = 7;\r\nexport const specialFalse = 20;\r\nexport const specialTrue = 21;\r\nexport const specialNull = 22;\r\nexport const specialUndefined = 23;\r\nexport const extendedOneByte = 24;\r\nexport const extendedFloat16 = 25;\r\nexport const extendedFloat32 = 26;\r\nexport const extendedFloat64 = 27;\r\nexport const minorIndefinite = 31;\r\nexport function alloc(size) {\r\n    return typeof Buffer !== \"undefined\" ? Buffer.alloc(size) : new Uint8Array(size);\r\n}\r\nexport const tagSymbol = Symbol(\"@smithy/core/cbor::tagSymbol\");\r\nexport function tag(data) {\r\n    data[tagSymbol] = true;\r\n    return data;\r\n}\r\n", "import { nv } from \"@smithy/core/serde\";\r\nimport { toUtf8 } from \"@smithy/util-utf8\";\r\nimport { alloc, extendedFloat16, extendedFloat32, extendedFloat64, extendedOneByte, majorList, majorMap, majorNegativeInt64, majorTag, majorUint64, majorUnstructuredByteString, majorUtf8String, minorIndefinite, specialFalse, specialNull, specialTrue, specialUndefined, tag, } from \"./cbor-types\";\r\nconst USE_TEXT_DECODER = typeof TextDecoder !== \"undefined\";\r\nconst USE_BUFFER = typeof Buffer !== \"undefined\";\r\nlet payload = alloc(0);\r\nlet dataView = new DataView(payload.buffer, payload.byteOffset, payload.byteLength);\r\nconst textDecoder = USE_TEXT_DECODER ? new TextDecoder() : null;\r\nlet _offset = 0;\r\nexport function setPayload(bytes) {\r\n    payload = bytes;\r\n    dataView = new DataView(payload.buffer, payload.byteOffset, payload.byteLength);\r\n}\r\nexport function decode(at, to) {\r\n    if (at >= to) {\r\n        throw new Error(\"unexpected end of (decode) payload.\");\r\n    }\r\n    const major = (payload[at] & 0b1110_0000) >> 5;\r\n    const minor = payload[at] & 0b0001_1111;\r\n    switch (major) {\r\n        case majorUint64:\r\n        case majorNegativeInt64:\r\n        case majorTag:\r\n            let unsignedInt;\r\n            let offset;\r\n            if (minor < 24) {\r\n                unsignedInt = minor;\r\n                offset = 1;\r\n            }\r\n            else {\r\n                switch (minor) {\r\n                    case extendedOneByte:\r\n                    case extendedFloat16:\r\n                    case extendedFloat32:\r\n                    case extendedFloat64:\r\n                        const countLength = minorValueToArgumentLength[minor];\r\n                        const countOffset = (countLength + 1);\r\n                        offset = countOffset;\r\n                        if (to - at < countOffset) {\r\n                            throw new Error(`countLength ${countLength} greater than remaining buf len.`);\r\n                        }\r\n                        const countIndex = at + 1;\r\n                        if (countLength === 1) {\r\n                            unsignedInt = payload[countIndex];\r\n                        }\r\n                        else if (countLength === 2) {\r\n                            unsignedInt = dataView.getUint16(countIndex);\r\n                        }\r\n                        else if (countLength === 4) {\r\n                            unsignedInt = dataView.getUint32(countIndex);\r\n                        }\r\n                        else {\r\n                            unsignedInt = dataView.getBigUint64(countIndex);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        throw new Error(`unexpected minor value ${minor}.`);\r\n                }\r\n            }\r\n            if (major === majorUint64) {\r\n                _offset = offset;\r\n                return castBigInt(unsignedInt);\r\n            }\r\n            else if (major === majorNegativeInt64) {\r\n                let negativeInt;\r\n                if (typeof unsignedInt === \"bigint\") {\r\n                    negativeInt = BigInt(-1) - unsignedInt;\r\n                }\r\n                else {\r\n                    negativeInt = -1 - unsignedInt;\r\n                }\r\n                _offset = offset;\r\n                return castBigInt(negativeInt);\r\n            }\r\n            else {\r\n                if (minor === 2 || minor === 3) {\r\n                    const length = decodeCount(at + offset, to);\r\n                    let b = BigInt(0);\r\n                    const start = at + offset + _offset;\r\n                    for (let i = start; i < start + length; ++i) {\r\n                        b = (b << BigInt(8)) | BigInt(payload[i]);\r\n                    }\r\n                    _offset = offset + _offset + length;\r\n                    return minor === 3 ? -b - BigInt(1) : b;\r\n                }\r\n                else if (minor === 4) {\r\n                    const decimalFraction = decode(at + offset, to);\r\n                    const [exponent, mantissa] = decimalFraction;\r\n                    const normalizer = mantissa < 0 ? -1 : 1;\r\n                    const mantissaStr = \"0\".repeat(Math.abs(exponent) + 1) + String(BigInt(normalizer) * BigInt(mantissa));\r\n                    let numericString;\r\n                    const sign = mantissa < 0 ? \"-\" : \"\";\r\n                    numericString =\r\n                        exponent === 0\r\n                            ? mantissaStr\r\n                            : mantissaStr.slice(0, mantissaStr.length + exponent) + \".\" + mantissaStr.slice(exponent);\r\n                    numericString = numericString.replace(/^0+/g, \"\");\r\n                    if (numericString === \"\") {\r\n                        numericString = \"0\";\r\n                    }\r\n                    if (numericString[0] === \".\") {\r\n                        numericString = \"0\" + numericString;\r\n                    }\r\n                    numericString = sign + numericString;\r\n                    _offset = offset + _offset;\r\n                    return nv(numericString);\r\n                }\r\n                else {\r\n                    const value = decode(at + offset, to);\r\n                    const valueOffset = _offset;\r\n                    _offset = offset + valueOffset;\r\n                    return tag({ tag: castBigInt(unsignedInt), value });\r\n                }\r\n            }\r\n        case majorUtf8String:\r\n        case majorMap:\r\n        case majorList:\r\n        case majorUnstructuredByteString:\r\n            if (minor === minorIndefinite) {\r\n                switch (major) {\r\n                    case majorUtf8String:\r\n                        return decodeUtf8StringIndefinite(at, to);\r\n                    case majorMap:\r\n                        return decodeMapIndefinite(at, to);\r\n                    case majorList:\r\n                        return decodeListIndefinite(at, to);\r\n                    case majorUnstructuredByteString:\r\n                        return decodeUnstructuredByteStringIndefinite(at, to);\r\n                }\r\n            }\r\n            else {\r\n                switch (major) {\r\n                    case majorUtf8String:\r\n                        return decodeUtf8String(at, to);\r\n                    case majorMap:\r\n                        return decodeMap(at, to);\r\n                    case majorList:\r\n                        return decodeList(at, to);\r\n                    case majorUnstructuredByteString:\r\n                        return decodeUnstructuredByteString(at, to);\r\n                }\r\n            }\r\n        default:\r\n            return decodeSpecial(at, to);\r\n    }\r\n}\r\nfunction bytesToUtf8(bytes, at, to) {\r\n    if (USE_BUFFER && bytes.constructor?.name === \"Buffer\") {\r\n        return bytes.toString(\"utf-8\", at, to);\r\n    }\r\n    if (textDecoder) {\r\n        return textDecoder.decode(bytes.subarray(at, to));\r\n    }\r\n    return toUtf8(bytes.subarray(at, to));\r\n}\r\nfunction demote(bigInteger) {\r\n    const num = Number(bigInteger);\r\n    if (num < Number.MIN_SAFE_INTEGER || Number.MAX_SAFE_INTEGER < num) {\r\n        console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${bigInteger}) to ${num} with loss of precision.`));\r\n    }\r\n    return num;\r\n}\r\nconst minorValueToArgumentLength = {\r\n    [extendedOneByte]: 1,\r\n    [extendedFloat16]: 2,\r\n    [extendedFloat32]: 4,\r\n    [extendedFloat64]: 8,\r\n};\r\nexport function bytesToFloat16(a, b) {\r\n    const sign = a >> 7;\r\n    const exponent = (a & 0b0111_1100) >> 2;\r\n    const fraction = ((a & 0b0000_0011) << 8) | b;\r\n    const scalar = sign === 0 ? 1 : -1;\r\n    let exponentComponent;\r\n    let summation;\r\n    if (exponent === 0b00000) {\r\n        if (fraction === 0b00000_00000) {\r\n            return 0;\r\n        }\r\n        else {\r\n            exponentComponent = Math.pow(2, 1 - 15);\r\n            summation = 0;\r\n        }\r\n    }\r\n    else if (exponent === 0b11111) {\r\n        if (fraction === 0b00000_00000) {\r\n            return scalar * Infinity;\r\n        }\r\n        else {\r\n            return NaN;\r\n        }\r\n    }\r\n    else {\r\n        exponentComponent = Math.pow(2, exponent - 15);\r\n        summation = 1;\r\n    }\r\n    summation += fraction / 1024;\r\n    return scalar * (exponentComponent * summation);\r\n}\r\nfunction decodeCount(at, to) {\r\n    const minor = payload[at] & 0b0001_1111;\r\n    if (minor < 24) {\r\n        _offset = 1;\r\n        return minor;\r\n    }\r\n    if (minor === extendedOneByte ||\r\n        minor === extendedFloat16 ||\r\n        minor === extendedFloat32 ||\r\n        minor === extendedFloat64) {\r\n        const countLength = minorValueToArgumentLength[minor];\r\n        _offset = (countLength + 1);\r\n        if (to - at < _offset) {\r\n            throw new Error(`countLength ${countLength} greater than remaining buf len.`);\r\n        }\r\n        const countIndex = at + 1;\r\n        if (countLength === 1) {\r\n            return payload[countIndex];\r\n        }\r\n        else if (countLength === 2) {\r\n            return dataView.getUint16(countIndex);\r\n        }\r\n        else if (countLength === 4) {\r\n            return dataView.getUint32(countIndex);\r\n        }\r\n        return demote(dataView.getBigUint64(countIndex));\r\n    }\r\n    throw new Error(`unexpected minor value ${minor}.`);\r\n}\r\nfunction decodeUtf8String(at, to) {\r\n    const length = decodeCount(at, to);\r\n    const offset = _offset;\r\n    at += offset;\r\n    if (to - at < length) {\r\n        throw new Error(`string len ${length} greater than remaining buf len.`);\r\n    }\r\n    const value = bytesToUtf8(payload, at, at + length);\r\n    _offset = offset + length;\r\n    return value;\r\n}\r\nfunction decodeUtf8StringIndefinite(at, to) {\r\n    at += 1;\r\n    const vector = [];\r\n    for (const base = at; at < to;) {\r\n        if (payload[at] === 0b1111_1111) {\r\n            const data = alloc(vector.length);\r\n            data.set(vector, 0);\r\n            _offset = at - base + 2;\r\n            return bytesToUtf8(data, 0, data.length);\r\n        }\r\n        const major = (payload[at] & 0b1110_0000) >> 5;\r\n        const minor = payload[at] & 0b0001_1111;\r\n        if (major !== majorUtf8String) {\r\n            throw new Error(`unexpected major type ${major} in indefinite string.`);\r\n        }\r\n        if (minor === minorIndefinite) {\r\n            throw new Error(\"nested indefinite string.\");\r\n        }\r\n        const bytes = decodeUnstructuredByteString(at, to);\r\n        const length = _offset;\r\n        at += length;\r\n        for (let i = 0; i < bytes.length; ++i) {\r\n            vector.push(bytes[i]);\r\n        }\r\n    }\r\n    throw new Error(\"expected break marker.\");\r\n}\r\nfunction decodeUnstructuredByteString(at, to) {\r\n    const length = decodeCount(at, to);\r\n    const offset = _offset;\r\n    at += offset;\r\n    if (to - at < length) {\r\n        throw new Error(`unstructured byte string len ${length} greater than remaining buf len.`);\r\n    }\r\n    const value = payload.subarray(at, at + length);\r\n    _offset = offset + length;\r\n    return value;\r\n}\r\nfunction decodeUnstructuredByteStringIndefinite(at, to) {\r\n    at += 1;\r\n    const vector = [];\r\n    for (const base = at; at < to;) {\r\n        if (payload[at] === 0b1111_1111) {\r\n            const data = alloc(vector.length);\r\n            data.set(vector, 0);\r\n            _offset = at - base + 2;\r\n            return data;\r\n        }\r\n        const major = (payload[at] & 0b1110_0000) >> 5;\r\n        const minor = payload[at] & 0b0001_1111;\r\n        if (major !== majorUnstructuredByteString) {\r\n            throw new Error(`unexpected major type ${major} in indefinite string.`);\r\n        }\r\n        if (minor === minorIndefinite) {\r\n            throw new Error(\"nested indefinite string.\");\r\n        }\r\n        const bytes = decodeUnstructuredByteString(at, to);\r\n        const length = _offset;\r\n        at += length;\r\n        for (let i = 0; i < bytes.length; ++i) {\r\n            vector.push(bytes[i]);\r\n        }\r\n    }\r\n    throw new Error(\"expected break marker.\");\r\n}\r\nfunction decodeList(at, to) {\r\n    const listDataLength = decodeCount(at, to);\r\n    const offset = _offset;\r\n    at += offset;\r\n    const base = at;\r\n    const list = Array(listDataLength);\r\n    for (let i = 0; i < listDataLength; ++i) {\r\n        const item = decode(at, to);\r\n        const itemOffset = _offset;\r\n        list[i] = item;\r\n        at += itemOffset;\r\n    }\r\n    _offset = offset + (at - base);\r\n    return list;\r\n}\r\nfunction decodeListIndefinite(at, to) {\r\n    at += 1;\r\n    const list = [];\r\n    for (const base = at; at < to;) {\r\n        if (payload[at] === 0b1111_1111) {\r\n            _offset = at - base + 2;\r\n            return list;\r\n        }\r\n        const item = decode(at, to);\r\n        const n = _offset;\r\n        at += n;\r\n        list.push(item);\r\n    }\r\n    throw new Error(\"expected break marker.\");\r\n}\r\nfunction decodeMap(at, to) {\r\n    const mapDataLength = decodeCount(at, to);\r\n    const offset = _offset;\r\n    at += offset;\r\n    const base = at;\r\n    const map = {};\r\n    for (let i = 0; i < mapDataLength; ++i) {\r\n        if (at >= to) {\r\n            throw new Error(\"unexpected end of map payload.\");\r\n        }\r\n        const major = (payload[at] & 0b1110_0000) >> 5;\r\n        if (major !== majorUtf8String) {\r\n            throw new Error(`unexpected major type ${major} for map key at index ${at}.`);\r\n        }\r\n        const key = decode(at, to);\r\n        at += _offset;\r\n        const value = decode(at, to);\r\n        at += _offset;\r\n        map[key] = value;\r\n    }\r\n    _offset = offset + (at - base);\r\n    return map;\r\n}\r\nfunction decodeMapIndefinite(at, to) {\r\n    at += 1;\r\n    const base = at;\r\n    const map = {};\r\n    for (; at < to;) {\r\n        if (at >= to) {\r\n            throw new Error(\"unexpected end of map payload.\");\r\n        }\r\n        if (payload[at] === 0b1111_1111) {\r\n            _offset = at - base + 2;\r\n            return map;\r\n        }\r\n        const major = (payload[at] & 0b1110_0000) >> 5;\r\n        if (major !== majorUtf8String) {\r\n            throw new Error(`unexpected major type ${major} for map key.`);\r\n        }\r\n        const key = decode(at, to);\r\n        at += _offset;\r\n        const value = decode(at, to);\r\n        at += _offset;\r\n        map[key] = value;\r\n    }\r\n    throw new Error(\"expected break marker.\");\r\n}\r\nfunction decodeSpecial(at, to) {\r\n    const minor = payload[at] & 0b0001_1111;\r\n    switch (minor) {\r\n        case specialTrue:\r\n        case specialFalse:\r\n            _offset = 1;\r\n            return minor === specialTrue;\r\n        case specialNull:\r\n            _offset = 1;\r\n            return null;\r\n        case specialUndefined:\r\n            _offset = 1;\r\n            return null;\r\n        case extendedFloat16:\r\n            if (to - at < 3) {\r\n                throw new Error(\"incomplete float16 at end of buf.\");\r\n            }\r\n            _offset = 3;\r\n            return bytesToFloat16(payload[at + 1], payload[at + 2]);\r\n        case extendedFloat32:\r\n            if (to - at < 5) {\r\n                throw new Error(\"incomplete float32 at end of buf.\");\r\n            }\r\n            _offset = 5;\r\n            return dataView.getFloat32(at + 1);\r\n        case extendedFloat64:\r\n            if (to - at < 9) {\r\n                throw new Error(\"incomplete float64 at end of buf.\");\r\n            }\r\n            _offset = 9;\r\n            return dataView.getFloat64(at + 1);\r\n        default:\r\n            throw new Error(`unexpected minor value ${minor}.`);\r\n    }\r\n}\r\nfunction castBigInt(bigInt) {\r\n    if (typeof bigInt === \"number\") {\r\n        return bigInt;\r\n    }\r\n    const num = Number(bigInt);\r\n    if (Number.MIN_SAFE_INTEGER <= num && num <= Number.MAX_SAFE_INTEGER) {\r\n        return num;\r\n    }\r\n    return bigInt;\r\n}\r\n", "import { NumericValue } from \"@smithy/core/serde\";\r\nimport { fromUtf8 } from \"@smithy/util-utf8\";\r\nimport { alloc, extendedFloat16, extendedFloat32, extendedFloat64, majorList, majorMap, majorNegativeInt64, majorSpecial, majorTag, majorUint64, majorUnstructuredByteString, majorUtf8String, specialFalse, specialNull, specialTrue, tagSymbol, } from \"./cbor-types\";\r\nconst USE_BUFFER = typeof Buffer !== \"undefined\";\r\nconst initialSize = 2048;\r\nlet data = alloc(initialSize);\r\nlet dataView = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\nlet cursor = 0;\r\nfunction ensureSpace(bytes) {\r\n    const remaining = data.byteLength - cursor;\r\n    if (remaining < bytes) {\r\n        if (cursor < 16_000_000) {\r\n            resize(Math.max(data.byteLength * 4, data.byteLength + bytes));\r\n        }\r\n        else {\r\n            resize(data.byteLength + bytes + 16_000_000);\r\n        }\r\n    }\r\n}\r\nexport function toUint8Array() {\r\n    const out = alloc(cursor);\r\n    out.set(data.subarray(0, cursor), 0);\r\n    cursor = 0;\r\n    return out;\r\n}\r\nexport function resize(size) {\r\n    const old = data;\r\n    data = alloc(size);\r\n    if (old) {\r\n        if (old.copy) {\r\n            old.copy(data, 0, 0, old.byteLength);\r\n        }\r\n        else {\r\n            data.set(old, 0);\r\n        }\r\n    }\r\n    dataView = new DataView(data.buffer, data.byteOffset, data.byteLength);\r\n}\r\nfunction encodeHeader(major, value) {\r\n    if (value < 24) {\r\n        data[cursor++] = (major << 5) | value;\r\n    }\r\n    else if (value < 1 << 8) {\r\n        data[cursor++] = (major << 5) | 24;\r\n        data[cursor++] = value;\r\n    }\r\n    else if (value < 1 << 16) {\r\n        data[cursor++] = (major << 5) | extendedFloat16;\r\n        dataView.setUint16(cursor, value);\r\n        cursor += 2;\r\n    }\r\n    else if (value < 2 ** 32) {\r\n        data[cursor++] = (major << 5) | extendedFloat32;\r\n        dataView.setUint32(cursor, value);\r\n        cursor += 4;\r\n    }\r\n    else {\r\n        data[cursor++] = (major << 5) | extendedFloat64;\r\n        dataView.setBigUint64(cursor, typeof value === \"bigint\" ? value : BigInt(value));\r\n        cursor += 8;\r\n    }\r\n}\r\nexport function encode(_input) {\r\n    const encodeStack = [_input];\r\n    while (encodeStack.length) {\r\n        const input = encodeStack.pop();\r\n        ensureSpace(typeof input === \"string\" ? input.length * 4 : 64);\r\n        if (typeof input === \"string\") {\r\n            if (USE_BUFFER) {\r\n                encodeHeader(majorUtf8String, Buffer.byteLength(input));\r\n                cursor += data.write(input, cursor);\r\n            }\r\n            else {\r\n                const bytes = fromUtf8(input);\r\n                encodeHeader(majorUtf8String, bytes.byteLength);\r\n                data.set(bytes, cursor);\r\n                cursor += bytes.byteLength;\r\n            }\r\n            continue;\r\n        }\r\n        else if (typeof input === \"number\") {\r\n            if (Number.isInteger(input)) {\r\n                const nonNegative = input >= 0;\r\n                const major = nonNegative ? majorUint64 : majorNegativeInt64;\r\n                const value = nonNegative ? input : -input - 1;\r\n                if (value < 24) {\r\n                    data[cursor++] = (major << 5) | value;\r\n                }\r\n                else if (value < 256) {\r\n                    data[cursor++] = (major << 5) | 24;\r\n                    data[cursor++] = value;\r\n                }\r\n                else if (value < 65536) {\r\n                    data[cursor++] = (major << 5) | extendedFloat16;\r\n                    data[cursor++] = value >> 8;\r\n                    data[cursor++] = value;\r\n                }\r\n                else if (value < 4294967296) {\r\n                    data[cursor++] = (major << 5) | extendedFloat32;\r\n                    dataView.setUint32(cursor, value);\r\n                    cursor += 4;\r\n                }\r\n                else {\r\n                    data[cursor++] = (major << 5) | extendedFloat64;\r\n                    dataView.setBigUint64(cursor, BigInt(value));\r\n                    cursor += 8;\r\n                }\r\n                continue;\r\n            }\r\n            data[cursor++] = (majorSpecial << 5) | extendedFloat64;\r\n            dataView.setFloat64(cursor, input);\r\n            cursor += 8;\r\n            continue;\r\n        }\r\n        else if (typeof input === \"bigint\") {\r\n            const nonNegative = input >= 0;\r\n            const major = nonNegative ? majorUint64 : majorNegativeInt64;\r\n            const value = nonNegative ? input : -input - BigInt(1);\r\n            const n = Number(value);\r\n            if (n < 24) {\r\n                data[cursor++] = (major << 5) | n;\r\n            }\r\n            else if (n < 256) {\r\n                data[cursor++] = (major << 5) | 24;\r\n                data[cursor++] = n;\r\n            }\r\n            else if (n < 65536) {\r\n                data[cursor++] = (major << 5) | extendedFloat16;\r\n                data[cursor++] = n >> 8;\r\n                data[cursor++] = n & 0b1111_1111;\r\n            }\r\n            else if (n < 4294967296) {\r\n                data[cursor++] = (major << 5) | extendedFloat32;\r\n                dataView.setUint32(cursor, n);\r\n                cursor += 4;\r\n            }\r\n            else if (value < BigInt(\"18446744073709551616\")) {\r\n                data[cursor++] = (major << 5) | extendedFloat64;\r\n                dataView.setBigUint64(cursor, value);\r\n                cursor += 8;\r\n            }\r\n            else {\r\n                const binaryBigInt = value.toString(2);\r\n                const bigIntBytes = new Uint8Array(Math.ceil(binaryBigInt.length / 8));\r\n                let b = value;\r\n                let i = 0;\r\n                while (bigIntBytes.byteLength - ++i >= 0) {\r\n                    bigIntBytes[bigIntBytes.byteLength - i] = Number(b & BigInt(255));\r\n                    b >>= BigInt(8);\r\n                }\r\n                ensureSpace(bigIntBytes.byteLength * 2);\r\n                data[cursor++] = nonNegative ? 0b110_00010 : 0b110_00011;\r\n                if (USE_BUFFER) {\r\n                    encodeHeader(majorUnstructuredByteString, Buffer.byteLength(bigIntBytes));\r\n                }\r\n                else {\r\n                    encodeHeader(majorUnstructuredByteString, bigIntBytes.byteLength);\r\n                }\r\n                data.set(bigIntBytes, cursor);\r\n                cursor += bigIntBytes.byteLength;\r\n            }\r\n            continue;\r\n        }\r\n        else if (input === null) {\r\n            data[cursor++] = (majorSpecial << 5) | specialNull;\r\n            continue;\r\n        }\r\n        else if (typeof input === \"boolean\") {\r\n            data[cursor++] = (majorSpecial << 5) | (input ? specialTrue : specialFalse);\r\n            continue;\r\n        }\r\n        else if (typeof input === \"undefined\") {\r\n            throw new Error(\"@smithy/core/cbor: client may not serialize undefined value.\");\r\n        }\r\n        else if (Array.isArray(input)) {\r\n            for (let i = input.length - 1; i >= 0; --i) {\r\n                encodeStack.push(input[i]);\r\n            }\r\n            encodeHeader(majorList, input.length);\r\n            continue;\r\n        }\r\n        else if (typeof input.byteLength === \"number\") {\r\n            ensureSpace(input.length * 2);\r\n            encodeHeader(majorUnstructuredByteString, input.length);\r\n            data.set(input, cursor);\r\n            cursor += input.byteLength;\r\n            continue;\r\n        }\r\n        else if (typeof input === \"object\") {\r\n            if (input instanceof NumericValue) {\r\n                const decimalIndex = input.string.indexOf(\".\");\r\n                const exponent = decimalIndex === -1 ? 0 : decimalIndex - input.string.length + 1;\r\n                const mantissa = BigInt(input.string.replace(\".\", \"\"));\r\n                data[cursor++] = 0b110_00100;\r\n                encodeStack.push(mantissa);\r\n                encodeStack.push(exponent);\r\n                encodeHeader(majorList, 2);\r\n                continue;\r\n            }\r\n            if (input[tagSymbol]) {\r\n                if (\"tag\" in input && \"value\" in input) {\r\n                    encodeStack.push(input.value);\r\n                    encodeHeader(majorTag, input.tag);\r\n                    continue;\r\n                }\r\n                else {\r\n                    throw new Error(\"tag encountered with missing fields, need 'tag' and 'value', found: \" + JSON.stringify(input));\r\n                }\r\n            }\r\n            const keys = Object.keys(input);\r\n            for (let i = keys.length - 1; i >= 0; --i) {\r\n                const key = keys[i];\r\n                encodeStack.push(input[key]);\r\n                encodeStack.push(key);\r\n            }\r\n            encodeHeader(majorMap, keys.length);\r\n            continue;\r\n        }\r\n        throw new Error(`data type ${input?.constructor?.name ?? typeof input} not compatible for encoding.`);\r\n    }\r\n}\r\n", "import { decode, setPayload } from \"./cbor-decode\";\r\nimport { encode, resize, toUint8Array } from \"./cbor-encode\";\r\nexport const cbor = {\r\n    deserialize(payload) {\r\n        setPayload(payload);\r\n        return decode(0, payload.length);\r\n    },\r\n    serialize(input) {\r\n        try {\r\n            encode(input);\r\n            return toUint8Array();\r\n        }\r\n        catch (e) {\r\n            toUint8Array();\r\n            throw e;\r\n        }\r\n    },\r\n    resizeEncodingBuffer(size) {\r\n        resize(size);\r\n    },\r\n};\r\n", "const TEXT_ENCODER = typeof TextEncoder == \"function\" ? new TextEncoder() : null;\r\nexport const calculateBodyLength = (body) => {\r\n    if (typeof body === \"string\") {\r\n        if (TEXT_ENCODER) {\r\n            return TEXT_ENCODER.encode(body).byteLength;\r\n        }\r\n        let len = body.length;\r\n        for (let i = len - 1; i >= 0; i--) {\r\n            const code = body.charCodeAt(i);\r\n            if (code > 0x7f && code <= 0x7ff)\r\n                len++;\r\n            else if (code > 0x7ff && code <= 0xffff)\r\n                len += 2;\r\n            if (code >= 0xdc00 && code <= 0xdfff)\r\n                i--;\r\n        }\r\n        return len;\r\n    }\r\n    else if (typeof body.byteLength === \"number\") {\r\n        return body.byteLength;\r\n    }\r\n    else if (typeof body.size === \"number\") {\r\n        return body.size;\r\n    }\r\n    throw new Error(`Body Length computation failed for ${body}`);\r\n};\r\n", "export * from \"./calculateBodyLength\";\r\n", "import { collectBody } from \"@smithy/core/protocols\";\r\nimport { HttpRequest as __HttpRequest } from \"@smithy/protocol-http\";\r\nimport { calculateBodyLength } from \"@smithy/util-body-length-browser\";\r\nimport { cbor } from \"./cbor\";\r\nimport { tag } from \"./cbor-types\";\r\nexport const parseCborBody = (streamBody, context) => {\r\n    return collectBody(streamBody, context).then(async (bytes) => {\r\n        if (bytes.length) {\r\n            try {\r\n                return cbor.deserialize(bytes);\r\n            }\r\n            catch (e) {\r\n                Object.defineProperty(e, \"$responseBodyText\", {\r\n                    value: context.utf8Encoder(bytes),\r\n                });\r\n                throw e;\r\n            }\r\n        }\r\n        return {};\r\n    });\r\n};\r\nexport const dateToTag = (date) => {\r\n    return tag({\r\n        tag: 1,\r\n        value: date.getTime() / 1000,\r\n    });\r\n};\r\nexport const parseCborErrorBody = async (errorBody, context) => {\r\n    const value = await parseCborBody(errorBody, context);\r\n    value.message = value.message ?? value.Message;\r\n    return value;\r\n};\r\nexport const loadSmithyRpcV2CborErrorCode = (output, data) => {\r\n    const sanitizeErrorCode = (rawValue) => {\r\n        let cleanValue = rawValue;\r\n        if (typeof cleanValue === \"number\") {\r\n            cleanValue = cleanValue.toString();\r\n        }\r\n        if (cleanValue.indexOf(\",\") >= 0) {\r\n            cleanValue = cleanValue.split(\",\")[0];\r\n        }\r\n        if (cleanValue.indexOf(\":\") >= 0) {\r\n            cleanValue = cleanValue.split(\":\")[0];\r\n        }\r\n        if (cleanValue.indexOf(\"#\") >= 0) {\r\n            cleanValue = cleanValue.split(\"#\")[1];\r\n        }\r\n        return cleanValue;\r\n    };\r\n    if (data[\"__type\"] !== undefined) {\r\n        return sanitizeErrorCode(data[\"__type\"]);\r\n    }\r\n    const codeKey = Object.keys(data).find((key) => key.toLowerCase() === \"code\");\r\n    if (codeKey && data[codeKey] !== undefined) {\r\n        return sanitizeErrorCode(data[codeKey]);\r\n    }\r\n};\r\nexport const checkCborResponse = (response) => {\r\n    if (String(response.headers[\"smithy-protocol\"]).toLowerCase() !== \"rpc-v2-cbor\") {\r\n        throw new Error(\"Malformed RPCv2 CBOR response, status: \" + response.statusCode);\r\n    }\r\n};\r\nexport const buildHttpRpcRequest = async (context, headers, path, resolvedHostname, body) => {\r\n    const { hostname, protocol = \"https\", port, path: basePath } = await context.endpoint();\r\n    const contents = {\r\n        protocol,\r\n        hostname,\r\n        port,\r\n        method: \"POST\",\r\n        path: basePath.endsWith(\"/\") ? basePath.slice(0, -1) + path : basePath + path,\r\n        headers: {\r\n            ...headers,\r\n        },\r\n    };\r\n    if (resolvedHostname !== undefined) {\r\n        contents.hostname = resolvedHostname;\r\n    }\r\n    if (body !== undefined) {\r\n        contents.body = body;\r\n        try {\r\n            contents.headers[\"content-length\"] = String(calculateBodyLength(body));\r\n        }\r\n        catch (e) { }\r\n    }\r\n    return new __HttpRequest(contents);\r\n};\r\n", "import { SerdeContext } from \"@smithy/core/protocols\";\r\nimport { NormalizedSchema } from \"@smithy/core/schema\";\r\nimport { _parseEpochTimestamp, generateIdempotencyToken } from \"@smithy/core/serde\";\r\nimport { NumericValue } from \"@smithy/core/serde\";\r\nimport { fromBase64 } from \"@smithy/util-base64\";\r\nimport { cbor } from \"./cbor\";\r\nimport { dateToTag } from \"./parseCborBody\";\r\nexport class CborCodec extends SerdeContext {\r\n    createSerializer() {\r\n        const serializer = new CborShapeSerializer();\r\n        serializer.setSerdeContext(this.serdeContext);\r\n        return serializer;\r\n    }\r\n    createDeserializer() {\r\n        const deserializer = new CborShapeDeserializer();\r\n        deserializer.setSerdeContext(this.serdeContext);\r\n        return deserializer;\r\n    }\r\n}\r\nexport class CborShapeSerializer extends SerdeContext {\r\n    value;\r\n    write(schema, value) {\r\n        this.value = this.serialize(schema, value);\r\n    }\r\n    serialize(schema, source) {\r\n        const ns = NormalizedSchema.of(schema);\r\n        if (source == null) {\r\n            if (ns.isIdempotencyToken()) {\r\n                return generateIdempotencyToken();\r\n            }\r\n            return source;\r\n        }\r\n        if (ns.isBlobSchema()) {\r\n            if (typeof source === \"string\") {\r\n                return (this.serdeContext?.base64Decoder ?? fromBase64)(source);\r\n            }\r\n            return source;\r\n        }\r\n        if (ns.isTimestampSchema()) {\r\n            if (typeof source === \"number\" || typeof source === \"bigint\") {\r\n                return dateToTag(new Date((Number(source) / 1000) | 0));\r\n            }\r\n            return dateToTag(source);\r\n        }\r\n        if (typeof source === \"function\" || typeof source === \"object\") {\r\n            const sourceObject = source;\r\n            if (ns.isListSchema() && Array.isArray(sourceObject)) {\r\n                const sparse = !!ns.getMergedTraits().sparse;\r\n                const newArray = [];\r\n                let i = 0;\r\n                for (const item of sourceObject) {\r\n                    const value = this.serialize(ns.getValueSchema(), item);\r\n                    if (value != null || sparse) {\r\n                        newArray[i++] = value;\r\n                    }\r\n                }\r\n                return newArray;\r\n            }\r\n            if (sourceObject instanceof Date) {\r\n                return dateToTag(sourceObject);\r\n            }\r\n            const newObject = {};\r\n            if (ns.isMapSchema()) {\r\n                const sparse = !!ns.getMergedTraits().sparse;\r\n                for (const key of Object.keys(sourceObject)) {\r\n                    const value = this.serialize(ns.getValueSchema(), sourceObject[key]);\r\n                    if (value != null || sparse) {\r\n                        newObject[key] = value;\r\n                    }\r\n                }\r\n            }\r\n            else if (ns.isStructSchema()) {\r\n                for (const [key, memberSchema] of ns.structIterator()) {\r\n                    const value = this.serialize(memberSchema, sourceObject[key]);\r\n                    if (value != null) {\r\n                        newObject[key] = value;\r\n                    }\r\n                }\r\n                const isUnion = ns.isUnionSchema();\r\n                if (isUnion && Array.isArray(sourceObject.$unknown)) {\r\n                    const [k, v] = sourceObject.$unknown;\r\n                    newObject[k] = v;\r\n                }\r\n                else if (typeof sourceObject.__type === \"string\") {\r\n                    for (const [k, v] of Object.entries(sourceObject)) {\r\n                        if (!(k in newObject)) {\r\n                            newObject[k] = this.serialize(15, v);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (ns.isDocumentSchema()) {\r\n                for (const key of Object.keys(sourceObject)) {\r\n                    newObject[key] = this.serialize(ns.getValueSchema(), sourceObject[key]);\r\n                }\r\n            }\r\n            else if (ns.isBigDecimalSchema()) {\r\n                return sourceObject;\r\n            }\r\n            return newObject;\r\n        }\r\n        return source;\r\n    }\r\n    flush() {\r\n        const buffer = cbor.serialize(this.value);\r\n        this.value = undefined;\r\n        return buffer;\r\n    }\r\n}\r\nexport class CborShapeDeserializer extends SerdeContext {\r\n    read(schema, bytes) {\r\n        const data = cbor.deserialize(bytes);\r\n        return this.readValue(schema, data);\r\n    }\r\n    readValue(_schema, value) {\r\n        const ns = NormalizedSchema.of(_schema);\r\n        if (ns.isTimestampSchema()) {\r\n            if (typeof value === \"number\") {\r\n                return _parseEpochTimestamp(value);\r\n            }\r\n            if (typeof value === \"object\") {\r\n                if (value.tag === 1 && \"value\" in value) {\r\n                    return _parseEpochTimestamp(value.value);\r\n                }\r\n            }\r\n        }\r\n        if (ns.isBlobSchema()) {\r\n            if (typeof value === \"string\") {\r\n                return (this.serdeContext?.base64Decoder ?? fromBase64)(value);\r\n            }\r\n            return value;\r\n        }\r\n        if (typeof value === \"undefined\" ||\r\n            typeof value === \"boolean\" ||\r\n            typeof value === \"number\" ||\r\n            typeof value === \"string\" ||\r\n            typeof value === \"bigint\" ||\r\n            typeof value === \"symbol\") {\r\n            return value;\r\n        }\r\n        else if (typeof value === \"object\") {\r\n            if (value === null) {\r\n                return null;\r\n            }\r\n            if (\"byteLength\" in value) {\r\n                return value;\r\n            }\r\n            if (value instanceof Date) {\r\n                return value;\r\n            }\r\n            if (ns.isDocumentSchema()) {\r\n                return value;\r\n            }\r\n            if (ns.isListSchema()) {\r\n                const newArray = [];\r\n                const memberSchema = ns.getValueSchema();\r\n                const sparse = !!ns.getMergedTraits().sparse;\r\n                for (const item of value) {\r\n                    const itemValue = this.readValue(memberSchema, item);\r\n                    if (itemValue != null || sparse) {\r\n                        newArray.push(itemValue);\r\n                    }\r\n                }\r\n                return newArray;\r\n            }\r\n            const newObject = {};\r\n            if (ns.isMapSchema()) {\r\n                const sparse = !!ns.getMergedTraits().sparse;\r\n                const targetSchema = ns.getValueSchema();\r\n                for (const key of Object.keys(value)) {\r\n                    const itemValue = this.readValue(targetSchema, value[key]);\r\n                    if (itemValue != null || sparse) {\r\n                        newObject[key] = itemValue;\r\n                    }\r\n                }\r\n            }\r\n            else if (ns.isStructSchema()) {\r\n                const isUnion = ns.isUnionSchema();\r\n                let keys;\r\n                if (isUnion) {\r\n                    keys = new Set(Object.keys(value).filter((k) => k !== \"__type\"));\r\n                }\r\n                for (const [key, memberSchema] of ns.structIterator()) {\r\n                    if (isUnion) {\r\n                        keys.delete(key);\r\n                    }\r\n                    if (value[key] != null) {\r\n                        newObject[key] = this.readValue(memberSchema, value[key]);\r\n                    }\r\n                }\r\n                if (isUnion && keys?.size === 1 && Object.keys(newObject).length === 0) {\r\n                    const k = keys.values().next().value;\r\n                    newObject.$unknown = [k, value[k]];\r\n                }\r\n                else if (typeof value.__type === \"string\") {\r\n                    for (const [k, v] of Object.entries(value)) {\r\n                        if (!(k in newObject)) {\r\n                            newObject[k] = v;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (value instanceof NumericValue) {\r\n                return value;\r\n            }\r\n            return newObject;\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    }\r\n}\r\n", "import { RpcProtocol } from \"@smithy/core/protocols\";\r\nimport { TypeRegistry } from \"@smithy/core/schema\";\r\nimport { deref, NormalizedSchema } from \"@smithy/core/schema\";\r\nimport { getSmithyContext } from \"@smithy/util-middleware\";\r\nimport { CborCodec } from \"./CborCodec\";\r\nimport { loadSmithyRpcV2CborErrorCode } from \"./parseCborBody\";\r\nexport class SmithyRpcV2CborProtocol extends RpcProtocol {\r\n    codec = new CborCodec();\r\n    serializer = this.codec.createSerializer();\r\n    deserializer = this.codec.createDeserializer();\r\n    constructor({ defaultNamespace, errorTypeRegistries, }) {\r\n        super({ defaultNamespace, errorTypeRegistries });\r\n    }\r\n    getShapeId() {\r\n        return \"smithy.protocols#rpcv2Cbor\";\r\n    }\r\n    getPayloadCodec() {\r\n        return this.codec;\r\n    }\r\n    async serializeRequest(operationSchema, input, context) {\r\n        const request = await super.serializeRequest(operationSchema, input, context);\r\n        Object.assign(request.headers, {\r\n            \"content-type\": this.getDefaultContentType(),\r\n            \"smithy-protocol\": \"rpc-v2-cbor\",\r\n            accept: this.getDefaultContentType(),\r\n        });\r\n        if (deref(operationSchema.input) === \"unit\") {\r\n            delete request.body;\r\n            delete request.headers[\"content-type\"];\r\n        }\r\n        else {\r\n            if (!request.body) {\r\n                this.serializer.write(15, {});\r\n                request.body = this.serializer.flush();\r\n            }\r\n            try {\r\n                request.headers[\"content-length\"] = String(request.body.byteLength);\r\n            }\r\n            catch (e) { }\r\n        }\r\n        const { service, operation } = getSmithyContext(context);\r\n        const path = `/service/${service}/operation/${operation}`;\r\n        if (request.path.endsWith(\"/\")) {\r\n            request.path += path.slice(1);\r\n        }\r\n        else {\r\n            request.path += path;\r\n        }\r\n        return request;\r\n    }\r\n    async deserializeResponse(operationSchema, context, response) {\r\n        return super.deserializeResponse(operationSchema, context, response);\r\n    }\r\n    async handleError(operationSchema, context, response, dataObject, metadata) {\r\n        const errorName = loadSmithyRpcV2CborErrorCode(response, dataObject) ?? \"Unknown\";\r\n        const errorMetadata = {\r\n            $metadata: metadata,\r\n            $fault: response.statusCode <= 500 ? \"client\" : \"server\",\r\n        };\r\n        let namespace = this.options.defaultNamespace;\r\n        if (errorName.includes(\"#\")) {\r\n            [namespace] = errorName.split(\"#\");\r\n        }\r\n        const registry = this.compositeErrorRegistry;\r\n        const nsRegistry = TypeRegistry.for(namespace);\r\n        registry.copyFrom(nsRegistry);\r\n        let errorSchema;\r\n        try {\r\n            errorSchema = registry.getSchema(errorName);\r\n        }\r\n        catch (e) {\r\n            if (dataObject.Message) {\r\n                dataObject.message = dataObject.Message;\r\n            }\r\n            const syntheticRegistry = TypeRegistry.for(\"smithy.ts.sdk.synthetic.\" + namespace);\r\n            registry.copyFrom(syntheticRegistry);\r\n            const baseExceptionSchema = registry.getBaseException();\r\n            if (baseExceptionSchema) {\r\n                const ErrorCtor = registry.getErrorCtor(baseExceptionSchema);\r\n                throw Object.assign(new ErrorCtor({ name: errorName }), errorMetadata, dataObject);\r\n            }\r\n            throw Object.assign(new Error(errorName), errorMetadata, dataObject);\r\n        }\r\n        const ns = NormalizedSchema.of(errorSchema);\r\n        const ErrorCtor = registry.getErrorCtor(errorSchema);\r\n        const message = dataObject.message ?? dataObject.Message ?? \"Unknown\";\r\n        const exception = new ErrorCtor(message);\r\n        const output = {};\r\n        for (const [name, member] of ns.structIterator()) {\r\n            output[name] = this.deserializer.readValue(member, dataObject[name]);\r\n        }\r\n        throw Object.assign(exception, errorMetadata, {\r\n            $fault: ns.getMergedTraits().error,\r\n            message,\r\n        }, output);\r\n    }\r\n    getDefaultContentType() {\r\n        return \"application/cbor\";\r\n    }\r\n}\r\n", "export { cbor } from \"./cbor\";\r\nexport { tag, tagSymbol } from \"./cbor-types\";\r\nexport * from \"./parseCborBody\";\r\nexport * from \"./SmithyRpcV2CborProtocol\";\r\nexport * from \"./CborCodec\";\r\n", "import { NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\r\nimport { decorateServiceException } from \"@smithy/smithy-client\";\r\nexport class ProtocolLib {\r\n    queryCompat;\r\n    constructor(queryCompat = false) {\r\n        this.queryCompat = queryCompat;\r\n    }\r\n    resolveRestContentType(defaultContentType, inputSchema) {\r\n        const members = inputSchema.getMemberSchemas();\r\n        const httpPayloadMember = Object.values(members).find((m) => {\r\n            return !!m.getMergedTraits().httpPayload;\r\n        });\r\n        if (httpPayloadMember) {\r\n            const mediaType = httpPayloadMember.getMergedTraits().mediaType;\r\n            if (mediaType) {\r\n                return mediaType;\r\n            }\r\n            else if (httpPayloadMember.isStringSchema()) {\r\n                return \"text/plain\";\r\n            }\r\n            else if (httpPayloadMember.isBlobSchema()) {\r\n                return \"application/octet-stream\";\r\n            }\r\n            else {\r\n                return defaultContentType;\r\n            }\r\n        }\r\n        else if (!inputSchema.isUnitSchema()) {\r\n            const hasBody = Object.values(members).find((m) => {\r\n                const { httpQuery, httpQueryParams, httpHeader, httpLabel, httpPrefixHeaders } = m.getMergedTraits();\r\n                const noPrefixHeaders = httpPrefixHeaders === void 0;\r\n                return !httpQuery && !httpQueryParams && !httpHeader && !httpLabel && noPrefixHeaders;\r\n            });\r\n            if (hasBody) {\r\n                return defaultContentType;\r\n            }\r\n        }\r\n    }\r\n    async getErrorSchemaOrThrowBaseException(errorIdentifier, defaultNamespace, response, dataObject, metadata, getErrorSchema) {\r\n        let namespace = defaultNamespace;\r\n        let errorName = errorIdentifier;\r\n        if (errorIdentifier.includes(\"#\")) {\r\n            [namespace, errorName] = errorIdentifier.split(\"#\");\r\n        }\r\n        const errorMetadata = {\r\n            $metadata: metadata,\r\n            $fault: response.statusCode < 500 ? \"client\" : \"server\",\r\n        };\r\n        const registry = TypeRegistry.for(namespace);\r\n        try {\r\n            const errorSchema = getErrorSchema?.(registry, errorName) ?? registry.getSchema(errorIdentifier);\r\n            return { errorSchema, errorMetadata };\r\n        }\r\n        catch (e) {\r\n            dataObject.message = dataObject.message ?? dataObject.Message ?? \"UnknownError\";\r\n            const synthetic = TypeRegistry.for(\"smithy.ts.sdk.synthetic.\" + namespace);\r\n            const baseExceptionSchema = synthetic.getBaseException();\r\n            if (baseExceptionSchema) {\r\n                const ErrorCtor = synthetic.getErrorCtor(baseExceptionSchema) ?? Error;\r\n                throw this.decorateServiceException(Object.assign(new ErrorCtor({ name: errorName }), errorMetadata), dataObject);\r\n            }\r\n            throw this.decorateServiceException(Object.assign(new Error(errorName), errorMetadata), dataObject);\r\n        }\r\n    }\r\n    decorateServiceException(exception, additions = {}) {\r\n        if (this.queryCompat) {\r\n            const msg = exception.Message ?? additions.Message;\r\n            const error = decorateServiceException(exception, additions);\r\n            if (msg) {\r\n                error.message = msg;\r\n            }\r\n            error.Error = {\r\n                ...error.Error,\r\n                Type: error.Error.Type,\r\n                Code: error.Error.Code,\r\n                Message: error.Error.message ?? error.Error.Message ?? msg,\r\n            };\r\n            const reqId = error.$metadata.requestId;\r\n            if (reqId) {\r\n                error.RequestId = reqId;\r\n            }\r\n            return error;\r\n        }\r\n        return decorateServiceException(exception, additions);\r\n    }\r\n    setQueryCompatError(output, response) {\r\n        const queryErrorHeader = response.headers?.[\"x-amzn-query-error\"];\r\n        if (output !== undefined && queryErrorHeader != null) {\r\n            const [Code, Type] = queryErrorHeader.split(\";\");\r\n            const entries = Object.entries(output);\r\n            const Error = {\r\n                Code,\r\n                Type,\r\n            };\r\n            Object.assign(output, Error);\r\n            for (const [k, v] of entries) {\r\n                Error[k === \"message\" ? \"Message\" : k] = v;\r\n            }\r\n            delete Error.__type;\r\n            output.Error = Error;\r\n        }\r\n    }\r\n    queryCompatOutput(queryCompatErrorData, errorData) {\r\n        if (queryCompatErrorData.Error) {\r\n            errorData.Error = queryCompatErrorData.Error;\r\n        }\r\n        if (queryCompatErrorData.Type) {\r\n            errorData.Type = queryCompatErrorData.Type;\r\n        }\r\n        if (queryCompatErrorData.Code) {\r\n            errorData.Code = queryCompatErrorData.Code;\r\n        }\r\n    }\r\n    findQueryCompatibleError(registry, errorName) {\r\n        try {\r\n            return registry.getSchema(errorName);\r\n        }\r\n        catch (e) {\r\n            return registry.find((schema) => NormalizedSchema.of(schema).getMergedTraits().awsQueryError?.[0] === errorName);\r\n        }\r\n    }\r\n}\r\n", "import { loadSmithyRpcV2CborErrorCode, SmithyRpcV2CborProtocol } from \"@smithy/core/cbor\";\r\nimport { NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\r\nimport { ProtocolLib } from \"../ProtocolLib\";\r\nexport class AwsSmithyRpcV2CborProtocol extends SmithyRpcV2CborProtocol {\r\n    awsQueryCompatible;\r\n    mixin;\r\n    constructor({ defaultNamespace, awsQueryCompatible, }) {\r\n        super({ defaultNamespace });\r\n        this.awsQueryCompatible = !!awsQueryCompatible;\r\n        this.mixin = new ProtocolLib(this.awsQueryCompatible);\r\n    }\r\n    async serializeRequest(operationSchema, input, context) {\r\n        const request = await super.serializeRequest(operationSchema, input, context);\r\n        if (this.awsQueryCompatible) {\r\n            request.headers[\"x-amzn-query-mode\"] = \"true\";\r\n        }\r\n        return request;\r\n    }\r\n    async handleError(operationSchema, context, response, dataObject, metadata) {\r\n        if (this.awsQueryCompatible) {\r\n            this.mixin.setQueryCompatError(dataObject, response);\r\n        }\r\n        const errorName = (() => {\r\n            const compatHeader = response.headers[\"x-amzn-query-error\"];\r\n            if (compatHeader && this.awsQueryCompatible) {\r\n                return compatHeader.split(\";\")[0];\r\n            }\r\n            return loadSmithyRpcV2CborErrorCode(response, dataObject) ?? \"Unknown\";\r\n        })();\r\n        const { errorSchema, errorMetadata } = await this.mixin.getErrorSchemaOrThrowBaseException(errorName, this.options.defaultNamespace, response, dataObject, metadata, this.awsQueryCompatible ? this.mixin.findQueryCompatibleError : undefined);\r\n        const ns = NormalizedSchema.of(errorSchema);\r\n        const message = dataObject.message ?? dataObject.Message ?? \"Unknown\";\r\n        const ErrorCtor = TypeRegistry.for(errorSchema[1]).getErrorCtor(errorSchema) ?? Error;\r\n        const exception = new ErrorCtor(message);\r\n        const output = {};\r\n        for (const [name, member] of ns.structIterator()) {\r\n            if (dataObject[name] != null) {\r\n                output[name] = this.deserializer.readValue(member, dataObject[name]);\r\n            }\r\n        }\r\n        if (this.awsQueryCompatible) {\r\n            this.mixin.queryCompatOutput(dataObject, output);\r\n        }\r\n        throw this.mixin.decorateServiceException(Object.assign(exception, errorMetadata, {\r\n            $fault: ns.getMergedTraits().error,\r\n            message,\r\n        }, output), dataObject);\r\n    }\r\n}\r\n", "export const _toStr = (val) => {\r\n    if (val == null) {\r\n        return val;\r\n    }\r\n    if (typeof val === \"number\" || typeof val === \"bigint\") {\r\n        const warning = new Error(`Received number ${val} where a string was expected.`);\r\n        warning.name = \"Warning\";\r\n        console.warn(warning);\r\n        return String(val);\r\n    }\r\n    if (typeof val === \"boolean\") {\r\n        const warning = new Error(`Received boolean ${val} where a string was expected.`);\r\n        warning.name = \"Warning\";\r\n        console.warn(warning);\r\n        return String(val);\r\n    }\r\n    return val;\r\n};\r\nexport const _toBool = (val) => {\r\n    if (val == null) {\r\n        return val;\r\n    }\r\n    if (typeof val === \"number\") {\r\n    }\r\n    if (typeof val === \"string\") {\r\n        const lowercase = val.toLowerCase();\r\n        if (val !== \"\" && lowercase !== \"false\" && lowercase !== \"true\") {\r\n            const warning = new Error(`Received string \"${val}\" where a boolean was expected.`);\r\n            warning.name = \"Warning\";\r\n            console.warn(warning);\r\n        }\r\n        return val !== \"\" && lowercase !== \"false\";\r\n    }\r\n    return val;\r\n};\r\nexport const _toNum = (val) => {\r\n    if (val == null) {\r\n        return val;\r\n    }\r\n    if (typeof val === \"boolean\") {\r\n    }\r\n    if (typeof val === \"string\") {\r\n        const num = Number(val);\r\n        if (num.toString() !== val) {\r\n            const warning = new Error(`Received string \"${val}\" where a number was expected.`);\r\n            warning.name = \"Warning\";\r\n            console.warn(warning);\r\n            return val;\r\n        }\r\n        return num;\r\n    }\r\n    return val;\r\n};\r\n", "export class SerdeContextConfig {\r\n    serdeContext;\r\n    setSerdeContext(serdeContext) {\r\n        this.serdeContext = serdeContext;\r\n    }\r\n}\r\n", "export class UnionSerde {\r\n    from;\r\n    to;\r\n    keys;\r\n    constructor(from, to) {\r\n        this.from = from;\r\n        this.to = to;\r\n        this.keys = new Set(Object.keys(this.from).filter((k) => k !== \"__type\"));\r\n    }\r\n    mark(key) {\r\n        this.keys.delete(key);\r\n    }\r\n    hasUnknown() {\r\n        return this.keys.size === 1 && Object.keys(this.to).length === 0;\r\n    }\r\n    writeUnknown() {\r\n        if (this.hasUnknown()) {\r\n            const k = this.keys.values().next().value;\r\n            const v = this.from[k];\r\n            this.to.$unknown = [k, v];\r\n        }\r\n    }\r\n}\r\n", "import { NumericValue } from \"@smithy/core/serde\";\r\nexport function jsonReviver(key, value, context) {\r\n    if (context?.source) {\r\n        const numericString = context.source;\r\n        if (typeof value === \"number\") {\r\n            if (value > Number.MAX_SAFE_INTEGER || value < Number.MIN_SAFE_INTEGER || numericString !== String(value)) {\r\n                const isFractional = numericString.includes(\".\");\r\n                if (isFractional) {\r\n                    return new NumericValue(numericString, \"bigDecimal\");\r\n                }\r\n                else {\r\n                    return BigInt(numericString);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return value;\r\n}\r\n", "export const fromUtf8 = (input) => new TextEncoder().encode(input);\r\n", "import { fromUtf8 } from \"./fromUtf8\";\r\nexport const toUint8Array = (data) => {\r\n    if (typeof data === \"string\") {\r\n        return fromUtf8(data);\r\n    }\r\n    if (ArrayBuffer.isView(data)) {\r\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\r\n    }\r\n    return new Uint8Array(data);\r\n};\r\n", "export const toUtf8 = (input) => {\r\n    if (typeof input === \"string\") {\r\n        return input;\r\n    }\r\n    if (typeof input !== \"object\" || typeof input.byteOffset !== \"number\" || typeof input.byteLength !== \"number\") {\r\n        throw new Error(\"@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.\");\r\n    }\r\n    return new TextDecoder(\"utf-8\").decode(input);\r\n};\r\n", "export * from \"./fromUtf8\";\r\nexport * from \"./toUint8Array\";\r\nexport * from \"./toUtf8\";\r\n", "import { collectBody } from \"@smithy/smithy-client\";\r\nimport { toUtf8 } from \"@smithy/util-utf8\";\r\nexport const collectBodyString = (streamBody, context) => collectBody(streamBody, context).then((body) => (context?.utf8Encoder ?? toUtf8)(body));\r\n", "import { collectBodyString } from \"../common\";\r\nexport const parseJsonBody = (streamBody, context) => collectBodyString(streamBody, context).then((encoded) => {\r\n    if (encoded.length) {\r\n        try {\r\n            return JSON.parse(encoded);\r\n        }\r\n        catch (e) {\r\n            if (e?.name === \"SyntaxError\") {\r\n                Object.defineProperty(e, \"$responseBodyText\", {\r\n                    value: encoded,\r\n                });\r\n            }\r\n            throw e;\r\n        }\r\n    }\r\n    return {};\r\n});\r\nexport const parseJsonErrorBody = async (errorBody, context) => {\r\n    const value = await parseJsonBody(errorBody, context);\r\n    value.message = value.message ?? value.Message;\r\n    return value;\r\n};\r\nexport const loadRestJsonErrorCode = (output, data) => {\r\n    const findKey = (object, key) => Object.keys(object).find((k) => k.toLowerCase() === key.toLowerCase());\r\n    const sanitizeErrorCode = (rawValue) => {\r\n        let cleanValue = rawValue;\r\n        if (typeof cleanValue === \"number\") {\r\n            cleanValue = cleanValue.toString();\r\n        }\r\n        if (cleanValue.indexOf(\",\") >= 0) {\r\n            cleanValue = cleanValue.split(\",\")[0];\r\n        }\r\n        if (cleanValue.indexOf(\":\") >= 0) {\r\n            cleanValue = cleanValue.split(\":\")[0];\r\n        }\r\n        if (cleanValue.indexOf(\"#\") >= 0) {\r\n            cleanValue = cleanValue.split(\"#\")[1];\r\n        }\r\n        return cleanValue;\r\n    };\r\n    const headerKey = findKey(output.headers, \"x-amzn-errortype\");\r\n    if (headerKey !== undefined) {\r\n        return sanitizeErrorCode(output.headers[headerKey]);\r\n    }\r\n    if (data && typeof data === \"object\") {\r\n        const codeKey = findKey(data, \"code\");\r\n        if (codeKey && data[codeKey] !== undefined) {\r\n            return sanitizeErrorCode(data[codeKey]);\r\n        }\r\n        if (data[\"__type\"] !== undefined) {\r\n            return sanitizeErrorCode(data[\"__type\"]);\r\n        }\r\n    }\r\n};\r\n", "import { determineTimestampFormat } from \"@smithy/core/protocols\";\r\nimport { NormalizedSchema } from \"@smithy/core/schema\";\r\nimport { LazyJsonString, NumericValue, parseEpochTimestamp, parseRfc3339DateTimeWithOffset, parseRfc7231DateTime, } from \"@smithy/core/serde\";\r\nimport { fromBase64 } from \"@smithy/util-base64\";\r\nimport { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\r\nimport { UnionSerde } from \"../UnionSerde\";\r\nimport { jsonReviver } from \"./jsonReviver\";\r\nimport { parseJsonBody } from \"./parseJsonBody\";\r\nexport class JsonShapeDeserializer extends SerdeContextConfig {\r\n    settings;\r\n    constructor(settings) {\r\n        super();\r\n        this.settings = settings;\r\n    }\r\n    async read(schema, data) {\r\n        return this._read(schema, typeof data === \"string\" ? JSON.parse(data, jsonReviver) : await parseJsonBody(data, this.serdeContext));\r\n    }\r\n    readObject(schema, data) {\r\n        return this._read(schema, data);\r\n    }\r\n    _read(schema, value) {\r\n        const isObject = value !== null && typeof value === \"object\";\r\n        const ns = NormalizedSchema.of(schema);\r\n        if (isObject) {\r\n            if (ns.isStructSchema()) {\r\n                const record = value;\r\n                const union = ns.isUnionSchema();\r\n                const out = {};\r\n                let nameMap = void 0;\r\n                const { jsonName } = this.settings;\r\n                if (jsonName) {\r\n                    nameMap = {};\r\n                }\r\n                let unionSerde;\r\n                if (union) {\r\n                    unionSerde = new UnionSerde(record, out);\r\n                }\r\n                for (const [memberName, memberSchema] of ns.structIterator()) {\r\n                    let fromKey = memberName;\r\n                    if (jsonName) {\r\n                        fromKey = memberSchema.getMergedTraits().jsonName ?? fromKey;\r\n                        nameMap[fromKey] = memberName;\r\n                    }\r\n                    if (union) {\r\n                        unionSerde.mark(fromKey);\r\n                    }\r\n                    if (record[fromKey] != null) {\r\n                        out[memberName] = this._read(memberSchema, record[fromKey]);\r\n                    }\r\n                }\r\n                if (union) {\r\n                    unionSerde.writeUnknown();\r\n                }\r\n                else if (typeof record.__type === \"string\") {\r\n                    for (const [k, v] of Object.entries(record)) {\r\n                        const t = jsonName ? nameMap[k] ?? k : k;\r\n                        if (!(t in out)) {\r\n                            out[t] = v;\r\n                        }\r\n                    }\r\n                }\r\n                return out;\r\n            }\r\n            if (Array.isArray(value) && ns.isListSchema()) {\r\n                const listMember = ns.getValueSchema();\r\n                const out = [];\r\n                const sparse = !!ns.getMergedTraits().sparse;\r\n                for (const item of value) {\r\n                    if (sparse || item != null) {\r\n                        out.push(this._read(listMember, item));\r\n                    }\r\n                }\r\n                return out;\r\n            }\r\n            if (ns.isMapSchema()) {\r\n                const mapMember = ns.getValueSchema();\r\n                const out = {};\r\n                const sparse = !!ns.getMergedTraits().sparse;\r\n                for (const [_k, _v] of Object.entries(value)) {\r\n                    if (sparse || _v != null) {\r\n                        out[_k] = this._read(mapMember, _v);\r\n                    }\r\n                }\r\n                return out;\r\n            }\r\n        }\r\n        if (ns.isBlobSchema() && typeof value === \"string\") {\r\n            return fromBase64(value);\r\n        }\r\n        const mediaType = ns.getMergedTraits().mediaType;\r\n        if (ns.isStringSchema() && typeof value === \"string\" && mediaType) {\r\n            const isJson = mediaType === \"application/json\" || mediaType.endsWith(\"+json\");\r\n            if (isJson) {\r\n                return LazyJsonString.from(value);\r\n            }\r\n            return value;\r\n        }\r\n        if (ns.isTimestampSchema() && value != null) {\r\n            const format = determineTimestampFormat(ns, this.settings);\r\n            switch (format) {\r\n                case 5:\r\n                    return parseRfc3339DateTimeWithOffset(value);\r\n                case 6:\r\n                    return parseRfc7231DateTime(value);\r\n                case 7:\r\n                    return parseEpochTimestamp(value);\r\n                default:\r\n                    console.warn(\"Missing timestamp format, parsing value with Date constructor:\", value);\r\n                    return new Date(value);\r\n            }\r\n        }\r\n        if (ns.isBigIntegerSchema() && (typeof value === \"number\" || typeof value === \"string\")) {\r\n            return BigInt(value);\r\n        }\r\n        if (ns.isBigDecimalSchema() && value != undefined) {\r\n            if (value instanceof NumericValue) {\r\n                return value;\r\n            }\r\n            const untyped = value;\r\n            if (untyped.type === \"bigDecimal\" && \"string\" in untyped) {\r\n                return new NumericValue(untyped.string, untyped.type);\r\n            }\r\n            return new NumericValue(String(value), \"bigDecimal\");\r\n        }\r\n        if (ns.isNumericSchema() && typeof value === \"string\") {\r\n            switch (value) {\r\n                case \"Infinity\":\r\n                    return Infinity;\r\n                case \"-Infinity\":\r\n                    return -Infinity;\r\n                case \"NaN\":\r\n                    return NaN;\r\n            }\r\n            return value;\r\n        }\r\n        if (ns.isDocumentSchema()) {\r\n            if (isObject) {\r\n                const out = Array.isArray(value) ? [] : {};\r\n                for (const [k, v] of Object.entries(value)) {\r\n                    if (v instanceof NumericValue) {\r\n                        out[k] = v;\r\n                    }\r\n                    else {\r\n                        out[k] = this._read(ns, v);\r\n                    }\r\n                }\r\n                return out;\r\n            }\r\n            else {\r\n                return structuredClone(value);\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n}\r\n", "import { NumericValue } from \"@smithy/core/serde\";\r\nconst NUMERIC_CONTROL_CHAR = String.fromCharCode(925);\r\nexport class JsonReplacer {\r\n    values = new Map();\r\n    counter = 0;\r\n    stage = 0;\r\n    createReplacer() {\r\n        if (this.stage === 1) {\r\n            throw new Error(\"@aws-sdk/core/protocols - JsonReplacer already created.\");\r\n        }\r\n        if (this.stage === 2) {\r\n            throw new Error(\"@aws-sdk/core/protocols - JsonReplacer exhausted.\");\r\n        }\r\n        this.stage = 1;\r\n        return (key, value) => {\r\n            if (value instanceof NumericValue) {\r\n                const v = `${NUMERIC_CONTROL_CHAR + \"nv\" + this.counter++}_` + value.string;\r\n                this.values.set(`\"${v}\"`, value.string);\r\n                return v;\r\n            }\r\n            if (typeof value === \"bigint\") {\r\n                const s = value.toString();\r\n                const v = `${NUMERIC_CONTROL_CHAR + \"b\" + this.counter++}_` + s;\r\n                this.values.set(`\"${v}\"`, s);\r\n                return v;\r\n            }\r\n            return value;\r\n        };\r\n    }\r\n    replaceInJson(json) {\r\n        if (this.stage === 0) {\r\n            throw new Error(\"@aws-sdk/core/protocols - JsonReplacer not created yet.\");\r\n        }\r\n        if (this.stage === 2) {\r\n            throw new Error(\"@aws-sdk/core/protocols - JsonReplacer exhausted.\");\r\n        }\r\n        this.stage = 2;\r\n        if (this.counter === 0) {\r\n            return json;\r\n        }\r\n        for (const [key, value] of this.values) {\r\n            json = json.replace(key, value);\r\n        }\r\n        return json;\r\n    }\r\n}\r\n", "import { determineTimestampFormat } from \"@smithy/core/protocols\";\r\nimport { NormalizedSchema } from \"@smithy/core/schema\";\r\nimport { dateToUtcString, generateIdempotencyToken, LazyJsonString, NumericValue } from \"@smithy/core/serde\";\r\nimport { toBase64 } from \"@smithy/util-base64\";\r\nimport { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\r\nimport { JsonReplacer } from \"./jsonReplacer\";\r\nexport class JsonShapeSerializer extends SerdeContextConfig {\r\n    settings;\r\n    buffer;\r\n    useReplacer = false;\r\n    rootSchema;\r\n    constructor(settings) {\r\n        super();\r\n        this.settings = settings;\r\n    }\r\n    write(schema, value) {\r\n        this.rootSchema = NormalizedSchema.of(schema);\r\n        this.buffer = this._write(this.rootSchema, value);\r\n    }\r\n    writeDiscriminatedDocument(schema, value) {\r\n        this.write(schema, value);\r\n        if (typeof this.buffer === \"object\") {\r\n            this.buffer.__type = NormalizedSchema.of(schema).getName(true);\r\n        }\r\n    }\r\n    flush() {\r\n        const { rootSchema, useReplacer } = this;\r\n        this.rootSchema = undefined;\r\n        this.useReplacer = false;\r\n        if (rootSchema?.isStructSchema() || rootSchema?.isDocumentSchema()) {\r\n            if (!useReplacer) {\r\n                return JSON.stringify(this.buffer);\r\n            }\r\n            const replacer = new JsonReplacer();\r\n            return replacer.replaceInJson(JSON.stringify(this.buffer, replacer.createReplacer(), 0));\r\n        }\r\n        return this.buffer;\r\n    }\r\n    _write(schema, value, container) {\r\n        const isObject = value !== null && typeof value === \"object\";\r\n        const ns = NormalizedSchema.of(schema);\r\n        if (isObject) {\r\n            if (ns.isStructSchema()) {\r\n                const record = value;\r\n                const out = {};\r\n                const { jsonName } = this.settings;\r\n                let nameMap = void 0;\r\n                if (jsonName) {\r\n                    nameMap = {};\r\n                }\r\n                for (const [memberName, memberSchema] of ns.structIterator()) {\r\n                    const serializableValue = this._write(memberSchema, record[memberName], ns);\r\n                    if (serializableValue !== undefined) {\r\n                        let targetKey = memberName;\r\n                        if (jsonName) {\r\n                            targetKey = memberSchema.getMergedTraits().jsonName ?? memberName;\r\n                            nameMap[memberName] = targetKey;\r\n                        }\r\n                        out[targetKey] = serializableValue;\r\n                    }\r\n                }\r\n                if (ns.isUnionSchema() && Object.keys(out).length === 0) {\r\n                    const { $unknown } = record;\r\n                    if (Array.isArray($unknown)) {\r\n                        const [k, v] = $unknown;\r\n                        out[k] = this._write(15, v);\r\n                    }\r\n                }\r\n                else if (typeof record.__type === \"string\") {\r\n                    for (const [k, v] of Object.entries(record)) {\r\n                        const targetKey = jsonName ? nameMap[k] ?? k : k;\r\n                        if (!(targetKey in out)) {\r\n                            out[targetKey] = this._write(15, v);\r\n                        }\r\n                    }\r\n                }\r\n                return out;\r\n            }\r\n            if (Array.isArray(value) && ns.isListSchema()) {\r\n                const listMember = ns.getValueSchema();\r\n                const out = [];\r\n                const sparse = !!ns.getMergedTraits().sparse;\r\n                for (const item of value) {\r\n                    if (sparse || item != null) {\r\n                        out.push(this._write(listMember, item));\r\n                    }\r\n                }\r\n                return out;\r\n            }\r\n            if (ns.isMapSchema()) {\r\n                const mapMember = ns.getValueSchema();\r\n                const out = {};\r\n                const sparse = !!ns.getMergedTraits().sparse;\r\n                for (const [_k, _v] of Object.entries(value)) {\r\n                    if (sparse || _v != null) {\r\n                        out[_k] = this._write(mapMember, _v);\r\n                    }\r\n                }\r\n                return out;\r\n            }\r\n            if (value instanceof Uint8Array && (ns.isBlobSchema() || ns.isDocumentSchema())) {\r\n                if (ns === this.rootSchema) {\r\n                    return value;\r\n                }\r\n                return (this.serdeContext?.base64Encoder ?? toBase64)(value);\r\n            }\r\n            if (value instanceof Date && (ns.isTimestampSchema() || ns.isDocumentSchema())) {\r\n                const format = determineTimestampFormat(ns, this.settings);\r\n                switch (format) {\r\n                    case 5:\r\n                        return value.toISOString().replace(\".000Z\", \"Z\");\r\n                    case 6:\r\n                        return dateToUtcString(value);\r\n                    case 7:\r\n                        return value.getTime() / 1000;\r\n                    default:\r\n                        console.warn(\"Missing timestamp format, using epoch seconds\", value);\r\n                        return value.getTime() / 1000;\r\n                }\r\n            }\r\n            if (value instanceof NumericValue) {\r\n                this.useReplacer = true;\r\n            }\r\n        }\r\n        if (value === null && container?.isStructSchema()) {\r\n            return void 0;\r\n        }\r\n        if (ns.isStringSchema()) {\r\n            if (typeof value === \"undefined\" && ns.isIdempotencyToken()) {\r\n                return generateIdempotencyToken();\r\n            }\r\n            const mediaType = ns.getMergedTraits().mediaType;\r\n            if (value != null && mediaType) {\r\n                const isJson = mediaType === \"application/json\" || mediaType.endsWith(\"+json\");\r\n                if (isJson) {\r\n                    return LazyJsonString.from(value);\r\n                }\r\n            }\r\n            return value;\r\n        }\r\n        if (typeof value === \"number\" && ns.isNumericSchema()) {\r\n            if (Math.abs(value) === Infinity || isNaN(value)) {\r\n                return String(value);\r\n            }\r\n            return value;\r\n        }\r\n        if (typeof value === \"string\" && ns.isBlobSchema()) {\r\n            if (ns === this.rootSchema) {\r\n                return value;\r\n            }\r\n            return (this.serdeContext?.base64Encoder ?? toBase64)(value);\r\n        }\r\n        if (typeof value === \"bigint\") {\r\n            this.useReplacer = true;\r\n        }\r\n        if (ns.isDocumentSchema()) {\r\n            if (isObject) {\r\n                const out = Array.isArray(value) ? [] : {};\r\n                for (const [k, v] of Object.entries(value)) {\r\n                    if (v instanceof NumericValue) {\r\n                        this.useReplacer = true;\r\n                        out[k] = v;\r\n                    }\r\n                    else {\r\n                        out[k] = this._write(ns, v);\r\n                    }\r\n                }\r\n                return out;\r\n            }\r\n            else {\r\n                return structuredClone(value);\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n}\r\n", "import { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\r\nimport { JsonShapeDeserializer } from \"./JsonShapeDeserializer\";\r\nimport { JsonShapeSerializer } from \"./JsonShapeSerializer\";\r\nexport class JsonCodec extends SerdeContextConfig {\r\n    settings;\r\n    constructor(settings) {\r\n        super();\r\n        this.settings = settings;\r\n    }\r\n    createSerializer() {\r\n        const serializer = new JsonShapeSerializer(this.settings);\r\n        serializer.setSerdeContext(this.serdeContext);\r\n        return serializer;\r\n    }\r\n    createDeserializer() {\r\n        const deserializer = new JsonShapeDeserializer(this.settings);\r\n        deserializer.setSerdeContext(this.serdeContext);\r\n        return deserializer;\r\n    }\r\n}\r\n", "import { RpcProtocol } from \"@smithy/core/protocols\";\r\nimport { deref, NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\r\nimport { ProtocolLib } from \"../ProtocolLib\";\r\nimport { JsonCodec } from \"./JsonCodec\";\r\nimport { loadRestJsonErrorCode } from \"./parseJsonBody\";\r\nexport class AwsJsonRpcProtocol extends RpcProtocol {\r\n    serializer;\r\n    deserializer;\r\n    serviceTarget;\r\n    codec;\r\n    mixin;\r\n    awsQueryCompatible;\r\n    constructor({ defaultNamespace, serviceTarget, awsQueryCompatible, jsonCodec, }) {\r\n        super({\r\n            defaultNamespace,\r\n        });\r\n        this.serviceTarget = serviceTarget;\r\n        this.codec =\r\n            jsonCodec ??\r\n                new JsonCodec({\r\n                    timestampFormat: {\r\n                        useTrait: true,\r\n                        default: 7,\r\n                    },\r\n                    jsonName: false,\r\n                });\r\n        this.serializer = this.codec.createSerializer();\r\n        this.deserializer = this.codec.createDeserializer();\r\n        this.awsQueryCompatible = !!awsQueryCompatible;\r\n        this.mixin = new ProtocolLib(this.awsQueryCompatible);\r\n    }\r\n    async serializeRequest(operationSchema, input, context) {\r\n        const request = await super.serializeRequest(operationSchema, input, context);\r\n        if (!request.path.endsWith(\"/\")) {\r\n            request.path += \"/\";\r\n        }\r\n        Object.assign(request.headers, {\r\n            \"content-type\": `application/x-amz-json-${this.getJsonRpcVersion()}`,\r\n            \"x-amz-target\": `${this.serviceTarget}.${operationSchema.name}`,\r\n        });\r\n        if (this.awsQueryCompatible) {\r\n            request.headers[\"x-amzn-query-mode\"] = \"true\";\r\n        }\r\n        if (deref(operationSchema.input) === \"unit\" || !request.body) {\r\n            request.body = \"{}\";\r\n        }\r\n        return request;\r\n    }\r\n    getPayloadCodec() {\r\n        return this.codec;\r\n    }\r\n    async handleError(operationSchema, context, response, dataObject, metadata) {\r\n        if (this.awsQueryCompatible) {\r\n            this.mixin.setQueryCompatError(dataObject, response);\r\n        }\r\n        const errorIdentifier = loadRestJsonErrorCode(response, dataObject) ?? \"Unknown\";\r\n        const { errorSchema, errorMetadata } = await this.mixin.getErrorSchemaOrThrowBaseException(errorIdentifier, this.options.defaultNamespace, response, dataObject, metadata, this.awsQueryCompatible ? this.mixin.findQueryCompatibleError : undefined);\r\n        const ns = NormalizedSchema.of(errorSchema);\r\n        const message = dataObject.message ?? dataObject.Message ?? \"Unknown\";\r\n        const ErrorCtor = TypeRegistry.for(errorSchema[1]).getErrorCtor(errorSchema) ?? Error;\r\n        const exception = new ErrorCtor(message);\r\n        const output = {};\r\n        for (const [name, member] of ns.structIterator()) {\r\n            if (dataObject[name] != null) {\r\n                output[name] = this.codec.createDeserializer().readObject(member, dataObject[name]);\r\n            }\r\n        }\r\n        if (this.awsQueryCompatible) {\r\n            this.mixin.queryCompatOutput(dataObject, output);\r\n        }\r\n        throw this.mixin.decorateServiceException(Object.assign(exception, errorMetadata, {\r\n            $fault: ns.getMergedTraits().error,\r\n            message,\r\n        }, output), dataObject);\r\n    }\r\n}\r\n", "import { AwsJsonRpcProtocol } from \"./AwsJsonRpcProtocol\";\r\nexport class AwsJson1_0Protocol extends AwsJsonRpcProtocol {\r\n    constructor({ defaultNamespace, serviceTarget, awsQueryCompatible, jsonCodec, }) {\r\n        super({\r\n            defaultNamespace,\r\n            serviceTarget,\r\n            awsQueryCompatible,\r\n            jsonCodec,\r\n        });\r\n    }\r\n    getShapeId() {\r\n        return \"aws.protocols#awsJson1_0\";\r\n    }\r\n    getJsonRpcVersion() {\r\n        return \"1.0\";\r\n    }\r\n    getDefaultContentType() {\r\n        return \"application/x-amz-json-1.0\";\r\n    }\r\n}\r\n", "import { AwsJsonRpcProtocol } from \"./AwsJsonRpcProtocol\";\r\nexport class AwsJson1_1Protocol extends AwsJsonRpcProtocol {\r\n    constructor({ defaultNamespace, serviceTarget, awsQueryCompatible, jsonCodec, }) {\r\n        super({\r\n            defaultNamespace,\r\n            serviceTarget,\r\n            awsQueryCompatible,\r\n            jsonCodec,\r\n        });\r\n    }\r\n    getShapeId() {\r\n        return \"aws.protocols#awsJson1_1\";\r\n    }\r\n    getJsonRpcVersion() {\r\n        return \"1.1\";\r\n    }\r\n    getDefaultContentType() {\r\n        return \"application/x-amz-json-1.1\";\r\n    }\r\n}\r\n", "import { HttpBindingProtocol, HttpInterceptingShapeDeserializer, HttpInterceptingShapeSerializer, } from \"@smithy/core/protocols\";\r\nimport { NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\r\nimport { ProtocolLib } from \"../ProtocolLib\";\r\nimport { JsonCodec } from \"./JsonCodec\";\r\nimport { loadRestJsonErrorCode } from \"./parseJsonBody\";\r\nexport class AwsRestJsonProtocol extends HttpBindingProtocol {\r\n    serializer;\r\n    deserializer;\r\n    codec;\r\n    mixin = new ProtocolLib();\r\n    constructor({ defaultNamespace }) {\r\n        super({\r\n            defaultNamespace,\r\n        });\r\n        const settings = {\r\n            timestampFormat: {\r\n                useTrait: true,\r\n                default: 7,\r\n            },\r\n            httpBindings: true,\r\n            jsonName: true,\r\n        };\r\n        this.codec = new JsonCodec(settings);\r\n        this.serializer = new HttpInterceptingShapeSerializer(this.codec.createSerializer(), settings);\r\n        this.deserializer = new HttpInterceptingShapeDeserializer(this.codec.createDeserializer(), settings);\r\n    }\r\n    getShapeId() {\r\n        return \"aws.protocols#restJson1\";\r\n    }\r\n    getPayloadCodec() {\r\n        return this.codec;\r\n    }\r\n    setSerdeContext(serdeContext) {\r\n        this.codec.setSerdeContext(serdeContext);\r\n        super.setSerdeContext(serdeContext);\r\n    }\r\n    async serializeRequest(operationSchema, input, context) {\r\n        const request = await super.serializeRequest(operationSchema, input, context);\r\n        const inputSchema = NormalizedSchema.of(operationSchema.input);\r\n        if (!request.headers[\"content-type\"]) {\r\n            const contentType = this.mixin.resolveRestContentType(this.getDefaultContentType(), inputSchema);\r\n            if (contentType) {\r\n                request.headers[\"content-type\"] = contentType;\r\n            }\r\n        }\r\n        if (request.body == null && request.headers[\"content-type\"] === this.getDefaultContentType()) {\r\n            request.body = \"{}\";\r\n        }\r\n        return request;\r\n    }\r\n    async deserializeResponse(operationSchema, context, response) {\r\n        const output = await super.deserializeResponse(operationSchema, context, response);\r\n        const outputSchema = NormalizedSchema.of(operationSchema.output);\r\n        for (const [name, member] of outputSchema.structIterator()) {\r\n            if (member.getMemberTraits().httpPayload && !(name in output)) {\r\n                output[name] = null;\r\n            }\r\n        }\r\n        return output;\r\n    }\r\n    async handleError(operationSchema, context, response, dataObject, metadata) {\r\n        const errorIdentifier = loadRestJsonErrorCode(response, dataObject) ?? \"Unknown\";\r\n        const { errorSchema, errorMetadata } = await this.mixin.getErrorSchemaOrThrowBaseException(errorIdentifier, this.options.defaultNamespace, response, dataObject, metadata);\r\n        const ns = NormalizedSchema.of(errorSchema);\r\n        const message = dataObject.message ?? dataObject.Message ?? \"Unknown\";\r\n        const ErrorCtor = TypeRegistry.for(errorSchema[1]).getErrorCtor(errorSchema) ?? Error;\r\n        const exception = new ErrorCtor(message);\r\n        await this.deserializeHttpMessage(errorSchema, context, response, dataObject);\r\n        const output = {};\r\n        for (const [name, member] of ns.structIterator()) {\r\n            const target = member.getMergedTraits().jsonName ?? name;\r\n            output[name] = this.codec.createDeserializer().readObject(member, dataObject[target]);\r\n        }\r\n        throw this.mixin.decorateServiceException(Object.assign(exception, errorMetadata, {\r\n            $fault: ns.getMergedTraits().error,\r\n            message,\r\n        }, output), dataObject);\r\n    }\r\n    getDefaultContentType() {\r\n        return \"application/json\";\r\n    }\r\n}\r\n", "import { expectUnion } from \"@smithy/smithy-client\";\r\nexport const awsExpectUnion = (value) => {\r\n    if (value == null) {\r\n        return undefined;\r\n    }\r\n    if (typeof value === \"object\" && \"__type\" in value) {\r\n        delete value.__type;\r\n    }\r\n    return expectUnion(value);\r\n};\r\n", "export function escapeAttribute(value) {\r\n    return value.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\");\r\n}\r\n", "export function escapeElement(value) {\r\n    return value\r\n        .replace(/&/g, \"&amp;\")\r\n        .replace(/\"/g, \"&quot;\")\r\n        .replace(/'/g, \"&apos;\")\r\n        .replace(/</g, \"&lt;\")\r\n        .replace(/>/g, \"&gt;\")\r\n        .replace(/\\r/g, \"&#x0D;\")\r\n        .replace(/\\n/g, \"&#x0A;\")\r\n        .replace(/\\u0085/g, \"&#x85;\")\r\n        .replace(/\\u2028/, \"&#x2028;\");\r\n}\r\n", "import { escapeElement } from \"./escape-element\";\r\nexport class XmlText {\r\n    value;\r\n    constructor(value) {\r\n        this.value = value;\r\n    }\r\n    toString() {\r\n        return escapeElement(\"\" + this.value);\r\n    }\r\n}\r\n", "import { escapeAttribute } from \"./escape-attribute\";\r\nimport { XmlText } from \"./XmlText\";\r\nexport class XmlNode {\r\n    name;\r\n    children;\r\n    attributes = {};\r\n    static of(name, childText, withName) {\r\n        const node = new XmlNode(name);\r\n        if (childText !== undefined) {\r\n            node.addChildNode(new XmlText(childText));\r\n        }\r\n        if (withName !== undefined) {\r\n            node.withName(withName);\r\n        }\r\n        return node;\r\n    }\r\n    constructor(name, children = []) {\r\n        this.name = name;\r\n        this.children = children;\r\n    }\r\n    withName(name) {\r\n        this.name = name;\r\n        return this;\r\n    }\r\n    addAttribute(name, value) {\r\n        this.attributes[name] = value;\r\n        return this;\r\n    }\r\n    addChildNode(child) {\r\n        this.children.push(child);\r\n        return this;\r\n    }\r\n    removeAttribute(name) {\r\n        delete this.attributes[name];\r\n        return this;\r\n    }\r\n    n(name) {\r\n        this.name = name;\r\n        return this;\r\n    }\r\n    c(child) {\r\n        this.children.push(child);\r\n        return this;\r\n    }\r\n    a(name, value) {\r\n        if (value != null) {\r\n            this.attributes[name] = value;\r\n        }\r\n        return this;\r\n    }\r\n    cc(input, field, withName = field) {\r\n        if (input[field] != null) {\r\n            const node = XmlNode.of(field, input[field]).withName(withName);\r\n            this.c(node);\r\n        }\r\n    }\r\n    l(input, listName, memberName, valueProvider) {\r\n        if (input[listName] != null) {\r\n            const nodes = valueProvider();\r\n            nodes.map((node) => {\r\n                node.withName(memberName);\r\n                this.c(node);\r\n            });\r\n        }\r\n    }\r\n    lc(input, listName, memberName, valueProvider) {\r\n        if (input[listName] != null) {\r\n            const nodes = valueProvider();\r\n            const containerNode = new XmlNode(memberName);\r\n            nodes.map((node) => {\r\n                containerNode.c(node);\r\n            });\r\n            this.c(containerNode);\r\n        }\r\n    }\r\n    toString() {\r\n        const hasChildren = Boolean(this.children.length);\r\n        let xmlText = `<${this.name}`;\r\n        const attributes = this.attributes;\r\n        for (const attributeName of Object.keys(attributes)) {\r\n            const attribute = attributes[attributeName];\r\n            if (attribute != null) {\r\n                xmlText += ` ${attributeName}=\"${escapeAttribute(\"\" + attribute)}\"`;\r\n            }\r\n        }\r\n        return (xmlText += !hasChildren ? \"/>\" : `>${this.children.map((c) => c.toString()).join(\"\")}</${this.name}>`);\r\n    }\r\n}\r\n", "let parser;\r\nexport function parseXML(xmlString) {\r\n    if (!parser) {\r\n        parser = new DOMParser();\r\n    }\r\n    const xmlDocument = parser.parseFromString(xmlString, \"application/xml\");\r\n    if (xmlDocument.getElementsByTagName(\"parsererror\").length > 0) {\r\n        throw new Error(\"DOMParser XML parsing error.\");\r\n    }\r\n    const xmlToObj = (node) => {\r\n        if (node.nodeType === Node.TEXT_NODE) {\r\n            if (node.textContent?.trim()) {\r\n                return node.textContent;\r\n            }\r\n        }\r\n        if (node.nodeType === Node.ELEMENT_NODE) {\r\n            const element = node;\r\n            if (element.attributes.length === 0 && element.childNodes.length === 0) {\r\n                return \"\";\r\n            }\r\n            const obj = {};\r\n            const attributes = Array.from(element.attributes);\r\n            for (const attr of attributes) {\r\n                obj[`${attr.name}`] = attr.value;\r\n            }\r\n            const childNodes = Array.from(element.childNodes);\r\n            for (const child of childNodes) {\r\n                const childResult = xmlToObj(child);\r\n                if (childResult != null) {\r\n                    const childName = child.nodeName;\r\n                    if (childNodes.length === 1 && attributes.length === 0 && childName === \"#text\") {\r\n                        return childResult;\r\n                    }\r\n                    if (obj[childName]) {\r\n                        if (Array.isArray(obj[childName])) {\r\n                            obj[childName].push(childResult);\r\n                        }\r\n                        else {\r\n                            obj[childName] = [obj[childName], childResult];\r\n                        }\r\n                    }\r\n                    else {\r\n                        obj[childName] = childResult;\r\n                    }\r\n                }\r\n                else if (childNodes.length === 1 && attributes.length === 0) {\r\n                    return element.textContent;\r\n                }\r\n            }\r\n            return obj;\r\n        }\r\n        return null;\r\n    };\r\n    return {\r\n        [xmlDocument.documentElement.nodeName]: xmlToObj(xmlDocument.documentElement),\r\n    };\r\n}\r\n", "export * from \"./XmlNode\";\r\nexport * from \"./XmlText\";\r\nexport { parseXML } from \"./xml-parser\";\r\n", "import { parseXML } from \"@aws-sdk/xml-builder\";\r\nimport { FromStringShapeDeserializer } from \"@smithy/core/protocols\";\r\nimport { NormalizedSchema } from \"@smithy/core/schema\";\r\nimport { getValueFromTextNode } from \"@smithy/smithy-client\";\r\nimport { toUtf8 } from \"@smithy/util-utf8\";\r\nimport { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\r\nimport { UnionSerde } from \"../UnionSerde\";\r\nexport class XmlShapeDeserializer extends SerdeContextConfig {\r\n    settings;\r\n    stringDeserializer;\r\n    constructor(settings) {\r\n        super();\r\n        this.settings = settings;\r\n        this.stringDeserializer = new FromStringShapeDeserializer(settings);\r\n    }\r\n    setSerdeContext(serdeContext) {\r\n        this.serdeContext = serdeContext;\r\n        this.stringDeserializer.setSerdeContext(serdeContext);\r\n    }\r\n    read(schema, bytes, key) {\r\n        const ns = NormalizedSchema.of(schema);\r\n        const memberSchemas = ns.getMemberSchemas();\r\n        const isEventPayload = ns.isStructSchema() &&\r\n            ns.isMemberSchema() &&\r\n            !!Object.values(memberSchemas).find((memberNs) => {\r\n                return !!memberNs.getMemberTraits().eventPayload;\r\n            });\r\n        if (isEventPayload) {\r\n            const output = {};\r\n            const memberName = Object.keys(memberSchemas)[0];\r\n            const eventMemberSchema = memberSchemas[memberName];\r\n            if (eventMemberSchema.isBlobSchema()) {\r\n                output[memberName] = bytes;\r\n            }\r\n            else {\r\n                output[memberName] = this.read(memberSchemas[memberName], bytes);\r\n            }\r\n            return output;\r\n        }\r\n        const xmlString = (this.serdeContext?.utf8Encoder ?? toUtf8)(bytes);\r\n        const parsedObject = this.parseXml(xmlString);\r\n        return this.readSchema(schema, key ? parsedObject[key] : parsedObject);\r\n    }\r\n    readSchema(_schema, value) {\r\n        const ns = NormalizedSchema.of(_schema);\r\n        if (ns.isUnitSchema()) {\r\n            return;\r\n        }\r\n        const traits = ns.getMergedTraits();\r\n        if (ns.isListSchema() && !Array.isArray(value)) {\r\n            return this.readSchema(ns, [value]);\r\n        }\r\n        if (value == null) {\r\n            return value;\r\n        }\r\n        if (typeof value === \"object\") {\r\n            const sparse = !!traits.sparse;\r\n            const flat = !!traits.xmlFlattened;\r\n            if (ns.isListSchema()) {\r\n                const listValue = ns.getValueSchema();\r\n                const buffer = [];\r\n                const sourceKey = listValue.getMergedTraits().xmlName ?? \"member\";\r\n                const source = flat ? value : (value[0] ?? value)[sourceKey];\r\n                const sourceArray = Array.isArray(source) ? source : [source];\r\n                for (const v of sourceArray) {\r\n                    if (v != null || sparse) {\r\n                        buffer.push(this.readSchema(listValue, v));\r\n                    }\r\n                }\r\n                return buffer;\r\n            }\r\n            const buffer = {};\r\n            if (ns.isMapSchema()) {\r\n                const keyNs = ns.getKeySchema();\r\n                const memberNs = ns.getValueSchema();\r\n                let entries;\r\n                if (flat) {\r\n                    entries = Array.isArray(value) ? value : [value];\r\n                }\r\n                else {\r\n                    entries = Array.isArray(value.entry) ? value.entry : [value.entry];\r\n                }\r\n                const keyProperty = keyNs.getMergedTraits().xmlName ?? \"key\";\r\n                const valueProperty = memberNs.getMergedTraits().xmlName ?? \"value\";\r\n                for (const entry of entries) {\r\n                    const key = entry[keyProperty];\r\n                    const value = entry[valueProperty];\r\n                    if (value != null || sparse) {\r\n                        buffer[key] = this.readSchema(memberNs, value);\r\n                    }\r\n                }\r\n                return buffer;\r\n            }\r\n            if (ns.isStructSchema()) {\r\n                const union = ns.isUnionSchema();\r\n                let unionSerde;\r\n                if (union) {\r\n                    unionSerde = new UnionSerde(value, buffer);\r\n                }\r\n                for (const [memberName, memberSchema] of ns.structIterator()) {\r\n                    const memberTraits = memberSchema.getMergedTraits();\r\n                    const xmlObjectKey = !memberTraits.httpPayload\r\n                        ? memberSchema.getMemberTraits().xmlName ?? memberName\r\n                        : memberTraits.xmlName ?? memberSchema.getName();\r\n                    if (union) {\r\n                        unionSerde.mark(xmlObjectKey);\r\n                    }\r\n                    if (value[xmlObjectKey] != null) {\r\n                        buffer[memberName] = this.readSchema(memberSchema, value[xmlObjectKey]);\r\n                    }\r\n                }\r\n                if (union) {\r\n                    unionSerde.writeUnknown();\r\n                }\r\n                return buffer;\r\n            }\r\n            if (ns.isDocumentSchema()) {\r\n                return value;\r\n            }\r\n            throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${ns.getName(true)}`);\r\n        }\r\n        if (ns.isListSchema()) {\r\n            return [];\r\n        }\r\n        if (ns.isMapSchema() || ns.isStructSchema()) {\r\n            return {};\r\n        }\r\n        return this.stringDeserializer.read(ns, value);\r\n    }\r\n    parseXml(xml) {\r\n        if (xml.length) {\r\n            let parsedObj;\r\n            try {\r\n                parsedObj = parseXML(xml);\r\n            }\r\n            catch (e) {\r\n                if (e && typeof e === \"object\") {\r\n                    Object.defineProperty(e, \"$responseBodyText\", {\r\n                        value: xml,\r\n                    });\r\n                }\r\n                throw e;\r\n            }\r\n            const textNodeName = \"#text\";\r\n            const key = Object.keys(parsedObj)[0];\r\n            const parsedObjToReturn = parsedObj[key];\r\n            if (parsedObjToReturn[textNodeName]) {\r\n                parsedObjToReturn[key] = parsedObjToReturn[textNodeName];\r\n                delete parsedObjToReturn[textNodeName];\r\n            }\r\n            return getValueFromTextNode(parsedObjToReturn);\r\n        }\r\n        return {};\r\n    }\r\n}\r\n", "import { determineTimestampFormat, extendedEncodeURIComponent } from \"@smithy/core/protocols\";\r\nimport { NormalizedSchema } from \"@smithy/core/schema\";\r\nimport { generateIdempotencyToken, NumericValue } from \"@smithy/core/serde\";\r\nimport { dateToUtcString } from \"@smithy/smithy-client\";\r\nimport { toBase64 } from \"@smithy/util-base64\";\r\nimport { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\r\nexport class QueryShapeSerializer extends SerdeContextConfig {\r\n    settings;\r\n    buffer;\r\n    constructor(settings) {\r\n        super();\r\n        this.settings = settings;\r\n    }\r\n    write(schema, value, prefix = \"\") {\r\n        if (this.buffer === undefined) {\r\n            this.buffer = \"\";\r\n        }\r\n        const ns = NormalizedSchema.of(schema);\r\n        if (prefix && !prefix.endsWith(\".\")) {\r\n            prefix += \".\";\r\n        }\r\n        if (ns.isBlobSchema()) {\r\n            if (typeof value === \"string\" || value instanceof Uint8Array) {\r\n                this.writeKey(prefix);\r\n                this.writeValue((this.serdeContext?.base64Encoder ?? toBase64)(value));\r\n            }\r\n        }\r\n        else if (ns.isBooleanSchema() || ns.isNumericSchema() || ns.isStringSchema()) {\r\n            if (value != null) {\r\n                this.writeKey(prefix);\r\n                this.writeValue(String(value));\r\n            }\r\n            else if (ns.isIdempotencyToken()) {\r\n                this.writeKey(prefix);\r\n                this.writeValue(generateIdempotencyToken());\r\n            }\r\n        }\r\n        else if (ns.isBigIntegerSchema()) {\r\n            if (value != null) {\r\n                this.writeKey(prefix);\r\n                this.writeValue(String(value));\r\n            }\r\n        }\r\n        else if (ns.isBigDecimalSchema()) {\r\n            if (value != null) {\r\n                this.writeKey(prefix);\r\n                this.writeValue(value instanceof NumericValue ? value.string : String(value));\r\n            }\r\n        }\r\n        else if (ns.isTimestampSchema()) {\r\n            if (value instanceof Date) {\r\n                this.writeKey(prefix);\r\n                const format = determineTimestampFormat(ns, this.settings);\r\n                switch (format) {\r\n                    case 5:\r\n                        this.writeValue(value.toISOString().replace(\".000Z\", \"Z\"));\r\n                        break;\r\n                    case 6:\r\n                        this.writeValue(dateToUtcString(value));\r\n                        break;\r\n                    case 7:\r\n                        this.writeValue(String(value.getTime() / 1000));\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        else if (ns.isDocumentSchema()) {\r\n            if (Array.isArray(value)) {\r\n                this.write(64 | 15, value, prefix);\r\n            }\r\n            else if (value instanceof Date) {\r\n                this.write(4, value, prefix);\r\n            }\r\n            else if (value instanceof Uint8Array) {\r\n                this.write(21, value, prefix);\r\n            }\r\n            else if (value && typeof value === \"object\") {\r\n                this.write(128 | 15, value, prefix);\r\n            }\r\n            else {\r\n                this.writeKey(prefix);\r\n                this.writeValue(String(value));\r\n            }\r\n        }\r\n        else if (ns.isListSchema()) {\r\n            if (Array.isArray(value)) {\r\n                if (value.length === 0) {\r\n                    if (this.settings.serializeEmptyLists) {\r\n                        this.writeKey(prefix);\r\n                        this.writeValue(\"\");\r\n                    }\r\n                }\r\n                else {\r\n                    const member = ns.getValueSchema();\r\n                    const flat = this.settings.flattenLists || ns.getMergedTraits().xmlFlattened;\r\n                    let i = 1;\r\n                    for (const item of value) {\r\n                        if (item == null) {\r\n                            continue;\r\n                        }\r\n                        const suffix = this.getKey(\"member\", member.getMergedTraits().xmlName);\r\n                        const key = flat ? `${prefix}${i}` : `${prefix}${suffix}.${i}`;\r\n                        this.write(member, item, key);\r\n                        ++i;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (ns.isMapSchema()) {\r\n            if (value && typeof value === \"object\") {\r\n                const keySchema = ns.getKeySchema();\r\n                const memberSchema = ns.getValueSchema();\r\n                const flat = ns.getMergedTraits().xmlFlattened;\r\n                let i = 1;\r\n                for (const [k, v] of Object.entries(value)) {\r\n                    if (v == null) {\r\n                        continue;\r\n                    }\r\n                    const keySuffix = this.getKey(\"key\", keySchema.getMergedTraits().xmlName);\r\n                    const key = flat ? `${prefix}${i}.${keySuffix}` : `${prefix}entry.${i}.${keySuffix}`;\r\n                    const valueSuffix = this.getKey(\"value\", memberSchema.getMergedTraits().xmlName);\r\n                    const valueKey = flat ? `${prefix}${i}.${valueSuffix}` : `${prefix}entry.${i}.${valueSuffix}`;\r\n                    this.write(keySchema, k, key);\r\n                    this.write(memberSchema, v, valueKey);\r\n                    ++i;\r\n                }\r\n            }\r\n        }\r\n        else if (ns.isStructSchema()) {\r\n            if (value && typeof value === \"object\") {\r\n                let didWriteMember = false;\r\n                for (const [memberName, member] of ns.structIterator()) {\r\n                    if (value[memberName] == null && !member.isIdempotencyToken()) {\r\n                        continue;\r\n                    }\r\n                    const suffix = this.getKey(memberName, member.getMergedTraits().xmlName);\r\n                    const key = `${prefix}${suffix}`;\r\n                    this.write(member, value[memberName], key);\r\n                    didWriteMember = true;\r\n                }\r\n                if (!didWriteMember && ns.isUnionSchema()) {\r\n                    const { $unknown } = value;\r\n                    if (Array.isArray($unknown)) {\r\n                        const [k, v] = $unknown;\r\n                        const key = `${prefix}${k}`;\r\n                        this.write(15, v, key);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (ns.isUnitSchema()) {\r\n        }\r\n        else {\r\n            throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${ns.getName(true)}`);\r\n        }\r\n    }\r\n    flush() {\r\n        if (this.buffer === undefined) {\r\n            throw new Error(\"@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.\");\r\n        }\r\n        const str = this.buffer;\r\n        delete this.buffer;\r\n        return str;\r\n    }\r\n    getKey(memberName, xmlName) {\r\n        const key = xmlName ?? memberName;\r\n        if (this.settings.capitalizeKeys) {\r\n            return key[0].toUpperCase() + key.slice(1);\r\n        }\r\n        return key;\r\n    }\r\n    writeKey(key) {\r\n        if (key.endsWith(\".\")) {\r\n            key = key.slice(0, key.length - 1);\r\n        }\r\n        this.buffer += `&${extendedEncodeURIComponent(key)}=`;\r\n    }\r\n    writeValue(value) {\r\n        this.buffer += extendedEncodeURIComponent(value);\r\n    }\r\n}\r\n", "import { collectBody, RpcProtocol } from \"@smithy/core/protocols\";\r\nimport { deref, NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\r\nimport { ProtocolLib } from \"../ProtocolLib\";\r\nimport { XmlShapeDeserializer } from \"../xml/XmlShapeDeserializer\";\r\nimport { QueryShapeSerializer } from \"./QueryShapeSerializer\";\r\nexport class AwsQueryProtocol extends RpcProtocol {\r\n    options;\r\n    serializer;\r\n    deserializer;\r\n    mixin = new ProtocolLib();\r\n    constructor(options) {\r\n        super({\r\n            defaultNamespace: options.defaultNamespace,\r\n        });\r\n        this.options = options;\r\n        const settings = {\r\n            timestampFormat: {\r\n                useTrait: true,\r\n                default: 5,\r\n            },\r\n            httpBindings: false,\r\n            xmlNamespace: options.xmlNamespace,\r\n            serviceNamespace: options.defaultNamespace,\r\n            serializeEmptyLists: true,\r\n        };\r\n        this.serializer = new QueryShapeSerializer(settings);\r\n        this.deserializer = new XmlShapeDeserializer(settings);\r\n    }\r\n    getShapeId() {\r\n        return \"aws.protocols#awsQuery\";\r\n    }\r\n    setSerdeContext(serdeContext) {\r\n        this.serializer.setSerdeContext(serdeContext);\r\n        this.deserializer.setSerdeContext(serdeContext);\r\n    }\r\n    getPayloadCodec() {\r\n        throw new Error(\"AWSQuery protocol has no payload codec.\");\r\n    }\r\n    async serializeRequest(operationSchema, input, context) {\r\n        const request = await super.serializeRequest(operationSchema, input, context);\r\n        if (!request.path.endsWith(\"/\")) {\r\n            request.path += \"/\";\r\n        }\r\n        Object.assign(request.headers, {\r\n            \"content-type\": `application/x-www-form-urlencoded`,\r\n        });\r\n        if (deref(operationSchema.input) === \"unit\" || !request.body) {\r\n            request.body = \"\";\r\n        }\r\n        const action = operationSchema.name.split(\"#\")[1] ?? operationSchema.name;\r\n        request.body = `Action=${action}&Version=${this.options.version}` + request.body;\r\n        if (request.body.endsWith(\"&\")) {\r\n            request.body = request.body.slice(-1);\r\n        }\r\n        return request;\r\n    }\r\n    async deserializeResponse(operationSchema, context, response) {\r\n        const deserializer = this.deserializer;\r\n        const ns = NormalizedSchema.of(operationSchema.output);\r\n        const dataObject = {};\r\n        if (response.statusCode >= 300) {\r\n            const bytes = await collectBody(response.body, context);\r\n            if (bytes.byteLength > 0) {\r\n                Object.assign(dataObject, await deserializer.read(15, bytes));\r\n            }\r\n            await this.handleError(operationSchema, context, response, dataObject, this.deserializeMetadata(response));\r\n        }\r\n        for (const header in response.headers) {\r\n            const value = response.headers[header];\r\n            delete response.headers[header];\r\n            response.headers[header.toLowerCase()] = value;\r\n        }\r\n        const shortName = operationSchema.name.split(\"#\")[1] ?? operationSchema.name;\r\n        const awsQueryResultKey = ns.isStructSchema() && this.useNestedResult() ? shortName + \"Result\" : undefined;\r\n        const bytes = await collectBody(response.body, context);\r\n        if (bytes.byteLength > 0) {\r\n            Object.assign(dataObject, await deserializer.read(ns, bytes, awsQueryResultKey));\r\n        }\r\n        const output = {\r\n            $metadata: this.deserializeMetadata(response),\r\n            ...dataObject,\r\n        };\r\n        return output;\r\n    }\r\n    useNestedResult() {\r\n        return true;\r\n    }\r\n    async handleError(operationSchema, context, response, dataObject, metadata) {\r\n        const errorIdentifier = this.loadQueryErrorCode(response, dataObject) ?? \"Unknown\";\r\n        const errorData = this.loadQueryError(dataObject);\r\n        const message = this.loadQueryErrorMessage(dataObject);\r\n        errorData.message = message;\r\n        errorData.Error = {\r\n            Type: errorData.Type,\r\n            Code: errorData.Code,\r\n            Message: message,\r\n        };\r\n        const { errorSchema, errorMetadata } = await this.mixin.getErrorSchemaOrThrowBaseException(errorIdentifier, this.options.defaultNamespace, response, errorData, metadata, this.mixin.findQueryCompatibleError);\r\n        const ns = NormalizedSchema.of(errorSchema);\r\n        const ErrorCtor = TypeRegistry.for(errorSchema[1]).getErrorCtor(errorSchema) ?? Error;\r\n        const exception = new ErrorCtor(message);\r\n        const output = {\r\n            Type: errorData.Error.Type,\r\n            Code: errorData.Error.Code,\r\n            Error: errorData.Error,\r\n        };\r\n        for (const [name, member] of ns.structIterator()) {\r\n            const target = member.getMergedTraits().xmlName ?? name;\r\n            const value = errorData[target] ?? dataObject[target];\r\n            output[name] = this.deserializer.readSchema(member, value);\r\n        }\r\n        throw this.mixin.decorateServiceException(Object.assign(exception, errorMetadata, {\r\n            $fault: ns.getMergedTraits().error,\r\n            message,\r\n        }, output), dataObject);\r\n    }\r\n    loadQueryErrorCode(output, data) {\r\n        const code = (data.Errors?.[0]?.Error ?? data.Errors?.Error ?? data.Error)?.Code;\r\n        if (code !== undefined) {\r\n            return code;\r\n        }\r\n        if (output.statusCode == 404) {\r\n            return \"NotFound\";\r\n        }\r\n    }\r\n    loadQueryError(data) {\r\n        return data.Errors?.[0]?.Error ?? data.Errors?.Error ?? data.Error;\r\n    }\r\n    loadQueryErrorMessage(data) {\r\n        const errorData = this.loadQueryError(data);\r\n        return errorData?.message ?? errorData?.Message ?? data.message ?? data.Message ?? \"Unknown\";\r\n    }\r\n    getDefaultContentType() {\r\n        return \"application/x-www-form-urlencoded\";\r\n    }\r\n}\r\n", "import { AwsQueryProtocol } from \"./AwsQueryProtocol\";\r\nexport class AwsEc2QueryProtocol extends AwsQueryProtocol {\r\n    options;\r\n    constructor(options) {\r\n        super(options);\r\n        this.options = options;\r\n        const ec2Settings = {\r\n            capitalizeKeys: true,\r\n            flattenLists: true,\r\n            serializeEmptyLists: false,\r\n        };\r\n        Object.assign(this.serializer.settings, ec2Settings);\r\n    }\r\n    useNestedResult() {\r\n        return false;\r\n    }\r\n}\r\n", "import { parseXML } from \"@aws-sdk/xml-builder\";\r\nimport { getValueFromTextNode } from \"@smithy/smithy-client\";\r\nimport { collectBodyString } from \"../common\";\r\nexport const parseXmlBody = (streamBody, context) => collectBodyString(streamBody, context).then((encoded) => {\r\n    if (encoded.length) {\r\n        let parsedObj;\r\n        try {\r\n            parsedObj = parseXML(encoded);\r\n        }\r\n        catch (e) {\r\n            if (e && typeof e === \"object\") {\r\n                Object.defineProperty(e, \"$responseBodyText\", {\r\n                    value: encoded,\r\n                });\r\n            }\r\n            throw e;\r\n        }\r\n        const textNodeName = \"#text\";\r\n        const key = Object.keys(parsedObj)[0];\r\n        const parsedObjToReturn = parsedObj[key];\r\n        if (parsedObjToReturn[textNodeName]) {\r\n            parsedObjToReturn[key] = parsedObjToReturn[textNodeName];\r\n            delete parsedObjToReturn[textNodeName];\r\n        }\r\n        return getValueFromTextNode(parsedObjToReturn);\r\n    }\r\n    return {};\r\n});\r\nexport const parseXmlErrorBody = async (errorBody, context) => {\r\n    const value = await parseXmlBody(errorBody, context);\r\n    if (value.Error) {\r\n        value.Error.message = value.Error.message ?? value.Error.Message;\r\n    }\r\n    return value;\r\n};\r\nexport const loadRestXmlErrorCode = (output, data) => {\r\n    if (data?.Error?.Code !== undefined) {\r\n        return data.Error.Code;\r\n    }\r\n    if (data?.Code !== undefined) {\r\n        return data.Code;\r\n    }\r\n    if (output.statusCode == 404) {\r\n        return \"NotFound\";\r\n    }\r\n};\r\n", "import { XmlNode, XmlText } from \"@aws-sdk/xml-builder\";\r\nimport { determineTimestampFormat } from \"@smithy/core/protocols\";\r\nimport { NormalizedSchema } from \"@smithy/core/schema\";\r\nimport { generateIdempotencyToken, NumericValue } from \"@smithy/core/serde\";\r\nimport { dateToUtcString } from \"@smithy/smithy-client\";\r\nimport { fromBase64, toBase64 } from \"@smithy/util-base64\";\r\nimport { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\r\nexport class XmlShapeSerializer extends SerdeContextConfig {\r\n    settings;\r\n    stringBuffer;\r\n    byteBuffer;\r\n    buffer;\r\n    constructor(settings) {\r\n        super();\r\n        this.settings = settings;\r\n    }\r\n    write(schema, value) {\r\n        const ns = NormalizedSchema.of(schema);\r\n        if (ns.isStringSchema() && typeof value === \"string\") {\r\n            this.stringBuffer = value;\r\n        }\r\n        else if (ns.isBlobSchema()) {\r\n            this.byteBuffer =\r\n                \"byteLength\" in value\r\n                    ? value\r\n                    : (this.serdeContext?.base64Decoder ?? fromBase64)(value);\r\n        }\r\n        else {\r\n            this.buffer = this.writeStruct(ns, value, undefined);\r\n            const traits = ns.getMergedTraits();\r\n            if (traits.httpPayload && !traits.xmlName) {\r\n                this.buffer.withName(ns.getName());\r\n            }\r\n        }\r\n    }\r\n    flush() {\r\n        if (this.byteBuffer !== undefined) {\r\n            const bytes = this.byteBuffer;\r\n            delete this.byteBuffer;\r\n            return bytes;\r\n        }\r\n        if (this.stringBuffer !== undefined) {\r\n            const str = this.stringBuffer;\r\n            delete this.stringBuffer;\r\n            return str;\r\n        }\r\n        const buffer = this.buffer;\r\n        if (this.settings.xmlNamespace) {\r\n            if (!buffer?.attributes?.[\"xmlns\"]) {\r\n                buffer.addAttribute(\"xmlns\", this.settings.xmlNamespace);\r\n            }\r\n        }\r\n        delete this.buffer;\r\n        return buffer.toString();\r\n    }\r\n    writeStruct(ns, value, parentXmlns) {\r\n        const traits = ns.getMergedTraits();\r\n        const name = ns.isMemberSchema() && !traits.httpPayload\r\n            ? ns.getMemberTraits().xmlName ?? ns.getMemberName()\r\n            : traits.xmlName ?? ns.getName();\r\n        if (!name || !ns.isStructSchema()) {\r\n            throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${ns.getName(true)}.`);\r\n        }\r\n        const structXmlNode = XmlNode.of(name);\r\n        const [xmlnsAttr, xmlns] = this.getXmlnsAttribute(ns, parentXmlns);\r\n        for (const [memberName, memberSchema] of ns.structIterator()) {\r\n            const val = value[memberName];\r\n            if (val != null || memberSchema.isIdempotencyToken()) {\r\n                if (memberSchema.getMergedTraits().xmlAttribute) {\r\n                    structXmlNode.addAttribute(memberSchema.getMergedTraits().xmlName ?? memberName, this.writeSimple(memberSchema, val));\r\n                    continue;\r\n                }\r\n                if (memberSchema.isListSchema()) {\r\n                    this.writeList(memberSchema, val, structXmlNode, xmlns);\r\n                }\r\n                else if (memberSchema.isMapSchema()) {\r\n                    this.writeMap(memberSchema, val, structXmlNode, xmlns);\r\n                }\r\n                else if (memberSchema.isStructSchema()) {\r\n                    structXmlNode.addChildNode(this.writeStruct(memberSchema, val, xmlns));\r\n                }\r\n                else {\r\n                    const memberNode = XmlNode.of(memberSchema.getMergedTraits().xmlName ?? memberSchema.getMemberName());\r\n                    this.writeSimpleInto(memberSchema, val, memberNode, xmlns);\r\n                    structXmlNode.addChildNode(memberNode);\r\n                }\r\n            }\r\n        }\r\n        const { $unknown } = value;\r\n        if ($unknown && ns.isUnionSchema() && Array.isArray($unknown) && Object.keys(value).length === 1) {\r\n            const [k, v] = $unknown;\r\n            const node = XmlNode.of(k);\r\n            if (typeof v !== \"string\") {\r\n                if (value instanceof XmlNode || value instanceof XmlText) {\r\n                    structXmlNode.addChildNode(value);\r\n                }\r\n                else {\r\n                    throw new Error(`@aws-sdk - $unknown union member in XML requires ` +\r\n                        `value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.`);\r\n                }\r\n            }\r\n            this.writeSimpleInto(0, v, node, xmlns);\r\n            structXmlNode.addChildNode(node);\r\n        }\r\n        if (xmlns) {\r\n            structXmlNode.addAttribute(xmlnsAttr, xmlns);\r\n        }\r\n        return structXmlNode;\r\n    }\r\n    writeList(listMember, array, container, parentXmlns) {\r\n        if (!listMember.isMemberSchema()) {\r\n            throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${listMember.getName(true)}`);\r\n        }\r\n        const listTraits = listMember.getMergedTraits();\r\n        const listValueSchema = listMember.getValueSchema();\r\n        const listValueTraits = listValueSchema.getMergedTraits();\r\n        const sparse = !!listValueTraits.sparse;\r\n        const flat = !!listTraits.xmlFlattened;\r\n        const [xmlnsAttr, xmlns] = this.getXmlnsAttribute(listMember, parentXmlns);\r\n        const writeItem = (container, value) => {\r\n            if (listValueSchema.isListSchema()) {\r\n                this.writeList(listValueSchema, Array.isArray(value) ? value : [value], container, xmlns);\r\n            }\r\n            else if (listValueSchema.isMapSchema()) {\r\n                this.writeMap(listValueSchema, value, container, xmlns);\r\n            }\r\n            else if (listValueSchema.isStructSchema()) {\r\n                const struct = this.writeStruct(listValueSchema, value, xmlns);\r\n                container.addChildNode(struct.withName(flat ? listTraits.xmlName ?? listMember.getMemberName() : listValueTraits.xmlName ?? \"member\"));\r\n            }\r\n            else {\r\n                const listItemNode = XmlNode.of(flat ? listTraits.xmlName ?? listMember.getMemberName() : listValueTraits.xmlName ?? \"member\");\r\n                this.writeSimpleInto(listValueSchema, value, listItemNode, xmlns);\r\n                container.addChildNode(listItemNode);\r\n            }\r\n        };\r\n        if (flat) {\r\n            for (const value of array) {\r\n                if (sparse || value != null) {\r\n                    writeItem(container, value);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            const listNode = XmlNode.of(listTraits.xmlName ?? listMember.getMemberName());\r\n            if (xmlns) {\r\n                listNode.addAttribute(xmlnsAttr, xmlns);\r\n            }\r\n            for (const value of array) {\r\n                if (sparse || value != null) {\r\n                    writeItem(listNode, value);\r\n                }\r\n            }\r\n            container.addChildNode(listNode);\r\n        }\r\n    }\r\n    writeMap(mapMember, map, container, parentXmlns, containerIsMap = false) {\r\n        if (!mapMember.isMemberSchema()) {\r\n            throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${mapMember.getName(true)}`);\r\n        }\r\n        const mapTraits = mapMember.getMergedTraits();\r\n        const mapKeySchema = mapMember.getKeySchema();\r\n        const mapKeyTraits = mapKeySchema.getMergedTraits();\r\n        const keyTag = mapKeyTraits.xmlName ?? \"key\";\r\n        const mapValueSchema = mapMember.getValueSchema();\r\n        const mapValueTraits = mapValueSchema.getMergedTraits();\r\n        const valueTag = mapValueTraits.xmlName ?? \"value\";\r\n        const sparse = !!mapValueTraits.sparse;\r\n        const flat = !!mapTraits.xmlFlattened;\r\n        const [xmlnsAttr, xmlns] = this.getXmlnsAttribute(mapMember, parentXmlns);\r\n        const addKeyValue = (entry, key, val) => {\r\n            const keyNode = XmlNode.of(keyTag, key);\r\n            const [keyXmlnsAttr, keyXmlns] = this.getXmlnsAttribute(mapKeySchema, xmlns);\r\n            if (keyXmlns) {\r\n                keyNode.addAttribute(keyXmlnsAttr, keyXmlns);\r\n            }\r\n            entry.addChildNode(keyNode);\r\n            let valueNode = XmlNode.of(valueTag);\r\n            if (mapValueSchema.isListSchema()) {\r\n                this.writeList(mapValueSchema, val, valueNode, xmlns);\r\n            }\r\n            else if (mapValueSchema.isMapSchema()) {\r\n                this.writeMap(mapValueSchema, val, valueNode, xmlns, true);\r\n            }\r\n            else if (mapValueSchema.isStructSchema()) {\r\n                valueNode = this.writeStruct(mapValueSchema, val, xmlns);\r\n            }\r\n            else {\r\n                this.writeSimpleInto(mapValueSchema, val, valueNode, xmlns);\r\n            }\r\n            entry.addChildNode(valueNode);\r\n        };\r\n        if (flat) {\r\n            for (const [key, val] of Object.entries(map)) {\r\n                if (sparse || val != null) {\r\n                    const entry = XmlNode.of(mapTraits.xmlName ?? mapMember.getMemberName());\r\n                    addKeyValue(entry, key, val);\r\n                    container.addChildNode(entry);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            let mapNode;\r\n            if (!containerIsMap) {\r\n                mapNode = XmlNode.of(mapTraits.xmlName ?? mapMember.getMemberName());\r\n                if (xmlns) {\r\n                    mapNode.addAttribute(xmlnsAttr, xmlns);\r\n                }\r\n                container.addChildNode(mapNode);\r\n            }\r\n            for (const [key, val] of Object.entries(map)) {\r\n                if (sparse || val != null) {\r\n                    const entry = XmlNode.of(\"entry\");\r\n                    addKeyValue(entry, key, val);\r\n                    (containerIsMap ? container : mapNode).addChildNode(entry);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    writeSimple(_schema, value) {\r\n        if (null === value) {\r\n            throw new Error(\"@aws-sdk/core/protocols - (XML serializer) cannot write null value.\");\r\n        }\r\n        const ns = NormalizedSchema.of(_schema);\r\n        let nodeContents = null;\r\n        if (value && typeof value === \"object\") {\r\n            if (ns.isBlobSchema()) {\r\n                nodeContents = (this.serdeContext?.base64Encoder ?? toBase64)(value);\r\n            }\r\n            else if (ns.isTimestampSchema() && value instanceof Date) {\r\n                const format = determineTimestampFormat(ns, this.settings);\r\n                switch (format) {\r\n                    case 5:\r\n                        nodeContents = value.toISOString().replace(\".000Z\", \"Z\");\r\n                        break;\r\n                    case 6:\r\n                        nodeContents = dateToUtcString(value);\r\n                        break;\r\n                    case 7:\r\n                        nodeContents = String(value.getTime() / 1000);\r\n                        break;\r\n                    default:\r\n                        console.warn(\"Missing timestamp format, using http date\", value);\r\n                        nodeContents = dateToUtcString(value);\r\n                        break;\r\n                }\r\n            }\r\n            else if (ns.isBigDecimalSchema() && value) {\r\n                if (value instanceof NumericValue) {\r\n                    return value.string;\r\n                }\r\n                return String(value);\r\n            }\r\n            else if (ns.isMapSchema() || ns.isListSchema()) {\r\n                throw new Error(\"@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead.\");\r\n            }\r\n            else {\r\n                throw new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${ns.getName(true)}`);\r\n            }\r\n        }\r\n        if (ns.isBooleanSchema() || ns.isNumericSchema() || ns.isBigIntegerSchema() || ns.isBigDecimalSchema()) {\r\n            nodeContents = String(value);\r\n        }\r\n        if (ns.isStringSchema()) {\r\n            if (value === undefined && ns.isIdempotencyToken()) {\r\n                nodeContents = generateIdempotencyToken();\r\n            }\r\n            else {\r\n                nodeContents = String(value);\r\n            }\r\n        }\r\n        if (nodeContents === null) {\r\n            throw new Error(`Unhandled schema-value pair ${ns.getName(true)}=${value}`);\r\n        }\r\n        return nodeContents;\r\n    }\r\n    writeSimpleInto(_schema, value, into, parentXmlns) {\r\n        const nodeContents = this.writeSimple(_schema, value);\r\n        const ns = NormalizedSchema.of(_schema);\r\n        const content = new XmlText(nodeContents);\r\n        const [xmlnsAttr, xmlns] = this.getXmlnsAttribute(ns, parentXmlns);\r\n        if (xmlns) {\r\n            into.addAttribute(xmlnsAttr, xmlns);\r\n        }\r\n        into.addChildNode(content);\r\n    }\r\n    getXmlnsAttribute(ns, parentXmlns) {\r\n        const traits = ns.getMergedTraits();\r\n        const [prefix, xmlns] = traits.xmlNamespace ?? [];\r\n        if (xmlns && xmlns !== parentXmlns) {\r\n            return [prefix ? `xmlns:${prefix}` : \"xmlns\", xmlns];\r\n        }\r\n        return [void 0, void 0];\r\n    }\r\n}\r\n", "import { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\r\nimport { XmlShapeDeserializer } from \"./XmlShapeDeserializer\";\r\nimport { XmlShapeSerializer } from \"./XmlShapeSerializer\";\r\nexport class XmlCodec extends SerdeContextConfig {\r\n    settings;\r\n    constructor(settings) {\r\n        super();\r\n        this.settings = settings;\r\n    }\r\n    createSerializer() {\r\n        const serializer = new XmlShapeSerializer(this.settings);\r\n        serializer.setSerdeContext(this.serdeContext);\r\n        return serializer;\r\n    }\r\n    createDeserializer() {\r\n        const deserializer = new XmlShapeDeserializer(this.settings);\r\n        deserializer.setSerdeContext(this.serdeContext);\r\n        return deserializer;\r\n    }\r\n}\r\n", "import { HttpBindingProtocol, HttpInterceptingShapeDeserializer, HttpInterceptingShapeSerializer, } from \"@smithy/core/protocols\";\r\nimport { NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\r\nimport { ProtocolLib } from \"../ProtocolLib\";\r\nimport { loadRestXmlErrorCode } from \"./parseXmlBody\";\r\nimport { XmlCodec } from \"./XmlCodec\";\r\nexport class AwsRestXmlProtocol extends HttpBindingProtocol {\r\n    codec;\r\n    serializer;\r\n    deserializer;\r\n    mixin = new ProtocolLib();\r\n    constructor(options) {\r\n        super(options);\r\n        const settings = {\r\n            timestampFormat: {\r\n                useTrait: true,\r\n                default: 5,\r\n            },\r\n            httpBindings: true,\r\n            xmlNamespace: options.xmlNamespace,\r\n            serviceNamespace: options.defaultNamespace,\r\n        };\r\n        this.codec = new XmlCodec(settings);\r\n        this.serializer = new HttpInterceptingShapeSerializer(this.codec.createSerializer(), settings);\r\n        this.deserializer = new HttpInterceptingShapeDeserializer(this.codec.createDeserializer(), settings);\r\n    }\r\n    getPayloadCodec() {\r\n        return this.codec;\r\n    }\r\n    getShapeId() {\r\n        return \"aws.protocols#restXml\";\r\n    }\r\n    async serializeRequest(operationSchema, input, context) {\r\n        const request = await super.serializeRequest(operationSchema, input, context);\r\n        const inputSchema = NormalizedSchema.of(operationSchema.input);\r\n        if (!request.headers[\"content-type\"]) {\r\n            const contentType = this.mixin.resolveRestContentType(this.getDefaultContentType(), inputSchema);\r\n            if (contentType) {\r\n                request.headers[\"content-type\"] = contentType;\r\n            }\r\n        }\r\n        if (typeof request.body === \"string\" &&\r\n            request.headers[\"content-type\"] === this.getDefaultContentType() &&\r\n            !request.body.startsWith(\"<?xml \") &&\r\n            !this.hasUnstructuredPayloadBinding(inputSchema)) {\r\n            request.body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>' + request.body;\r\n        }\r\n        return request;\r\n    }\r\n    async deserializeResponse(operationSchema, context, response) {\r\n        return super.deserializeResponse(operationSchema, context, response);\r\n    }\r\n    async handleError(operationSchema, context, response, dataObject, metadata) {\r\n        const errorIdentifier = loadRestXmlErrorCode(response, dataObject) ?? \"Unknown\";\r\n        if (dataObject.Error && typeof dataObject.Error === \"object\") {\r\n            for (const key of Object.keys(dataObject.Error)) {\r\n                dataObject[key] = dataObject.Error[key];\r\n                if (key.toLowerCase() === \"message\") {\r\n                    dataObject.message = dataObject.Error[key];\r\n                }\r\n            }\r\n        }\r\n        if (dataObject.RequestId && !metadata.requestId) {\r\n            metadata.requestId = dataObject.RequestId;\r\n        }\r\n        const { errorSchema, errorMetadata } = await this.mixin.getErrorSchemaOrThrowBaseException(errorIdentifier, this.options.defaultNamespace, response, dataObject, metadata);\r\n        const ns = NormalizedSchema.of(errorSchema);\r\n        const message = dataObject.Error?.message ?? dataObject.Error?.Message ?? dataObject.message ?? dataObject.Message ?? \"Unknown\";\r\n        const ErrorCtor = TypeRegistry.for(errorSchema[1]).getErrorCtor(errorSchema) ?? Error;\r\n        const exception = new ErrorCtor(message);\r\n        await this.deserializeHttpMessage(errorSchema, context, response, dataObject);\r\n        const output = {};\r\n        for (const [name, member] of ns.structIterator()) {\r\n            const target = member.getMergedTraits().xmlName ?? name;\r\n            const value = dataObject.Error?.[target] ?? dataObject[target];\r\n            output[name] = this.codec.createDeserializer().readSchema(member, value);\r\n        }\r\n        throw this.mixin.decorateServiceException(Object.assign(exception, errorMetadata, {\r\n            $fault: ns.getMergedTraits().error,\r\n            message,\r\n        }, output), dataObject);\r\n    }\r\n    getDefaultContentType() {\r\n        return \"application/xml\";\r\n    }\r\n    hasUnstructuredPayloadBinding(ns) {\r\n        for (const [, member] of ns.structIterator()) {\r\n            if (member.getMergedTraits().httpPayload) {\r\n                return !(member.isStructSchema() || member.isMapSchema() || member.isListSchema());\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n", "export * from \"./cbor/AwsSmithyRpcV2CborProtocol\";\r\nexport * from \"./coercing-serializers\";\r\nexport * from \"./json/AwsJson1_0Protocol\";\r\nexport * from \"./json/AwsJson1_1Protocol\";\r\nexport * from \"./json/AwsJsonRpcProtocol\";\r\nexport * from \"./json/AwsRestJsonProtocol\";\r\nexport * from \"./json/JsonCodec\";\r\nexport * from \"./json/JsonShapeDeserializer\";\r\nexport * from \"./json/JsonShapeSerializer\";\r\nexport * from \"./json/awsExpectUnion\";\r\nexport * from \"./json/parseJsonBody\";\r\nexport * from \"./query/AwsEc2QueryProtocol\";\r\nexport * from \"./query/AwsQueryProtocol\";\r\nexport * from \"./xml/AwsRestXmlProtocol\";\r\nexport * from \"./xml/XmlCodec\";\r\nexport * from \"./xml/XmlShapeDeserializer\";\r\nexport * from \"./xml/XmlShapeSerializer\";\r\nexport * from \"./xml/parseXmlBody\";\r\n", "export * from \"./submodules/client/index\";\r\nexport * from \"./submodules/httpAuthSchemes/index\";\r\nexport * from \"./submodules/protocols/index\";\r\n", "import { setFeature } from \"@aws-sdk/core\";\r\nconst ACCOUNT_ID_ENDPOINT_REGEX = /\\d{12}\\.ddb/;\r\nexport async function checkFeatures(context, config, args) {\r\n    const request = args.request;\r\n    if (request?.headers?.[\"smithy-protocol\"] === \"rpc-v2-cbor\") {\r\n        setFeature(context, \"PROTOCOL_RPC_V2_CBOR\", \"M\");\r\n    }\r\n    if (typeof config.retryStrategy === \"function\") {\r\n        const retryStrategy = await config.retryStrategy();\r\n        if (typeof retryStrategy.acquireInitialRetryToken === \"function\") {\r\n            if (retryStrategy.constructor?.name?.includes(\"Adaptive\")) {\r\n                setFeature(context, \"RETRY_MODE_ADAPTIVE\", \"F\");\r\n            }\r\n            else {\r\n                setFeature(context, \"RETRY_MODE_STANDARD\", \"E\");\r\n            }\r\n        }\r\n        else {\r\n            setFeature(context, \"RETRY_MODE_LEGACY\", \"D\");\r\n        }\r\n    }\r\n    if (typeof config.accountIdEndpointMode === \"function\") {\r\n        const endpointV2 = context.endpointV2;\r\n        if (String(endpointV2?.url?.hostname).match(ACCOUNT_ID_ENDPOINT_REGEX)) {\r\n            setFeature(context, \"ACCOUNT_ID_ENDPOINT\", \"O\");\r\n        }\r\n        switch (await config.accountIdEndpointMode?.()) {\r\n            case \"disabled\":\r\n                setFeature(context, \"ACCOUNT_ID_MODE_DISABLED\", \"Q\");\r\n                break;\r\n            case \"preferred\":\r\n                setFeature(context, \"ACCOUNT_ID_MODE_PREFERRED\", \"P\");\r\n                break;\r\n            case \"required\":\r\n                setFeature(context, \"ACCOUNT_ID_MODE_REQUIRED\", \"R\");\r\n                break;\r\n        }\r\n    }\r\n    const identity = context.__smithy_context?.selectedHttpAuthScheme?.identity;\r\n    if (identity?.$source) {\r\n        const credentials = identity;\r\n        if (credentials.accountId) {\r\n            setFeature(context, \"RESOLVED_ACCOUNT_ID\", \"T\");\r\n        }\r\n        for (const [key, value] of Object.entries(credentials.$source ?? {})) {\r\n            setFeature(context, key, value);\r\n        }\r\n    }\r\n}\r\n", "export const USER_AGENT = \"user-agent\";\r\nexport const X_AMZ_USER_AGENT = \"x-amz-user-agent\";\r\nexport const SPACE = \" \";\r\nexport const UA_NAME_SEPARATOR = \"/\";\r\nexport const UA_NAME_ESCAPE_REGEX = /[^!$%&'*+\\-.^_`|~\\w]/g;\r\nexport const UA_VALUE_ESCAPE_REGEX = /[^!$%&'*+\\-.^_`|~\\w#]/g;\r\nexport const UA_ESCAPE_CHAR = \"-\";\r\n", "const BYTE_LIMIT = 1024;\r\nexport function encodeFeatures(features) {\r\n    let buffer = \"\";\r\n    for (const key in features) {\r\n        const val = features[key];\r\n        if (buffer.length + val.length + 1 <= BYTE_LIMIT) {\r\n            if (buffer.length) {\r\n                buffer += \",\" + val;\r\n            }\r\n            else {\r\n                buffer += val;\r\n            }\r\n            continue;\r\n        }\r\n        break;\r\n    }\r\n    return buffer;\r\n}\r\n", "import { getUserAgentPrefix } from \"@aws-sdk/util-endpoints\";\r\nimport { HttpRequest } from \"@smithy/protocol-http\";\r\nimport { checkFeatures } from \"./check-features\";\r\nimport { SPACE, UA_ESCAPE_CHAR, UA_NAME_ESCAPE_REGEX, UA_NAME_SEPARATOR, UA_VALUE_ESCAPE_REGEX, USER_AGENT, X_AMZ_USER_AGENT, } from \"./constants\";\r\nimport { encodeFeatures } from \"./encode-features\";\r\nexport const userAgentMiddleware = (options) => (next, context) => async (args) => {\r\n    const { request } = args;\r\n    if (!HttpRequest.isInstance(request)) {\r\n        return next(args);\r\n    }\r\n    const { headers } = request;\r\n    const userAgent = context?.userAgent?.map(escapeUserAgent) || [];\r\n    const defaultUserAgent = (await options.defaultUserAgentProvider()).map(escapeUserAgent);\r\n    await checkFeatures(context, options, args);\r\n    const awsContext = context;\r\n    defaultUserAgent.push(`m/${encodeFeatures(Object.assign({}, context.__smithy_context?.features, awsContext.__aws_sdk_context?.features))}`);\r\n    const customUserAgent = options?.customUserAgent?.map(escapeUserAgent) || [];\r\n    const appId = await options.userAgentAppId();\r\n    if (appId) {\r\n        defaultUserAgent.push(escapeUserAgent([`app`, `${appId}`]));\r\n    }\r\n    const prefix = getUserAgentPrefix();\r\n    const sdkUserAgentValue = (prefix ? [prefix] : [])\r\n        .concat([...defaultUserAgent, ...userAgent, ...customUserAgent])\r\n        .join(SPACE);\r\n    const normalUAValue = [\r\n        ...defaultUserAgent.filter((section) => section.startsWith(\"aws-sdk-\")),\r\n        ...customUserAgent,\r\n    ].join(SPACE);\r\n    if (options.runtime !== \"browser\") {\r\n        if (normalUAValue) {\r\n            headers[X_AMZ_USER_AGENT] = headers[X_AMZ_USER_AGENT]\r\n                ? `${headers[USER_AGENT]} ${normalUAValue}`\r\n                : normalUAValue;\r\n        }\r\n        headers[USER_AGENT] = sdkUserAgentValue;\r\n    }\r\n    else {\r\n        headers[X_AMZ_USER_AGENT] = sdkUserAgentValue;\r\n    }\r\n    return next({\r\n        ...args,\r\n        request,\r\n    });\r\n};\r\nconst escapeUserAgent = (userAgentPair) => {\r\n    const name = userAgentPair[0]\r\n        .split(UA_NAME_SEPARATOR)\r\n        .map((part) => part.replace(UA_NAME_ESCAPE_REGEX, UA_ESCAPE_CHAR))\r\n        .join(UA_NAME_SEPARATOR);\r\n    const version = userAgentPair[1]?.replace(UA_VALUE_ESCAPE_REGEX, UA_ESCAPE_CHAR);\r\n    const prefixSeparatorIndex = name.indexOf(UA_NAME_SEPARATOR);\r\n    const prefix = name.substring(0, prefixSeparatorIndex);\r\n    let uaName = name.substring(prefixSeparatorIndex + 1);\r\n    if (prefix === \"api\") {\r\n        uaName = uaName.toLowerCase();\r\n    }\r\n    return [prefix, uaName, version]\r\n        .filter((item) => item && item.length > 0)\r\n        .reduce((acc, item, index) => {\r\n        switch (index) {\r\n            case 0:\r\n                return item;\r\n            case 1:\r\n                return `${acc}/${item}`;\r\n            default:\r\n                return `${acc}#${item}`;\r\n        }\r\n    }, \"\");\r\n};\r\nexport const getUserAgentMiddlewareOptions = {\r\n    name: \"getUserAgentMiddleware\",\r\n    step: \"build\",\r\n    priority: \"low\",\r\n    tags: [\"SET_USER_AGENT\", \"USER_AGENT\"],\r\n    override: true,\r\n};\r\nexport const getUserAgentPlugin = (config) => ({\r\n    applyToStack: (clientStack) => {\r\n        clientStack.add(userAgentMiddleware(config), getUserAgentMiddlewareOptions);\r\n    },\r\n});\r\n", "export * from \"./configurations\";\r\nexport * from \"./user-agent-middleware\";\r\n", "import { isValidHostLabel } from \"@smithy/util-endpoints\";\r\nconst validRegions = new Set();\r\nexport const checkRegion = (region, check = isValidHostLabel) => {\r\n    if (!validRegions.has(region) && !check(region)) {\r\n        if (region === \"*\") {\r\n            console.warn(`@smithy/config-resolver WARN - Please use the caller region instead of \"*\". See \"sigv4a\" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.`);\r\n        }\r\n        else {\r\n            throw new Error(`Region not accepted: region=\"${region}\" is not a valid hostname component.`);\r\n        }\r\n    }\r\n    else {\r\n        validRegions.add(region);\r\n    }\r\n};\r\n", "export const isFipsRegion = (region) => typeof region === \"string\" && (region.startsWith(\"fips-\") || region.endsWith(\"-fips\"));\r\n", "import { isFipsRegion } from \"./isFipsRegion\";\r\nexport const getRealRegion = (region) => isFipsRegion(region)\r\n    ? [\"fips-aws-global\", \"aws-fips\"].includes(region)\r\n        ? \"us-east-1\"\r\n        : region.replace(/fips-(dkr-|prod-)?|-fips/, \"\")\r\n    : region;\r\n", "import { checkRegion } from \"./checkRegion\";\r\nimport { getRealRegion } from \"./getRealRegion\";\r\nimport { isFipsRegion } from \"./isFipsRegion\";\r\nexport const resolveRegionConfig = (input) => {\r\n    const { region, useFipsEndpoint } = input;\r\n    if (!region) {\r\n        throw new Error(\"Region is missing\");\r\n    }\r\n    return Object.assign(input, {\r\n        region: async () => {\r\n            const providedRegion = typeof region === \"function\" ? await region() : region;\r\n            const realRegion = getRealRegion(providedRegion);\r\n            checkRegion(realRegion);\r\n            return realRegion;\r\n        },\r\n        useFipsEndpoint: async () => {\r\n            const providedRegion = typeof region === \"string\" ? region : await region();\r\n            if (isFipsRegion(providedRegion)) {\r\n                return true;\r\n            }\r\n            return typeof useFipsEndpoint !== \"function\" ? Promise.resolve(!!useFipsEndpoint) : useFipsEndpoint();\r\n        },\r\n    });\r\n};\r\n", "export const booleanSelector = (obj, key, type) => {\r\n    if (!(key in obj))\r\n        return undefined;\r\n    if (obj[key] === \"true\")\r\n        return true;\r\n    if (obj[key] === \"false\")\r\n        return false;\r\n    throw new Error(`Cannot load ${type} \"${key}\". Expected \"true\" or \"false\", got ${obj[key]}.`);\r\n};\r\n", "export const numberSelector = (obj, key, type) => {\r\n    if (!(key in obj))\r\n        return undefined;\r\n    const numberValue = parseInt(obj[key], 10);\r\n    if (Number.isNaN(numberValue)) {\r\n        throw new TypeError(`Cannot load ${type} '${key}'. Expected number, got '${obj[key]}'.`);\r\n    }\r\n    return numberValue;\r\n};\r\n", "export var SelectorType;\r\n(function (SelectorType) {\r\n    SelectorType[\"ENV\"] = \"env\";\r\n    SelectorType[\"CONFIG\"] = \"shared config entry\";\r\n})(SelectorType || (SelectorType = {}));\r\n", "export * from \"./booleanSelector\";\r\nexport * from \"./numberSelector\";\r\nexport * from \"./types\";\r\n", "import { booleanSelector, SelectorType } from \"@smithy/util-config-provider\";\r\nexport const ENV_USE_DUALSTACK_ENDPOINT = \"AWS_USE_DUALSTACK_ENDPOINT\";\r\nexport const CONFIG_USE_DUALSTACK_ENDPOINT = \"use_dualstack_endpoint\";\r\nexport const DEFAULT_USE_DUALSTACK_ENDPOINT = false;\r\nexport const NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS = {\r\n    environmentVariableSelector: (env) => booleanSelector(env, ENV_USE_DUALSTACK_ENDPOINT, SelectorType.ENV),\r\n    configFileSelector: (profile) => booleanSelector(profile, CONFIG_USE_DUALSTACK_ENDPOINT, SelectorType.CONFIG),\r\n    default: false,\r\n};\r\n", "import { booleanSelector, SelectorType } from \"@smithy/util-config-provider\";\r\nexport const ENV_USE_FIPS_ENDPOINT = \"AWS_USE_FIPS_ENDPOINT\";\r\nexport const CONFIG_USE_FIPS_ENDPOINT = \"use_fips_endpoint\";\r\nexport const DEFAULT_USE_FIPS_ENDPOINT = false;\r\nexport const NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS = {\r\n    environmentVariableSelector: (env) => booleanSelector(env, ENV_USE_FIPS_ENDPOINT, SelectorType.ENV),\r\n    configFileSelector: (profile) => booleanSelector(profile, CONFIG_USE_FIPS_ENDPOINT, SelectorType.CONFIG),\r\n    default: false,\r\n};\r\n", "import { normalizeProvider } from \"@smithy/util-middleware\";\r\nexport const resolveCustomEndpointsConfig = (input) => {\r\n    const { tls, endpoint, urlParser, useDualstackEndpoint } = input;\r\n    return Object.assign(input, {\r\n        tls: tls ?? true,\r\n        endpoint: normalizeProvider(typeof endpoint === \"string\" ? urlParser(endpoint) : endpoint),\r\n        isCustomEndpoint: true,\r\n        useDualstackEndpoint: normalizeProvider(useDualstackEndpoint ?? false),\r\n    });\r\n};\r\n", "export const getEndpointFromRegion = async (input) => {\r\n    const { tls = true } = input;\r\n    const region = await input.region();\r\n    const dnsHostRegex = new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/);\r\n    if (!dnsHostRegex.test(region)) {\r\n        throw new Error(\"Invalid region in client config\");\r\n    }\r\n    const useDualstackEndpoint = await input.useDualstackEndpoint();\r\n    const useFipsEndpoint = await input.useFipsEndpoint();\r\n    const { hostname } = (await input.regionInfoProvider(region, { useDualstackEndpoint, useFipsEndpoint })) ?? {};\r\n    if (!hostname) {\r\n        throw new Error(\"Cannot resolve hostname from client config\");\r\n    }\r\n    return input.urlParser(`${tls ? \"https:\" : \"http:\"}//${hostname}`);\r\n};\r\n", "import { normalizeProvider } from \"@smithy/util-middleware\";\r\nimport { getEndpointFromRegion } from \"./utils/getEndpointFromRegion\";\r\nexport const resolveEndpointsConfig = (input) => {\r\n    const useDualstackEndpoint = normalizeProvider(input.useDualstackEndpoint ?? false);\r\n    const { endpoint, useFipsEndpoint, urlParser, tls } = input;\r\n    return Object.assign(input, {\r\n        tls: tls ?? true,\r\n        endpoint: endpoint\r\n            ? normalizeProvider(typeof endpoint === \"string\" ? urlParser(endpoint) : endpoint)\r\n            : () => getEndpointFromRegion({ ...input, useDualstackEndpoint, useFipsEndpoint }),\r\n        isCustomEndpoint: !!endpoint,\r\n        useDualstackEndpoint,\r\n    });\r\n};\r\n", "export * from \"./NodeUseDualstackEndpointConfigOptions\";\r\nexport * from \"./NodeUseFipsEndpointConfigOptions\";\r\nexport * from \"./resolveCustomEndpointsConfig\";\r\nexport * from \"./resolveEndpointsConfig\";\r\n", "export const REGION_ENV_NAME = \"AWS_REGION\";\r\nexport const REGION_INI_NAME = \"region\";\r\nexport const NODE_REGION_CONFIG_OPTIONS = {\r\n    environmentVariableSelector: (env) => env[REGION_ENV_NAME],\r\n    configFileSelector: (profile) => profile[REGION_INI_NAME],\r\n    default: () => {\r\n        throw new Error(\"Region is missing\");\r\n    },\r\n};\r\nexport const NODE_REGION_CONFIG_FILE_OPTIONS = {\r\n    preferredFile: \"credentials\",\r\n};\r\n", "export * from \"./config\";\r\nexport * from \"./resolveRegionConfig\";\r\n", "export {};\r\n", "export {};\r\n", "export const getHostnameFromVariants = (variants = [], { useFipsEndpoint, useDualstackEndpoint }) => variants.find(({ tags }) => useFipsEndpoint === tags.includes(\"fips\") && useDualstackEndpoint === tags.includes(\"dualstack\"))?.hostname;\r\n", "export const getResolvedHostname = (resolvedRegion, { regionHostname, partitionHostname }) => regionHostname\r\n    ? regionHostname\r\n    : partitionHostname\r\n        ? partitionHostname.replace(\"{region}\", resolvedRegion)\r\n        : undefined;\r\n", "export const getResolvedPartition = (region, { partitionHash }) => Object.keys(partitionHash || {}).find((key) => partitionHash[key].regions.includes(region)) ?? \"aws\";\r\n", "export const getResolvedSigningRegion = (hostname, { signingRegion, regionRegex, useFipsEndpoint }) => {\r\n    if (signingRegion) {\r\n        return signingRegion;\r\n    }\r\n    else if (useFipsEndpoint) {\r\n        const regionRegexJs = regionRegex.replace(\"\\\\\\\\\", \"\\\\\").replace(/^\\^/g, \"\\\\.\").replace(/\\$$/g, \"\\\\.\");\r\n        const regionRegexmatchArray = hostname.match(regionRegexJs);\r\n        if (regionRegexmatchArray) {\r\n            return regionRegexmatchArray[0].slice(1, -1);\r\n        }\r\n    }\r\n};\r\n", "import { getHostnameFromVariants } from \"./getHostnameFromVariants\";\r\nimport { getResolvedHostname } from \"./getResolvedHostname\";\r\nimport { getResolvedPartition } from \"./getResolvedPartition\";\r\nimport { getResolvedSigningRegion } from \"./getResolvedSigningRegion\";\r\nexport const getRegionInfo = (region, { useFipsEndpoint = false, useDualstackEndpoint = false, signingService, regionHash, partitionHash, }) => {\r\n    const partition = getResolvedPartition(region, { partitionHash });\r\n    const resolvedRegion = region in regionHash ? region : partitionHash[partition]?.endpoint ?? region;\r\n    const hostnameOptions = { useFipsEndpoint, useDualstackEndpoint };\r\n    const regionHostname = getHostnameFromVariants(regionHash[resolvedRegion]?.variants, hostnameOptions);\r\n    const partitionHostname = getHostnameFromVariants(partitionHash[partition]?.variants, hostnameOptions);\r\n    const hostname = getResolvedHostname(resolvedRegion, { regionHostname, partitionHostname });\r\n    if (hostname === undefined) {\r\n        throw new Error(`Endpoint resolution failed for: ${{ resolvedRegion, useFipsEndpoint, useDualstackEndpoint }}`);\r\n    }\r\n    const signingRegion = getResolvedSigningRegion(hostname, {\r\n        signingRegion: regionHash[resolvedRegion]?.signingRegion,\r\n        regionRegex: partitionHash[partition].regionRegex,\r\n        useFipsEndpoint,\r\n    });\r\n    return {\r\n        partition,\r\n        signingService,\r\n        hostname,\r\n        ...(signingRegion && { signingRegion }),\r\n        ...(regionHash[resolvedRegion]?.signingService && {\r\n            signingService: regionHash[resolvedRegion].signingService,\r\n        }),\r\n    };\r\n};\r\n", "export * from \"./PartitionHash\";\r\nexport * from \"./RegionHash\";\r\nexport * from \"./getRegionInfo\";\r\n", "export * from \"./endpointsConfig\";\r\nexport * from \"./regionConfig\";\r\nexport * from \"./regionInfo\";\r\n", "import { HttpRequest } from \"@smithy/protocol-http\";\r\nconst CONTENT_LENGTH_HEADER = \"content-length\";\r\nexport function contentLengthMiddleware(bodyLengthChecker) {\r\n    return (next) => async (args) => {\r\n        const request = args.request;\r\n        if (HttpRequest.isInstance(request)) {\r\n            const { body, headers } = request;\r\n            if (body &&\r\n                Object.keys(headers)\r\n                    .map((str) => str.toLowerCase())\r\n                    .indexOf(CONTENT_LENGTH_HEADER) === -1) {\r\n                try {\r\n                    const length = bodyLengthChecker(body);\r\n                    request.headers = {\r\n                        ...request.headers,\r\n                        [CONTENT_LENGTH_HEADER]: String(length),\r\n                    };\r\n                }\r\n                catch (error) {\r\n                }\r\n            }\r\n        }\r\n        return next({\r\n            ...args,\r\n            request,\r\n        });\r\n    };\r\n}\r\nexport const contentLengthMiddlewareOptions = {\r\n    step: \"build\",\r\n    tags: [\"SET_CONTENT_LENGTH\", \"CONTENT_LENGTH\"],\r\n    name: \"contentLengthMiddleware\",\r\n    override: true,\r\n};\r\nexport const getContentLengthPlugin = (options) => ({\r\n    applyToStack: (clientStack) => {\r\n        clientStack.add(contentLengthMiddleware(options.bodyLengthChecker), contentLengthMiddlewareOptions);\r\n    },\r\n});\r\n", "export const resolveParamsForS3 = async (endpointParams) => {\r\n    const bucket = endpointParams?.Bucket || \"\";\r\n    if (typeof endpointParams.Bucket === \"string\") {\r\n        endpointParams.Bucket = bucket.replace(/#/g, encodeURIComponent(\"#\")).replace(/\\?/g, encodeURIComponent(\"?\"));\r\n    }\r\n    if (isArnBucketName(bucket)) {\r\n        if (endpointParams.ForcePathStyle === true) {\r\n            throw new Error(\"Path-style addressing cannot be used with ARN buckets\");\r\n        }\r\n    }\r\n    else if (!isDnsCompatibleBucketName(bucket) ||\r\n        (bucket.indexOf(\".\") !== -1 && !String(endpointParams.Endpoint).startsWith(\"http:\")) ||\r\n        bucket.toLowerCase() !== bucket ||\r\n        bucket.length < 3) {\r\n        endpointParams.ForcePathStyle = true;\r\n    }\r\n    if (endpointParams.DisableMultiRegionAccessPoints) {\r\n        endpointParams.disableMultiRegionAccessPoints = true;\r\n        endpointParams.DisableMRAP = true;\r\n    }\r\n    return endpointParams;\r\n};\r\nconst DOMAIN_PATTERN = /^[a-z0-9][a-z0-9\\.\\-]{1,61}[a-z0-9]$/;\r\nconst IP_ADDRESS_PATTERN = /(\\d+\\.){3}\\d+/;\r\nconst DOTS_PATTERN = /\\.\\./;\r\nexport const DOT_PATTERN = /\\./;\r\nexport const S3_HOSTNAME_PATTERN = /^(.+\\.)?s3(-fips)?(\\.dualstack)?[.-]([a-z0-9-]+)\\./;\r\nexport const isDnsCompatibleBucketName = (bucketName) => DOMAIN_PATTERN.test(bucketName) && !IP_ADDRESS_PATTERN.test(bucketName) && !DOTS_PATTERN.test(bucketName);\r\nexport const isArnBucketName = (bucketName) => {\r\n    const [arn, partition, service, , , bucket] = bucketName.split(\":\");\r\n    const isArn = arn === \"arn\" && bucketName.split(\":\").length >= 6;\r\n    const isValidArn = Boolean(isArn && partition && service && bucket);\r\n    if (isArn && !isValidArn) {\r\n        throw new Error(`Invalid ARN: ${bucketName} was an invalid ARN.`);\r\n    }\r\n    return isValidArn;\r\n};\r\n", "export * from \"./s3\";\r\n", "export const createConfigValueProvider = (configKey, canonicalEndpointParamKey, config, isClientContextParam = false) => {\r\n    const configProvider = async () => {\r\n        let configValue;\r\n        if (isClientContextParam) {\r\n            const clientContextParams = config.clientContextParams;\r\n            const nestedValue = clientContextParams?.[configKey];\r\n            configValue = nestedValue ?? config[configKey] ?? config[canonicalEndpointParamKey];\r\n        }\r\n        else {\r\n            configValue = config[configKey] ?? config[canonicalEndpointParamKey];\r\n        }\r\n        if (typeof configValue === \"function\") {\r\n            return configValue();\r\n        }\r\n        return configValue;\r\n    };\r\n    if (configKey === \"credentialScope\" || canonicalEndpointParamKey === \"CredentialScope\") {\r\n        return async () => {\r\n            const credentials = typeof config.credentials === \"function\" ? await config.credentials() : config.credentials;\r\n            const configValue = credentials?.credentialScope ?? credentials?.CredentialScope;\r\n            return configValue;\r\n        };\r\n    }\r\n    if (configKey === \"accountId\" || canonicalEndpointParamKey === \"AccountId\") {\r\n        return async () => {\r\n            const credentials = typeof config.credentials === \"function\" ? await config.credentials() : config.credentials;\r\n            const configValue = credentials?.accountId ?? credentials?.AccountId;\r\n            return configValue;\r\n        };\r\n    }\r\n    if (configKey === \"endpoint\" || canonicalEndpointParamKey === \"endpoint\") {\r\n        return async () => {\r\n            if (config.isCustomEndpoint === false) {\r\n                return undefined;\r\n            }\r\n            const endpoint = await configProvider();\r\n            if (endpoint && typeof endpoint === \"object\") {\r\n                if (\"url\" in endpoint) {\r\n                    return endpoint.url.href;\r\n                }\r\n                if (\"hostname\" in endpoint) {\r\n                    const { protocol, hostname, port, path } = endpoint;\r\n                    return `${protocol}//${hostname}${port ? \":\" + port : \"\"}${path}`;\r\n                }\r\n            }\r\n            return endpoint;\r\n        };\r\n    }\r\n    return configProvider;\r\n};\r\n", "export const getEndpointFromConfig = async (serviceId) => undefined;\r\n", "import { parseUrl } from \"@smithy/url-parser\";\r\nexport const toEndpointV1 = (endpoint) => {\r\n    if (typeof endpoint === \"object\") {\r\n        if (\"url\" in endpoint) {\r\n            return parseUrl(endpoint.url);\r\n        }\r\n        return endpoint;\r\n    }\r\n    return parseUrl(endpoint);\r\n};\r\n", "import { resolveParamsForS3 } from \"../service-customizations\";\r\nimport { createConfigValueProvider } from \"./createConfigValueProvider\";\r\nimport { getEndpointFromConfig } from \"./getEndpointFromConfig\";\r\nimport { toEndpointV1 } from \"./toEndpointV1\";\r\nexport const getEndpointFromInstructions = async (commandInput, instructionsSupplier, clientConfig, context) => {\r\n    if (!clientConfig.isCustomEndpoint) {\r\n        let endpointFromConfig;\r\n        if (clientConfig.serviceConfiguredEndpoint) {\r\n            endpointFromConfig = await clientConfig.serviceConfiguredEndpoint();\r\n        }\r\n        else {\r\n            endpointFromConfig = await getEndpointFromConfig(clientConfig.serviceId);\r\n        }\r\n        if (endpointFromConfig) {\r\n            clientConfig.endpoint = () => Promise.resolve(toEndpointV1(endpointFromConfig));\r\n            clientConfig.isCustomEndpoint = true;\r\n        }\r\n    }\r\n    const endpointParams = await resolveParams(commandInput, instructionsSupplier, clientConfig);\r\n    if (typeof clientConfig.endpointProvider !== \"function\") {\r\n        throw new Error(\"config.endpointProvider is not set.\");\r\n    }\r\n    const endpoint = clientConfig.endpointProvider(endpointParams, context);\r\n    return endpoint;\r\n};\r\nexport const resolveParams = async (commandInput, instructionsSupplier, clientConfig) => {\r\n    const endpointParams = {};\r\n    const instructions = instructionsSupplier?.getEndpointParameterInstructions?.() || {};\r\n    for (const [name, instruction] of Object.entries(instructions)) {\r\n        switch (instruction.type) {\r\n            case \"staticContextParams\":\r\n                endpointParams[name] = instruction.value;\r\n                break;\r\n            case \"contextParams\":\r\n                endpointParams[name] = commandInput[instruction.name];\r\n                break;\r\n            case \"clientContextParams\":\r\n            case \"builtInParams\":\r\n                endpointParams[name] = await createConfigValueProvider(instruction.name, name, clientConfig, instruction.type !== \"builtInParams\")();\r\n                break;\r\n            case \"operationContextParams\":\r\n                endpointParams[name] = instruction.get(commandInput);\r\n                break;\r\n            default:\r\n                throw new Error(\"Unrecognized endpoint parameter instruction: \" + JSON.stringify(instruction));\r\n        }\r\n    }\r\n    if (Object.keys(instructions).length === 0) {\r\n        Object.assign(endpointParams, clientConfig);\r\n    }\r\n    if (String(clientConfig.serviceId).toLowerCase() === \"s3\") {\r\n        await resolveParamsForS3(endpointParams);\r\n    }\r\n    return endpointParams;\r\n};\r\n", "import { setFeature } from \"@smithy/core\";\r\nimport { getSmithyContext } from \"@smithy/util-middleware\";\r\nimport { getEndpointFromInstructions } from \"./adaptors/getEndpointFromInstructions\";\r\nexport const endpointMiddleware = ({ config, instructions, }) => {\r\n    return (next, context) => async (args) => {\r\n        if (config.isCustomEndpoint) {\r\n            setFeature(context, \"ENDPOINT_OVERRIDE\", \"N\");\r\n        }\r\n        const endpoint = await getEndpointFromInstructions(args.input, {\r\n            getEndpointParameterInstructions() {\r\n                return instructions;\r\n            },\r\n        }, { ...config }, context);\r\n        context.endpointV2 = endpoint;\r\n        context.authSchemes = endpoint.properties?.authSchemes;\r\n        const authScheme = context.authSchemes?.[0];\r\n        if (authScheme) {\r\n            context[\"signing_region\"] = authScheme.signingRegion;\r\n            context[\"signing_service\"] = authScheme.signingName;\r\n            const smithyContext = getSmithyContext(context);\r\n            const httpAuthOption = smithyContext?.selectedHttpAuthScheme?.httpAuthOption;\r\n            if (httpAuthOption) {\r\n                httpAuthOption.signingProperties = Object.assign(httpAuthOption.signingProperties || {}, {\r\n                    signing_region: authScheme.signingRegion,\r\n                    signingRegion: authScheme.signingRegion,\r\n                    signing_service: authScheme.signingName,\r\n                    signingName: authScheme.signingName,\r\n                    signingRegionSet: authScheme.signingRegionSet,\r\n                }, authScheme.properties);\r\n            }\r\n        }\r\n        return next({\r\n            ...args,\r\n        });\r\n    };\r\n};\r\n", "import { serializerMiddlewareOption } from \"@smithy/middleware-serde\";\r\nimport { endpointMiddleware } from \"./endpointMiddleware\";\r\nexport const endpointMiddlewareOptions = {\r\n    step: \"serialize\",\r\n    tags: [\"ENDPOINT_PARAMETERS\", \"ENDPOINT_V2\", \"ENDPOINT\"],\r\n    name: \"endpointV2Middleware\",\r\n    override: true,\r\n    relation: \"before\",\r\n    toMiddleware: serializerMiddlewareOption.name,\r\n};\r\nexport const getEndpointPlugin = (config, instructions) => ({\r\n    applyToStack: (clientStack) => {\r\n        clientStack.addRelativeTo(endpointMiddleware({\r\n            config,\r\n            instructions,\r\n        }), endpointMiddlewareOptions);\r\n    },\r\n});\r\n", "import { normalizeProvider } from \"@smithy/util-middleware\";\r\nimport { getEndpointFromConfig } from \"./adaptors/getEndpointFromConfig\";\r\nimport { toEndpointV1 } from \"./adaptors/toEndpointV1\";\r\nexport const resolveEndpointConfig = (input) => {\r\n    const tls = input.tls ?? true;\r\n    const { endpoint, useDualstackEndpoint, useFipsEndpoint } = input;\r\n    const customEndpointProvider = endpoint != null ? async () => toEndpointV1(await normalizeProvider(endpoint)()) : undefined;\r\n    const isCustomEndpoint = !!endpoint;\r\n    const resolvedConfig = Object.assign(input, {\r\n        endpoint: customEndpointProvider,\r\n        tls,\r\n        isCustomEndpoint,\r\n        useDualstackEndpoint: normalizeProvider(useDualstackEndpoint ?? false),\r\n        useFipsEndpoint: normalizeProvider(useFipsEndpoint ?? false),\r\n    });\r\n    let configuredEndpointPromise = undefined;\r\n    resolvedConfig.serviceConfiguredEndpoint = async () => {\r\n        if (input.serviceId && !configuredEndpointPromise) {\r\n            configuredEndpointPromise = getEndpointFromConfig(input.serviceId);\r\n        }\r\n        return configuredEndpointPromise;\r\n    };\r\n    return resolvedConfig;\r\n};\r\n", "export * from \"./getEndpointFromInstructions\";\r\nexport * from \"./toEndpointV1\";\r\n", "export const resolveEndpointRequiredConfig = (input) => {\r\n    const { endpoint } = input;\r\n    if (endpoint === undefined) {\r\n        input.endpoint = async () => {\r\n            throw new Error(\"@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.\");\r\n        };\r\n    }\r\n    return input;\r\n};\r\n", "export {};\r\n", "export * from \"./adaptors\";\r\nexport * from \"./endpointMiddleware\";\r\nexport * from \"./getEndpointPlugin\";\r\nexport * from \"./resolveEndpointConfig\";\r\nexport * from \"./resolveEndpointRequiredConfig\";\r\nexport * from \"./types\";\r\n", "export var RETRY_MODES;\r\n(function (RETRY_MODES) {\r\n    RETRY_MODES[\"STANDARD\"] = \"standard\";\r\n    RETRY_MODES[\"ADAPTIVE\"] = \"adaptive\";\r\n})(RETRY_MODES || (RETRY_MODES = {}));\r\nexport const DEFAULT_MAX_ATTEMPTS = 3;\r\nexport const DEFAULT_RETRY_MODE = RETRY_MODES.STANDARD;\r\n", "export const CLOCK_SKEW_ERROR_CODES = [\r\n    \"AuthFailure\",\r\n    \"InvalidSignatureException\",\r\n    \"RequestExpired\",\r\n    \"RequestInTheFuture\",\r\n    \"RequestTimeTooSkewed\",\r\n    \"SignatureDoesNotMatch\",\r\n];\r\nexport const THROTTLING_ERROR_CODES = [\r\n    \"BandwidthLimitExceeded\",\r\n    \"EC2ThrottledException\",\r\n    \"LimitExceededException\",\r\n    \"PriorRequestNotComplete\",\r\n    \"ProvisionedThroughputExceededException\",\r\n    \"RequestLimitExceeded\",\r\n    \"RequestThrottled\",\r\n    \"RequestThrottledException\",\r\n    \"SlowDown\",\r\n    \"ThrottledException\",\r\n    \"Throttling\",\r\n    \"ThrottlingException\",\r\n    \"TooManyRequestsException\",\r\n    \"TransactionInProgressException\",\r\n];\r\nexport const TRANSIENT_ERROR_CODES = [\"TimeoutError\", \"RequestTimeout\", \"RequestTimeoutException\"];\r\nexport const TRANSIENT_ERROR_STATUS_CODES = [500, 502, 503, 504];\r\nexport const NODEJS_TIMEOUT_ERROR_CODES = [\"ECONNRESET\", \"ECONNREFUSED\", \"EPIPE\", \"ETIMEDOUT\"];\r\nexport const NODEJS_NETWORK_ERROR_CODES = [\"EHOSTUNREACH\", \"ENETUNREACH\", \"ENOTFOUND\"];\r\n", "import { CLOCK_SKEW_ERROR_CODES, NODEJS_NETWORK_ERROR_CODES, NODEJS_TIMEOUT_ERROR_CODES, THROTTLING_ERROR_CODES, TRANSIENT_ERROR_CODES, TRANSIENT_ERROR_STATUS_CODES, } from \"./constants\";\r\nexport const isRetryableByTrait = (error) => error?.$retryable !== undefined;\r\nexport const isClockSkewError = (error) => CLOCK_SKEW_ERROR_CODES.includes(error.name);\r\nexport const isClockSkewCorrectedError = (error) => error.$metadata?.clockSkewCorrected;\r\nexport const isBrowserNetworkError = (error) => {\r\n    const errorMessages = new Set([\r\n        \"Failed to fetch\",\r\n        \"NetworkError when attempting to fetch resource\",\r\n        \"The Internet connection appears to be offline\",\r\n        \"Load failed\",\r\n        \"Network request failed\",\r\n    ]);\r\n    const isValid = error && error instanceof TypeError;\r\n    if (!isValid) {\r\n        return false;\r\n    }\r\n    return errorMessages.has(error.message);\r\n};\r\nexport const isThrottlingError = (error) => error.$metadata?.httpStatusCode === 429 ||\r\n    THROTTLING_ERROR_CODES.includes(error.name) ||\r\n    error.$retryable?.throttling == true;\r\nexport const isTransientError = (error, depth = 0) => isRetryableByTrait(error) ||\r\n    isClockSkewCorrectedError(error) ||\r\n    TRANSIENT_ERROR_CODES.includes(error.name) ||\r\n    NODEJS_TIMEOUT_ERROR_CODES.includes(error?.code || \"\") ||\r\n    NODEJS_NETWORK_ERROR_CODES.includes(error?.code || \"\") ||\r\n    TRANSIENT_ERROR_STATUS_CODES.includes(error.$metadata?.httpStatusCode || 0) ||\r\n    isBrowserNetworkError(error) ||\r\n    (error.cause !== undefined && depth <= 10 && isTransientError(error.cause, depth + 1));\r\nexport const isServerError = (error) => {\r\n    if (error.$metadata?.httpStatusCode !== undefined) {\r\n        const statusCode = error.$metadata.httpStatusCode;\r\n        if (500 <= statusCode && statusCode <= 599 && !isTransientError(error)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    return false;\r\n};\r\n", "import { isThrottlingError } from \"@smithy/service-error-classification\";\r\nexport class DefaultRateLimiter {\r\n    static setTimeoutFn = setTimeout;\r\n    beta;\r\n    minCapacity;\r\n    minFillRate;\r\n    scaleConstant;\r\n    smooth;\r\n    currentCapacity = 0;\r\n    enabled = false;\r\n    lastMaxRate = 0;\r\n    measuredTxRate = 0;\r\n    requestCount = 0;\r\n    fillRate;\r\n    lastThrottleTime;\r\n    lastTimestamp = 0;\r\n    lastTxRateBucket;\r\n    maxCapacity;\r\n    timeWindow = 0;\r\n    constructor(options) {\r\n        this.beta = options?.beta ?? 0.7;\r\n        this.minCapacity = options?.minCapacity ?? 1;\r\n        this.minFillRate = options?.minFillRate ?? 0.5;\r\n        this.scaleConstant = options?.scaleConstant ?? 0.4;\r\n        this.smooth = options?.smooth ?? 0.8;\r\n        const currentTimeInSeconds = this.getCurrentTimeInSeconds();\r\n        this.lastThrottleTime = currentTimeInSeconds;\r\n        this.lastTxRateBucket = Math.floor(this.getCurrentTimeInSeconds());\r\n        this.fillRate = this.minFillRate;\r\n        this.maxCapacity = this.minCapacity;\r\n    }\r\n    getCurrentTimeInSeconds() {\r\n        return Date.now() / 1000;\r\n    }\r\n    async getSendToken() {\r\n        return this.acquireTokenBucket(1);\r\n    }\r\n    async acquireTokenBucket(amount) {\r\n        if (!this.enabled) {\r\n            return;\r\n        }\r\n        this.refillTokenBucket();\r\n        if (amount > this.currentCapacity) {\r\n            const delay = ((amount - this.currentCapacity) / this.fillRate) * 1000;\r\n            await new Promise((resolve) => DefaultRateLimiter.setTimeoutFn(resolve, delay));\r\n        }\r\n        this.currentCapacity = this.currentCapacity - amount;\r\n    }\r\n    refillTokenBucket() {\r\n        const timestamp = this.getCurrentTimeInSeconds();\r\n        if (!this.lastTimestamp) {\r\n            this.lastTimestamp = timestamp;\r\n            return;\r\n        }\r\n        const fillAmount = (timestamp - this.lastTimestamp) * this.fillRate;\r\n        this.currentCapacity = Math.min(this.maxCapacity, this.currentCapacity + fillAmount);\r\n        this.lastTimestamp = timestamp;\r\n    }\r\n    updateClientSendingRate(response) {\r\n        let calculatedRate;\r\n        this.updateMeasuredRate();\r\n        if (isThrottlingError(response)) {\r\n            const rateToUse = !this.enabled ? this.measuredTxRate : Math.min(this.measuredTxRate, this.fillRate);\r\n            this.lastMaxRate = rateToUse;\r\n            this.calculateTimeWindow();\r\n            this.lastThrottleTime = this.getCurrentTimeInSeconds();\r\n            calculatedRate = this.cubicThrottle(rateToUse);\r\n            this.enableTokenBucket();\r\n        }\r\n        else {\r\n            this.calculateTimeWindow();\r\n            calculatedRate = this.cubicSuccess(this.getCurrentTimeInSeconds());\r\n        }\r\n        const newRate = Math.min(calculatedRate, 2 * this.measuredTxRate);\r\n        this.updateTokenBucketRate(newRate);\r\n    }\r\n    calculateTimeWindow() {\r\n        this.timeWindow = this.getPrecise(Math.pow((this.lastMaxRate * (1 - this.beta)) / this.scaleConstant, 1 / 3));\r\n    }\r\n    cubicThrottle(rateToUse) {\r\n        return this.getPrecise(rateToUse * this.beta);\r\n    }\r\n    cubicSuccess(timestamp) {\r\n        return this.getPrecise(this.scaleConstant * Math.pow(timestamp - this.lastThrottleTime - this.timeWindow, 3) + this.lastMaxRate);\r\n    }\r\n    enableTokenBucket() {\r\n        this.enabled = true;\r\n    }\r\n    updateTokenBucketRate(newRate) {\r\n        this.refillTokenBucket();\r\n        this.fillRate = Math.max(newRate, this.minFillRate);\r\n        this.maxCapacity = Math.max(newRate, this.minCapacity);\r\n        this.currentCapacity = Math.min(this.currentCapacity, this.maxCapacity);\r\n    }\r\n    updateMeasuredRate() {\r\n        const t = this.getCurrentTimeInSeconds();\r\n        const timeBucket = Math.floor(t * 2) / 2;\r\n        this.requestCount++;\r\n        if (timeBucket > this.lastTxRateBucket) {\r\n            const currentRate = this.requestCount / (timeBucket - this.lastTxRateBucket);\r\n            this.measuredTxRate = this.getPrecise(currentRate * this.smooth + this.measuredTxRate * (1 - this.smooth));\r\n            this.requestCount = 0;\r\n            this.lastTxRateBucket = timeBucket;\r\n        }\r\n    }\r\n    getPrecise(num) {\r\n        return parseFloat(num.toFixed(8));\r\n    }\r\n}\r\n", "export const DEFAULT_RETRY_DELAY_BASE = 100;\r\nexport const MAXIMUM_RETRY_DELAY = 20 * 1000;\r\nexport const THROTTLING_RETRY_DELAY_BASE = 500;\r\nexport const INITIAL_RETRY_TOKENS = 500;\r\nexport const RETRY_COST = 5;\r\nexport const TIMEOUT_RETRY_COST = 10;\r\nexport const NO_RETRY_INCREMENT = 1;\r\nexport const INVOCATION_ID_HEADER = \"amz-sdk-invocation-id\";\r\nexport const REQUEST_HEADER = \"amz-sdk-request\";\r\n", "import { DEFAULT_RETRY_DELAY_BASE, MAXIMUM_RETRY_DELAY } from \"./constants\";\r\nexport const getDefaultRetryBackoffStrategy = () => {\r\n    let delayBase = DEFAULT_RETRY_DELAY_BASE;\r\n    const computeNextBackoffDelay = (attempts) => {\r\n        return Math.floor(Math.min(MAXIMUM_RETRY_DELAY, Math.random() * 2 ** attempts * delayBase));\r\n    };\r\n    const setDelayBase = (delay) => {\r\n        delayBase = delay;\r\n    };\r\n    return {\r\n        computeNextBackoffDelay,\r\n        setDelayBase,\r\n    };\r\n};\r\n", "import { MAXIMUM_RETRY_DELAY } from \"./constants\";\r\nexport const createDefaultRetryToken = ({ retryDelay, retryCount, retryCost, }) => {\r\n    const getRetryCount = () => retryCount;\r\n    const getRetryDelay = () => Math.min(MAXIMUM_RETRY_DELAY, retryDelay);\r\n    const getRetryCost = () => retryCost;\r\n    return {\r\n        getRetryCount,\r\n        getRetryDelay,\r\n        getRetryCost,\r\n    };\r\n};\r\n", "import { DEFAULT_MAX_ATTEMPTS, RETRY_MODES } from \"./config\";\r\nimport { DEFAULT_RETRY_DELAY_BASE, INITIAL_RETRY_TOKENS, NO_RETRY_INCREMENT, RETRY_COST, THROTTLING_RETRY_DELAY_BASE, TIMEOUT_RETRY_COST, } from \"./constants\";\r\nimport { getDefaultRetryBackoffStrategy } from \"./defaultRetryBackoffStrategy\";\r\nimport { createDefaultRetryToken } from \"./defaultRetryToken\";\r\nexport class StandardRetryStrategy {\r\n    maxAttempts;\r\n    mode = RETRY_MODES.STANDARD;\r\n    capacity = INITIAL_RETRY_TOKENS;\r\n    retryBackoffStrategy = getDefaultRetryBackoffStrategy();\r\n    maxAttemptsProvider;\r\n    constructor(maxAttempts) {\r\n        this.maxAttempts = maxAttempts;\r\n        this.maxAttemptsProvider = typeof maxAttempts === \"function\" ? maxAttempts : async () => maxAttempts;\r\n    }\r\n    async acquireInitialRetryToken(retryTokenScope) {\r\n        return createDefaultRetryToken({\r\n            retryDelay: DEFAULT_RETRY_DELAY_BASE,\r\n            retryCount: 0,\r\n        });\r\n    }\r\n    async refreshRetryTokenForRetry(token, errorInfo) {\r\n        const maxAttempts = await this.getMaxAttempts();\r\n        if (this.shouldRetry(token, errorInfo, maxAttempts)) {\r\n            const errorType = errorInfo.errorType;\r\n            this.retryBackoffStrategy.setDelayBase(errorType === \"THROTTLING\" ? THROTTLING_RETRY_DELAY_BASE : DEFAULT_RETRY_DELAY_BASE);\r\n            const delayFromErrorType = this.retryBackoffStrategy.computeNextBackoffDelay(token.getRetryCount());\r\n            const retryDelay = errorInfo.retryAfterHint\r\n                ? Math.max(errorInfo.retryAfterHint.getTime() - Date.now() || 0, delayFromErrorType)\r\n                : delayFromErrorType;\r\n            const capacityCost = this.getCapacityCost(errorType);\r\n            this.capacity -= capacityCost;\r\n            return createDefaultRetryToken({\r\n                retryDelay,\r\n                retryCount: token.getRetryCount() + 1,\r\n                retryCost: capacityCost,\r\n            });\r\n        }\r\n        throw new Error(\"No retry token available\");\r\n    }\r\n    recordSuccess(token) {\r\n        this.capacity = Math.max(INITIAL_RETRY_TOKENS, this.capacity + (token.getRetryCost() ?? NO_RETRY_INCREMENT));\r\n    }\r\n    getCapacity() {\r\n        return this.capacity;\r\n    }\r\n    async getMaxAttempts() {\r\n        try {\r\n            return await this.maxAttemptsProvider();\r\n        }\r\n        catch (error) {\r\n            console.warn(`Max attempts provider could not resolve. Using default of ${DEFAULT_MAX_ATTEMPTS}`);\r\n            return DEFAULT_MAX_ATTEMPTS;\r\n        }\r\n    }\r\n    shouldRetry(tokenToRenew, errorInfo, maxAttempts) {\r\n        const attempts = tokenToRenew.getRetryCount() + 1;\r\n        return (attempts < maxAttempts &&\r\n            this.capacity >= this.getCapacityCost(errorInfo.errorType) &&\r\n            this.isRetryableError(errorInfo.errorType));\r\n    }\r\n    getCapacityCost(errorType) {\r\n        return errorType === \"TRANSIENT\" ? TIMEOUT_RETRY_COST : RETRY_COST;\r\n    }\r\n    isRetryableError(errorType) {\r\n        return errorType === \"THROTTLING\" || errorType === \"TRANSIENT\";\r\n    }\r\n}\r\n", "import { RETRY_MODES } from \"./config\";\r\nimport { DefaultRateLimiter } from \"./DefaultRateLimiter\";\r\nimport { StandardRetryStrategy } from \"./StandardRetryStrategy\";\r\nexport class AdaptiveRetryStrategy {\r\n    maxAttemptsProvider;\r\n    rateLimiter;\r\n    standardRetryStrategy;\r\n    mode = RETRY_MODES.ADAPTIVE;\r\n    constructor(maxAttemptsProvider, options) {\r\n        this.maxAttemptsProvider = maxAttemptsProvider;\r\n        const { rateLimiter } = options ?? {};\r\n        this.rateLimiter = rateLimiter ?? new DefaultRateLimiter();\r\n        this.standardRetryStrategy = new StandardRetryStrategy(maxAttemptsProvider);\r\n    }\r\n    async acquireInitialRetryToken(retryTokenScope) {\r\n        await this.rateLimiter.getSendToken();\r\n        return this.standardRetryStrategy.acquireInitialRetryToken(retryTokenScope);\r\n    }\r\n    async refreshRetryTokenForRetry(tokenToRenew, errorInfo) {\r\n        this.rateLimiter.updateClientSendingRate(errorInfo);\r\n        return this.standardRetryStrategy.refreshRetryTokenForRetry(tokenToRenew, errorInfo);\r\n    }\r\n    recordSuccess(token) {\r\n        this.rateLimiter.updateClientSendingRate({});\r\n        this.standardRetryStrategy.recordSuccess(token);\r\n    }\r\n}\r\n", "import { DEFAULT_RETRY_DELAY_BASE } from \"./constants\";\r\nimport { StandardRetryStrategy } from \"./StandardRetryStrategy\";\r\nexport class ConfiguredRetryStrategy extends StandardRetryStrategy {\r\n    computeNextBackoffDelay;\r\n    constructor(maxAttempts, computeNextBackoffDelay = DEFAULT_RETRY_DELAY_BASE) {\r\n        super(typeof maxAttempts === \"function\" ? maxAttempts : async () => maxAttempts);\r\n        if (typeof computeNextBackoffDelay === \"number\") {\r\n            this.computeNextBackoffDelay = () => computeNextBackoffDelay;\r\n        }\r\n        else {\r\n            this.computeNextBackoffDelay = computeNextBackoffDelay;\r\n        }\r\n    }\r\n    async refreshRetryTokenForRetry(tokenToRenew, errorInfo) {\r\n        const token = await super.refreshRetryTokenForRetry(tokenToRenew, errorInfo);\r\n        token.getRetryDelay = () => this.computeNextBackoffDelay(token.getRetryCount());\r\n        return token;\r\n    }\r\n}\r\n", "export {};\r\n", "export * from \"./AdaptiveRetryStrategy\";\r\nexport * from \"./ConfiguredRetryStrategy\";\r\nexport * from \"./DefaultRateLimiter\";\r\nexport * from \"./StandardRetryStrategy\";\r\nexport * from \"./config\";\r\nexport * from \"./constants\";\r\nexport * from \"./types\";\r\n", "import { normalizeProvider } from \"@smithy/util-middleware\";\r\nimport { AdaptiveRetryStrategy, DEFAULT_MAX_ATTEMPTS, DEFAULT_RETRY_MODE, RETRY_MODES, StandardRetryStrategy, } from \"@smithy/util-retry\";\r\nexport const ENV_MAX_ATTEMPTS = \"AWS_MAX_ATTEMPTS\";\r\nexport const CONFIG_MAX_ATTEMPTS = \"max_attempts\";\r\nexport const NODE_MAX_ATTEMPT_CONFIG_OPTIONS = {\r\n    environmentVariableSelector: (env) => {\r\n        const value = env[ENV_MAX_ATTEMPTS];\r\n        if (!value)\r\n            return undefined;\r\n        const maxAttempt = parseInt(value);\r\n        if (Number.isNaN(maxAttempt)) {\r\n            throw new Error(`Environment variable ${ENV_MAX_ATTEMPTS} mast be a number, got \"${value}\"`);\r\n        }\r\n        return maxAttempt;\r\n    },\r\n    configFileSelector: (profile) => {\r\n        const value = profile[CONFIG_MAX_ATTEMPTS];\r\n        if (!value)\r\n            return undefined;\r\n        const maxAttempt = parseInt(value);\r\n        if (Number.isNaN(maxAttempt)) {\r\n            throw new Error(`Shared config file entry ${CONFIG_MAX_ATTEMPTS} mast be a number, got \"${value}\"`);\r\n        }\r\n        return maxAttempt;\r\n    },\r\n    default: DEFAULT_MAX_ATTEMPTS,\r\n};\r\nexport const resolveRetryConfig = (input) => {\r\n    const { retryStrategy, retryMode: _retryMode, maxAttempts: _maxAttempts } = input;\r\n    const maxAttempts = normalizeProvider(_maxAttempts ?? DEFAULT_MAX_ATTEMPTS);\r\n    return Object.assign(input, {\r\n        maxAttempts,\r\n        retryStrategy: async () => {\r\n            if (retryStrategy) {\r\n                return retryStrategy;\r\n            }\r\n            const retryMode = await normalizeProvider(_retryMode)();\r\n            if (retryMode === RETRY_MODES.ADAPTIVE) {\r\n                return new AdaptiveRetryStrategy(maxAttempts);\r\n            }\r\n            return new StandardRetryStrategy(maxAttempts);\r\n        },\r\n    });\r\n};\r\nexport const ENV_RETRY_MODE = \"AWS_RETRY_MODE\";\r\nexport const CONFIG_RETRY_MODE = \"retry_mode\";\r\nexport const NODE_RETRY_MODE_CONFIG_OPTIONS = {\r\n    environmentVariableSelector: (env) => env[ENV_RETRY_MODE],\r\n    configFileSelector: (profile) => profile[CONFIG_RETRY_MODE],\r\n    default: DEFAULT_RETRY_MODE,\r\n};\r\n", "export const isStreamingPayload = (request) => request?.body instanceof ReadableStream;\r\n", "export const asSdkError = (error) => {\r\n    if (error instanceof Error)\r\n        return error;\r\n    if (error instanceof Object)\r\n        return Object.assign(new Error(), error);\r\n    if (typeof error === \"string\")\r\n        return new Error(error);\r\n    return new Error(`AWS SDK error wrapper for ${error}`);\r\n};\r\n", "import { HttpRequest, HttpResponse } from \"@smithy/protocol-http\";\r\nimport { isServerError, isThrottlingError, isTransientError } from \"@smithy/service-error-classification\";\r\nimport { NoOpLogger } from \"@smithy/smithy-client\";\r\nimport { INVOCATION_ID_HEADER, REQUEST_HEADER } from \"@smithy/util-retry\";\r\nimport { v4 } from \"@smithy/uuid\";\r\nimport { isStreamingPayload } from \"./isStreamingPayload/isStreamingPayload\";\r\nimport { asSdkError } from \"./util\";\r\nexport const retryMiddleware = (options) => (next, context) => async (args) => {\r\n    let retryStrategy = await options.retryStrategy();\r\n    const maxAttempts = await options.maxAttempts();\r\n    if (isRetryStrategyV2(retryStrategy)) {\r\n        retryStrategy = retryStrategy;\r\n        let retryToken = await retryStrategy.acquireInitialRetryToken(context[\"partition_id\"]);\r\n        let lastError = new Error();\r\n        let attempts = 0;\r\n        let totalRetryDelay = 0;\r\n        const { request } = args;\r\n        const isRequest = HttpRequest.isInstance(request);\r\n        if (isRequest) {\r\n            request.headers[INVOCATION_ID_HEADER] = v4();\r\n        }\r\n        while (true) {\r\n            try {\r\n                if (isRequest) {\r\n                    request.headers[REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\r\n                }\r\n                const { response, output } = await next(args);\r\n                retryStrategy.recordSuccess(retryToken);\r\n                output.$metadata.attempts = attempts + 1;\r\n                output.$metadata.totalRetryDelay = totalRetryDelay;\r\n                return { response, output };\r\n            }\r\n            catch (e) {\r\n                const retryErrorInfo = getRetryErrorInfo(e);\r\n                lastError = asSdkError(e);\r\n                if (isRequest && isStreamingPayload(request)) {\r\n                    (context.logger instanceof NoOpLogger ? console : context.logger)?.warn(\"An error was encountered in a non-retryable streaming request.\");\r\n                    throw lastError;\r\n                }\r\n                try {\r\n                    retryToken = await retryStrategy.refreshRetryTokenForRetry(retryToken, retryErrorInfo);\r\n                }\r\n                catch (refreshError) {\r\n                    if (!lastError.$metadata) {\r\n                        lastError.$metadata = {};\r\n                    }\r\n                    lastError.$metadata.attempts = attempts + 1;\r\n                    lastError.$metadata.totalRetryDelay = totalRetryDelay;\r\n                    throw lastError;\r\n                }\r\n                attempts = retryToken.getRetryCount();\r\n                const delay = retryToken.getRetryDelay();\r\n                totalRetryDelay += delay;\r\n                await new Promise((resolve) => setTimeout(resolve, delay));\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        retryStrategy = retryStrategy;\r\n        if (retryStrategy?.mode)\r\n            context.userAgent = [...(context.userAgent || []), [\"cfg/retry-mode\", retryStrategy.mode]];\r\n        return retryStrategy.retry(next, args);\r\n    }\r\n};\r\nconst isRetryStrategyV2 = (retryStrategy) => typeof retryStrategy.acquireInitialRetryToken !== \"undefined\" &&\r\n    typeof retryStrategy.refreshRetryTokenForRetry !== \"undefined\" &&\r\n    typeof retryStrategy.recordSuccess !== \"undefined\";\r\nconst getRetryErrorInfo = (error) => {\r\n    const errorInfo = {\r\n        error,\r\n        errorType: getRetryErrorType(error),\r\n    };\r\n    const retryAfterHint = getRetryAfterHint(error.$response);\r\n    if (retryAfterHint) {\r\n        errorInfo.retryAfterHint = retryAfterHint;\r\n    }\r\n    return errorInfo;\r\n};\r\nconst getRetryErrorType = (error) => {\r\n    if (isThrottlingError(error))\r\n        return \"THROTTLING\";\r\n    if (isTransientError(error))\r\n        return \"TRANSIENT\";\r\n    if (isServerError(error))\r\n        return \"SERVER_ERROR\";\r\n    return \"CLIENT_ERROR\";\r\n};\r\nexport const retryMiddlewareOptions = {\r\n    name: \"retryMiddleware\",\r\n    tags: [\"RETRY\"],\r\n    step: \"finalizeRequest\",\r\n    priority: \"high\",\r\n    override: true,\r\n};\r\nexport const getRetryPlugin = (options) => ({\r\n    applyToStack: (clientStack) => {\r\n        clientStack.add(retryMiddleware(options), retryMiddlewareOptions);\r\n    },\r\n});\r\nexport const getRetryAfterHint = (response) => {\r\n    if (!HttpResponse.isInstance(response))\r\n        return;\r\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) => key.toLowerCase() === \"retry-after\");\r\n    if (!retryAfterHeaderName)\r\n        return;\r\n    const retryAfter = response.headers[retryAfterHeaderName];\r\n    const retryAfterSeconds = Number(retryAfter);\r\n    if (!Number.isNaN(retryAfterSeconds))\r\n        return new Date(retryAfterSeconds * 1000);\r\n    const retryAfterDate = new Date(retryAfter);\r\n    return retryAfterDate;\r\n};\r\n", "import { NO_RETRY_INCREMENT, RETRY_COST, TIMEOUT_RETRY_COST } from \"@smithy/util-retry\";\r\nexport const getDefaultRetryQuota = (initialRetryTokens, options) => {\r\n    const MAX_CAPACITY = initialRetryTokens;\r\n    const noRetryIncrement = options?.noRetryIncrement ?? NO_RETRY_INCREMENT;\r\n    const retryCost = options?.retryCost ?? RETRY_COST;\r\n    const timeoutRetryCost = options?.timeoutRetryCost ?? TIMEOUT_RETRY_COST;\r\n    let availableCapacity = initialRetryTokens;\r\n    const getCapacityAmount = (error) => (error.name === \"TimeoutError\" ? timeoutRetryCost : retryCost);\r\n    const hasRetryTokens = (error) => getCapacityAmount(error) <= availableCapacity;\r\n    const retrieveRetryTokens = (error) => {\r\n        if (!hasRetryTokens(error)) {\r\n            throw new Error(\"No retry token available\");\r\n        }\r\n        const capacityAmount = getCapacityAmount(error);\r\n        availableCapacity -= capacityAmount;\r\n        return capacityAmount;\r\n    };\r\n    const releaseRetryTokens = (capacityReleaseAmount) => {\r\n        availableCapacity += capacityReleaseAmount ?? noRetryIncrement;\r\n        availableCapacity = Math.min(availableCapacity, MAX_CAPACITY);\r\n    };\r\n    return Object.freeze({\r\n        hasRetryTokens,\r\n        retrieveRetryTokens,\r\n        releaseRetryTokens,\r\n    });\r\n};\r\n", "import { MAXIMUM_RETRY_DELAY } from \"@smithy/util-retry\";\r\nexport const defaultDelayDecider = (delayBase, attempts) => Math.floor(Math.min(MAXIMUM_RETRY_DELAY, Math.random() * 2 ** attempts * delayBase));\r\n", "import { isClockSkewError, isRetryableByTrait, isThrottlingError, isTransientError, } from \"@smithy/service-error-classification\";\r\nexport const defaultRetryDecider = (error) => {\r\n    if (!error) {\r\n        return false;\r\n    }\r\n    return isRetryableByTrait(error) || isClockSkewError(error) || isThrottlingError(error) || isTransientError(error);\r\n};\r\n", "import { HttpRequest, HttpResponse } from \"@smithy/protocol-http\";\r\nimport { isThrottlingError } from \"@smithy/service-error-classification\";\r\nimport { DEFAULT_MAX_ATTEMPTS, DEFAULT_RETRY_DELAY_BASE, INITIAL_RETRY_TOKENS, INVOCATION_ID_HEADER, REQUEST_HEADER, RETRY_MODES, THROTTLING_RETRY_DELAY_BASE, } from \"@smithy/util-retry\";\r\nimport { v4 } from \"@smithy/uuid\";\r\nimport { getDefaultRetryQuota } from \"./defaultRetryQuota\";\r\nimport { defaultDelayDecider } from \"./delayDecider\";\r\nimport { defaultRetryDecider } from \"./retryDecider\";\r\nimport { asSdkError } from \"./util\";\r\nexport class StandardRetryStrategy {\r\n    maxAttemptsProvider;\r\n    retryDecider;\r\n    delayDecider;\r\n    retryQuota;\r\n    mode = RETRY_MODES.STANDARD;\r\n    constructor(maxAttemptsProvider, options) {\r\n        this.maxAttemptsProvider = maxAttemptsProvider;\r\n        this.retryDecider = options?.retryDecider ?? defaultRetryDecider;\r\n        this.delayDecider = options?.delayDecider ?? defaultDelayDecider;\r\n        this.retryQuota = options?.retryQuota ?? getDefaultRetryQuota(INITIAL_RETRY_TOKENS);\r\n    }\r\n    shouldRetry(error, attempts, maxAttempts) {\r\n        return attempts < maxAttempts && this.retryDecider(error) && this.retryQuota.hasRetryTokens(error);\r\n    }\r\n    async getMaxAttempts() {\r\n        let maxAttempts;\r\n        try {\r\n            maxAttempts = await this.maxAttemptsProvider();\r\n        }\r\n        catch (error) {\r\n            maxAttempts = DEFAULT_MAX_ATTEMPTS;\r\n        }\r\n        return maxAttempts;\r\n    }\r\n    async retry(next, args, options) {\r\n        let retryTokenAmount;\r\n        let attempts = 0;\r\n        let totalDelay = 0;\r\n        const maxAttempts = await this.getMaxAttempts();\r\n        const { request } = args;\r\n        if (HttpRequest.isInstance(request)) {\r\n            request.headers[INVOCATION_ID_HEADER] = v4();\r\n        }\r\n        while (true) {\r\n            try {\r\n                if (HttpRequest.isInstance(request)) {\r\n                    request.headers[REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\r\n                }\r\n                if (options?.beforeRequest) {\r\n                    await options.beforeRequest();\r\n                }\r\n                const { response, output } = await next(args);\r\n                if (options?.afterRequest) {\r\n                    options.afterRequest(response);\r\n                }\r\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\r\n                output.$metadata.attempts = attempts + 1;\r\n                output.$metadata.totalRetryDelay = totalDelay;\r\n                return { response, output };\r\n            }\r\n            catch (e) {\r\n                const err = asSdkError(e);\r\n                attempts++;\r\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\r\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\r\n                    const delayFromDecider = this.delayDecider(isThrottlingError(err) ? THROTTLING_RETRY_DELAY_BASE : DEFAULT_RETRY_DELAY_BASE, attempts);\r\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\r\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\r\n                    totalDelay += delay;\r\n                    await new Promise((resolve) => setTimeout(resolve, delay));\r\n                    continue;\r\n                }\r\n                if (!err.$metadata) {\r\n                    err.$metadata = {};\r\n                }\r\n                err.$metadata.attempts = attempts;\r\n                err.$metadata.totalRetryDelay = totalDelay;\r\n                throw err;\r\n            }\r\n        }\r\n    }\r\n}\r\nconst getDelayFromRetryAfterHeader = (response) => {\r\n    if (!HttpResponse.isInstance(response))\r\n        return;\r\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) => key.toLowerCase() === \"retry-after\");\r\n    if (!retryAfterHeaderName)\r\n        return;\r\n    const retryAfter = response.headers[retryAfterHeaderName];\r\n    const retryAfterSeconds = Number(retryAfter);\r\n    if (!Number.isNaN(retryAfterSeconds))\r\n        return retryAfterSeconds * 1000;\r\n    const retryAfterDate = new Date(retryAfter);\r\n    return retryAfterDate.getTime() - Date.now();\r\n};\r\n", "import { DefaultRateLimiter, RETRY_MODES } from \"@smithy/util-retry\";\r\nimport { StandardRetryStrategy } from \"./StandardRetryStrategy\";\r\nexport class AdaptiveRetryStrategy extends StandardRetryStrategy {\r\n    rateLimiter;\r\n    constructor(maxAttemptsProvider, options) {\r\n        const { rateLimiter, ...superOptions } = options ?? {};\r\n        super(maxAttemptsProvider, superOptions);\r\n        this.rateLimiter = rateLimiter ?? new DefaultRateLimiter();\r\n        this.mode = RETRY_MODES.ADAPTIVE;\r\n    }\r\n    async retry(next, args) {\r\n        return super.retry(next, args, {\r\n            beforeRequest: async () => {\r\n                return this.rateLimiter.getSendToken();\r\n            },\r\n            afterRequest: (response) => {\r\n                this.rateLimiter.updateClientSendingRate(response);\r\n            },\r\n        });\r\n    }\r\n}\r\n", "import { HttpRequest } from \"@smithy/protocol-http\";\r\nimport { INVOCATION_ID_HEADER, REQUEST_HEADER } from \"@smithy/util-retry\";\r\nexport const omitRetryHeadersMiddleware = () => (next) => async (args) => {\r\n    const { request } = args;\r\n    if (HttpRequest.isInstance(request)) {\r\n        delete request.headers[INVOCATION_ID_HEADER];\r\n        delete request.headers[REQUEST_HEADER];\r\n    }\r\n    return next(args);\r\n};\r\nexport const omitRetryHeadersMiddlewareOptions = {\r\n    name: \"omitRetryHeadersMiddleware\",\r\n    tags: [\"RETRY\", \"HEADERS\", \"OMIT_RETRY_HEADERS\"],\r\n    relation: \"before\",\r\n    toMiddleware: \"awsAuthMiddleware\",\r\n    override: true,\r\n};\r\nexport const getOmitRetryHeadersPlugin = (options) => ({\r\n    applyToStack: (clientStack) => {\r\n        clientStack.addRelativeTo(omitRetryHeadersMiddleware(), omitRetryHeadersMiddlewareOptions);\r\n    },\r\n});\r\n", "export * from \"./AdaptiveRetryStrategy\";\r\nexport * from \"./StandardRetryStrategy\";\r\nexport * from \"./configurations\";\r\nexport * from \"./delayDecider\";\r\nexport * from \"./omitRetryHeadersMiddleware\";\r\nexport * from \"./retryDecider\";\r\nexport * from \"./retryMiddleware\";\r\n", "export const SHA_256_HASH: { name: \"SHA-256\" } = { name: \"SHA-256\" };\r\n\r\nexport const SHA_256_HMAC_ALGO: { name: \"HMAC\"; hash: { name: \"SHA-256\" } } = {\r\n  name: \"HMAC\",\r\n  hash: SHA_256_HASH\r\n};\r\n\r\nexport const EMPTY_DATA_SHA_256 = new Uint8Array([\r\n  227,\r\n  176,\r\n  196,\r\n  66,\r\n  152,\r\n  252,\r\n  28,\r\n  20,\r\n  154,\r\n  251,\r\n  244,\r\n  200,\r\n  153,\r\n  111,\r\n  185,\r\n  36,\r\n  39,\r\n  174,\r\n  65,\r\n  228,\r\n  100,\r\n  155,\r\n  147,\r\n  76,\r\n  164,\r\n  149,\r\n  153,\r\n  27,\r\n  120,\r\n  82,\r\n  184,\r\n  85\r\n]);\r\n", "const fallbackWindow = {};\r\nexport function locateWindow() {\r\n    if (typeof window !== \"undefined\") {\r\n        return window;\r\n    }\r\n    else if (typeof self !== \"undefined\") {\r\n        return self;\r\n    }\r\n    return fallbackWindow;\r\n}\r\n", "import { Checksum, SourceData } from \"@aws-sdk/types\";\r\nimport { isEmptyData, convertToBuffer } from \"@aws-crypto/util\";\r\nimport {\r\n  EMPTY_DATA_SHA_256,\r\n  SHA_256_HASH,\r\n  SHA_256_HMAC_ALGO,\r\n} from \"./constants\";\r\nimport { locateWindow } from \"@aws-sdk/util-locate-window\";\r\n\r\nexport class Sha256 implements Checksum {\r\n  private readonly secret?: SourceData;\r\n  private key: Promise<CryptoKey> | undefined;\r\n  private toHash: Uint8Array = new Uint8Array(0);\r\n\r\n  constructor(secret?: SourceData) {\r\n    this.secret = secret;\r\n    this.reset();\r\n  }\r\n\r\n  update(data: SourceData): void {\r\n    if (isEmptyData(data)) {\r\n      return;\r\n    }\r\n\r\n    const update = convertToBuffer(data);\r\n    const typedArray = new Uint8Array(\r\n      this.toHash.byteLength + update.byteLength\r\n    );\r\n    typedArray.set(this.toHash, 0);\r\n    typedArray.set(update, this.toHash.byteLength);\r\n    this.toHash = typedArray;\r\n  }\r\n\r\n  digest(): Promise<Uint8Array> {\r\n    if (this.key) {\r\n      return this.key.then((key) =>\r\n        locateWindow()\r\n          .crypto.subtle.sign(SHA_256_HMAC_ALGO, key, this.toHash)\r\n          .then((data) => new Uint8Array(data))\r\n      );\r\n    }\r\n\r\n    if (isEmptyData(this.toHash)) {\r\n      return Promise.resolve(EMPTY_DATA_SHA_256);\r\n    }\r\n\r\n    return Promise.resolve()\r\n      .then(() =>\r\n        locateWindow().crypto.subtle.digest(SHA_256_HASH, this.toHash)\r\n      )\r\n      .then((data) => Promise.resolve(new Uint8Array(data)));\r\n  }\r\n\r\n  reset(): void {\r\n    this.toHash = new Uint8Array(0);\r\n    if (this.secret && this.secret !== void 0) {\r\n      this.key = new Promise((resolve, reject) => {\r\n        locateWindow()\r\n            .crypto.subtle.importKey(\r\n            \"raw\",\r\n            convertToBuffer(this.secret as SourceData),\r\n            SHA_256_HMAC_ALGO,\r\n            false,\r\n            [\"sign\"]\r\n        )\r\n            .then(resolve, reject);\r\n      });\r\n      this.key.catch(() => {});\r\n    }\r\n  }\r\n}\r\n", "type SubtleCryptoMethod =\r\n  | \"decrypt\"\r\n  | \"digest\"\r\n  | \"encrypt\"\r\n  | \"exportKey\"\r\n  | \"generateKey\"\r\n  | \"importKey\"\r\n  | \"sign\"\r\n  | \"verify\";\r\n\r\nconst subtleCryptoMethods: Array<SubtleCryptoMethod> = [\r\n  \"decrypt\",\r\n  \"digest\",\r\n  \"encrypt\",\r\n  \"exportKey\",\r\n  \"generateKey\",\r\n  \"importKey\",\r\n  \"sign\",\r\n  \"verify\"\r\n];\r\n\r\nexport function supportsWebCrypto(window: Window): boolean {\r\n  if (\r\n    supportsSecureRandom(window) &&\r\n    typeof window.crypto.subtle === \"object\"\r\n  ) {\r\n    const { subtle } = window.crypto;\r\n\r\n    return supportsSubtleCrypto(subtle);\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nexport function supportsSecureRandom(window: Window): boolean {\r\n  if (typeof window === \"object\" && typeof window.crypto === \"object\") {\r\n    const { getRandomValues } = window.crypto;\r\n\r\n    return typeof getRandomValues === \"function\";\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nexport function supportsSubtleCrypto(subtle: SubtleCrypto) {\r\n  return (\r\n    subtle &&\r\n    subtleCryptoMethods.every(\r\n      methodName => typeof subtle[methodName] === \"function\"\r\n    )\r\n  );\r\n}\r\n\r\nexport async function supportsZeroByteGCM(subtle: SubtleCrypto) {\r\n  if (!supportsSubtleCrypto(subtle)) return false;\r\n  try {\r\n    const key = await subtle.generateKey(\r\n      { name: \"AES-GCM\", length: 128 },\r\n      false,\r\n      [\"encrypt\"]\r\n    );\r\n    const zeroByteAuthTag = await subtle.encrypt(\r\n      {\r\n        name: \"AES-GCM\",\r\n        iv: new Uint8Array(Array(12)),\r\n        additionalData: new Uint8Array(Array(16)),\r\n        tagLength: 128\r\n      },\r\n      key,\r\n      new Uint8Array(0)\r\n    );\r\n    return zeroByteAuthTag.byteLength === 16;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n", "export * from \"./supportsWebCrypto\";\r\n", "import { Sha256 as WebCryptoSha256 } from \"./webCryptoSha256\";\r\nimport { Sha256 as JsSha256 } from \"@aws-crypto/sha256-js\";\r\nimport { Checksum, SourceData } from \"@aws-sdk/types\";\r\nimport { supportsWebCrypto } from \"@aws-crypto/supports-web-crypto\";\r\nimport { locateWindow } from \"@aws-sdk/util-locate-window\";\r\nimport { convertToBuffer } from \"@aws-crypto/util\";\r\n\r\nexport class Sha256 implements Checksum {\r\n  private hash: Checksum;\r\n\r\n  constructor(secret?: SourceData) {\r\n    if (supportsWebCrypto(locateWindow())) {\r\n      this.hash = new WebCryptoSha256(secret);\r\n    } else {\r\n      this.hash = new JsSha256(secret);\r\n    }\r\n  }\r\n\r\n  update(data: SourceData, encoding?: \"utf8\" | \"ascii\" | \"latin1\"): void {\r\n    this.hash.update(convertToBuffer(data));\r\n  }\r\n\r\n  digest(): Promise<Uint8Array> {\r\n    return this.hash.digest();\r\n  }\r\n\r\n  reset(): void {\r\n    this.hash.reset();\r\n  }\r\n}\r\n", "export * from \"./crossPlatformSha256\";\r\nexport { Sha256 as WebCryptoSha256 } from \"./webCryptoSha256\";\r\n", "export const createUserAgentStringParsingProvider = ({ serviceId, clientVersion }) => async (config) => {\r\n    const module = await import(\"bowser\");\r\n    const parse = module.parse ?? module.default.parse ?? (() => \"\");\r\n    const parsedUA = typeof window !== \"undefined\" && window?.navigator?.userAgent ? parse(window.navigator.userAgent) : undefined;\r\n    const sections = [\r\n        [\"aws-sdk-js\", clientVersion],\r\n        [\"ua\", \"2.1\"],\r\n        [`os/${parsedUA?.os?.name || \"other\"}`, parsedUA?.os?.version],\r\n        [\"lang/js\"],\r\n        [\"md/browser\", `${parsedUA?.browser?.name ?? \"unknown\"}_${parsedUA?.browser?.version ?? \"unknown\"}`],\r\n    ];\r\n    if (serviceId) {\r\n        sections.push([`api/${serviceId}`, clientVersion]);\r\n    }\r\n    const appId = await config?.userAgentAppId?.();\r\n    if (appId) {\r\n        sections.push([`app/${appId}`]);\r\n    }\r\n    return sections;\r\n};\r\n", "export { createUserAgentStringParsingProvider } from \"./createUserAgentStringParsingProvider\";\r\nexport const createDefaultUserAgentProvider = ({ serviceId, clientVersion }) => async (config) => {\r\n    const navigator = typeof window !== \"undefined\" ? window.navigator : undefined;\r\n    const uaString = navigator?.userAgent ?? \"\";\r\n    const osName = navigator?.userAgentData?.platform ?? fallback.os(uaString) ?? \"other\";\r\n    const osVersion = undefined;\r\n    const brands = navigator?.userAgentData?.brands ?? [];\r\n    const brand = brands[brands.length - 1];\r\n    const browserName = brand?.brand ?? fallback.browser(uaString) ?? \"unknown\";\r\n    const browserVersion = brand?.version ?? \"unknown\";\r\n    const sections = [\r\n        [\"aws-sdk-js\", clientVersion],\r\n        [\"ua\", \"2.1\"],\r\n        [`os/${osName}`, osVersion],\r\n        [\"lang/js\"],\r\n        [\"md/browser\", `${browserName}_${browserVersion}`],\r\n    ];\r\n    if (serviceId) {\r\n        sections.push([`api/${serviceId}`, clientVersion]);\r\n    }\r\n    const appId = await config?.userAgentAppId?.();\r\n    if (appId) {\r\n        sections.push([`app/${appId}`]);\r\n    }\r\n    return sections;\r\n};\r\nexport const fallback = {\r\n    os(ua) {\r\n        if (/iPhone|iPad|iPod/.test(ua))\r\n            return \"iOS\";\r\n        if (/Macintosh|Mac OS X/.test(ua))\r\n            return \"macOS\";\r\n        if (/Windows NT/.test(ua))\r\n            return \"Windows\";\r\n        if (/Android/.test(ua))\r\n            return \"Android\";\r\n        if (/Linux/.test(ua))\r\n            return \"Linux\";\r\n        return undefined;\r\n    },\r\n    browser(ua) {\r\n        if (/EdgiOS|EdgA|Edg\\//.test(ua))\r\n            return \"Microsoft Edge\";\r\n        if (/Firefox\\//.test(ua))\r\n            return \"Firefox\";\r\n        if (/Chrome\\//.test(ua))\r\n            return \"Chrome\";\r\n        if (/Safari\\//.test(ua))\r\n            return \"Safari\";\r\n        return undefined;\r\n    },\r\n};\r\nexport const defaultUserAgent = createDefaultUserAgentProvider;\r\n", "export const invalidProvider = (message) => () => Promise.reject(message);\r\n", "export const invalidFunction = (message) => () => {\r\n    throw new Error(message);\r\n};\r\n", "export * from \"./invalidFunction\";\r\nexport * from \"./invalidProvider\";\r\n", "export const DEFAULTS_MODE_OPTIONS = [\"in-region\", \"cross-region\", \"mobile\", \"standard\", \"legacy\"];\r\n", "import { memoize } from \"@smithy/property-provider\";\r\nimport { DEFAULTS_MODE_OPTIONS } from \"./constants\";\r\nexport const resolveDefaultsModeConfig = ({ defaultsMode, } = {}) => memoize(async () => {\r\n    const mode = typeof defaultsMode === \"function\" ? await defaultsMode() : defaultsMode;\r\n    switch (mode?.toLowerCase()) {\r\n        case \"auto\":\r\n            return Promise.resolve(useMobileConfiguration() ? \"mobile\" : \"standard\");\r\n        case \"mobile\":\r\n        case \"in-region\":\r\n        case \"cross-region\":\r\n        case \"standard\":\r\n        case \"legacy\":\r\n            return Promise.resolve(mode?.toLocaleLowerCase());\r\n        case undefined:\r\n            return Promise.resolve(\"legacy\");\r\n        default:\r\n            throw new Error(`Invalid parameter for \"defaultsMode\", expect ${DEFAULTS_MODE_OPTIONS.join(\", \")}, got ${mode}`);\r\n    }\r\n});\r\nconst useMobileConfiguration = () => {\r\n    const navigator = window?.navigator;\r\n    if (navigator?.connection) {\r\n        const { effectiveType, rtt, downlink } = navigator?.connection;\r\n        const slow = (typeof effectiveType === \"string\" && effectiveType !== \"4g\") || Number(rtt) > 100 || Number(downlink) < 10;\r\n        if (slow) {\r\n            return true;\r\n        }\r\n    }\r\n    return (navigator?.userAgentData?.mobile || (typeof navigator?.maxTouchPoints === \"number\" && navigator?.maxTouchPoints > 1));\r\n};\r\n", "export * from \"./resolveDefaultsModeConfig\";\r\n", "export const getAwsRegionExtensionConfiguration = (runtimeConfig) => {\r\n    return {\r\n        setRegion(region) {\r\n            runtimeConfig.region = region;\r\n        },\r\n        region() {\r\n            return runtimeConfig.region;\r\n        },\r\n    };\r\n};\r\nexport const resolveAwsRegionExtensionConfiguration = (awsRegionExtensionConfiguration) => {\r\n    return {\r\n        region: awsRegionExtensionConfiguration.region(),\r\n    };\r\n};\r\n", "export function stsRegionDefaultResolver() {\r\n    return async () => \"us-east-1\";\r\n}\r\n", "export { REGION_ENV_NAME, REGION_INI_NAME, NODE_REGION_CONFIG_OPTIONS, NODE_REGION_CONFIG_FILE_OPTIONS, } from \"@smithy/config-resolver\";\r\nexport { resolveRegionConfig } from \"@smithy/config-resolver\";\r\n", "export * from \"./extensions\";\r\nexport * from \"./regionConfig/awsRegionConfig\";\r\nexport * from \"./regionConfig/stsRegionDefaultResolver\";\r\n"],
  "mappings": "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",
  "names": ["init_dist_es", "init_dist_es", "init_dist_es", "normalizeProvider", "init_dist_es", "init_dist_es", "hostname", "protocol", "group", "group", "init_dist_es", "init_isIpAddress", "init_dist_es", "init_dist_es", "init_isIpAddress", "partition", "partition", "init_dist_es", "init_dist_es", "init_dist_es", "init_dist_es", "init_resolveEndpoint", "init_dist_es", "init_EndpointError", "init_dist_es", "init_EndpointRuleObject", "init_ErrorRuleObject", "init_RuleSetObject", "init_TreeRuleObject", "init_shared", "init_types", "init_EndpointError", "init_EndpointRuleObject", "init_ErrorRuleObject", "init_RuleSetObject", "init_TreeRuleObject", "init_shared", "init_dist_es", "init_isIpAddress", "init_resolveEndpoint", "init_types", "setFeature", "init_dist_es", "init_utils", "init_dist_es", "init_utils", "init_dist_es", "init_utils", "init_dist_es", "normalizeProvider", "init_dist_es", "init_dist_es", "dataView", "init_dist_es", "init_dist_es", "init_dist_es", "init_dist_es", "init_dist_es", "init_cbor", "init_dist_es", "Error", "init_cbor", "toUtf8", "init_dist_es", "init_dist_es", "toUtf8", "data", "init_dist_es", "data", "init_dist_es", "init_dist_es", "init_dist_es", "init_dist_es", "toUtf8", "buffer", "value", "init_dist_es", "bytes", "data", "init_dist_es", "init_dist_es", "init_protocols", "init_dist_es", "init_protocols", "setFeature", "init_dist_es", "init_dist_es", "init_dist_es", "init_dist_es", "init_types", "SelectorType", "init_dist_es", "init_types", "init_dist_es", "init_dist_es", "init_dist_es", "init_dist_es", "init_dist_es", "init_dist_es", "partition", "init_dist_es", "init_dist_es", "init_dist_es", "init_dist_es", "init_types", "init_dist_es", "init_types", "init_config", "RETRY_MODES", "init_constants", "init_dist_es", "init_constants", "init_dist_es", "init_constants", "init_constants", "init_constants", "init_config", "init_constants", "init_config", "init_constants", "init_types", "init_dist_es", "init_config", "init_constants", "init_types", "init_configurations", "init_dist_es", "init_dist_es", "init_dist_es", "init_dist_es", "init_dist_es", "init_StandardRetryStrategy", "init_dist_es", "init_AdaptiveRetryStrategy", "init_dist_es", "init_StandardRetryStrategy", "init_dist_es", "init_dist_es", "init_AdaptiveRetryStrategy", "init_StandardRetryStrategy", "init_configurations", "init_constants", "init_dist_es", "Sha256", "init_constants", "init_dist_es", "data", "window", "init_module", "Sha256", "init_module", "init_dist_es", "data", "init_module", "init_dist_es", "init_dist_es", "init_constants", "init_constants", "init_dist_es", "init_dist_es", "init_dist_es"]
}
